function vS(s,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in s)){const u=Object.getOwnPropertyDescriptor(r,o);u&&Object.defineProperty(s,o,u.get?u:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function H1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var hm={exports:{}},zl={};var Mv;function ES(){if(Mv)return zl;Mv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var Vv;function TS(){return Vv||(Vv=1,hm.exports=ES()),hm.exports}var _=TS(),fm={exports:{}},Ae={};var kv;function AS(){if(kv)return Ae;kv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function B(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,P={};function K(M,W,ae){this.props=M,this.context=W,this.refs=P,this.updater=ae||$}K.prototype.isReactComponent={},K.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},K.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function oe(){}oe.prototype=K.prototype;function ne(M,W,ae){this.props=M,this.context=W,this.refs=P,this.updater=ae||$}var ie=ne.prototype=new oe;ie.constructor=ne,H(ie,K.prototype),ie.isPureReactComponent=!0;var Se=Array.isArray;function Ne(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function x(M,W,ae){var ce=ae.ref;return{$$typeof:s,type:M,key:W,ref:ce!==void 0?ce:null,props:ae}}function V(M,W){return x(M.type,W,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function j(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return W[ae]})}var C=/\/+/g;function at(M,W){return typeof M=="object"&&M!==null&&M.key!=null?j(""+M.key):W.toString(36)}function Mt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ne,Ne):(M.status="pending",M.then(function(W){M.status==="pending"&&(M.status="fulfilled",M.value=W)},function(W){M.status==="pending"&&(M.status="rejected",M.reason=W)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Y(M,W,ae,ce,Ee){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var Ue=!1;if(M===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(M.$$typeof){case s:case e:Ue=!0;break;case T:return Ue=M._init,Y(Ue(M._payload),W,ae,ce,Ee)}}if(Ue)return Ee=Ee(M),Ue=ce===""?"."+at(M,0):ce,Se(Ee)?(ae="",Ue!=null&&(ae=Ue.replace(C,"$&/")+"/"),Y(Ee,W,ae,"",function(yr){return yr})):Ee!=null&&(O(Ee)&&(Ee=V(Ee,ae+(Ee.key==null||M&&M.key===Ee.key?"":(""+Ee.key).replace(C,"$&/")+"/")+Ue)),W.push(Ee)),1;Ue=0;var Vt=ce===""?".":ce+":";if(Se(M))for(var ot=0;ot<M.length;ot++)ce=M[ot],Ce=Vt+at(ce,ot),Ue+=Y(ce,W,ae,Ce,Ee);else if(ot=B(M),typeof ot=="function")for(M=ot.call(M),ot=0;!(ce=M.next()).done;)ce=ce.value,Ce=Vt+at(ce,ot++),Ue+=Y(ce,W,ae,Ce,Ee);else if(Ce==="object"){if(typeof M.then=="function")return Y(Mt(M),W,ae,ce,Ee);throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function re(M,W,ae){if(M==null)return M;var ce=[],Ee=0;return Y(M,ce,"","",function(Ce){return W.call(ae,Ce,Ee++)}),ce}function ge(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var Be=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Qe={map:re,forEach:function(M,W,ae){re(M,function(){W.apply(this,arguments)},ae)},count:function(M){var W=0;return re(M,function(){W++}),W},toArray:function(M){return re(M,function(W){return W})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ae.Activity=b,Ae.Children=Qe,Ae.Component=K,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=ne,Ae.StrictMode=r,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Ae.cache=function(M){return function(){return M.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(M,W,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ce=H({},M.props),Ee=M.key;if(W!=null)for(Ce in W.key!==void 0&&(Ee=""+W.key),W)!R.call(W,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&W.ref===void 0||(ce[Ce]=W[Ce]);var Ce=arguments.length-2;if(Ce===1)ce.children=ae;else if(1<Ce){for(var Ue=Array(Ce),Vt=0;Vt<Ce;Vt++)Ue[Vt]=arguments[Vt+2];ce.children=Ue}return x(M.type,Ee,ce)},Ae.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ae.createElement=function(M,W,ae){var ce,Ee={},Ce=null;if(W!=null)for(ce in W.key!==void 0&&(Ce=""+W.key),W)R.call(W,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Ee[ce]=W[ce]);var Ue=arguments.length-2;if(Ue===1)Ee.children=ae;else if(1<Ue){for(var Vt=Array(Ue),ot=0;ot<Ue;ot++)Vt[ot]=arguments[ot+2];Ee.children=Vt}if(M&&M.defaultProps)for(ce in Ue=M.defaultProps,Ue)Ee[ce]===void 0&&(Ee[ce]=Ue[ce]);return x(M,Ce,Ee)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:m,render:M}},Ae.isValidElement=O,Ae.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:ge}},Ae.memo=function(M,W){return{$$typeof:y,type:M,compare:W===void 0?null:W}},Ae.startTransition=function(M){var W=N.T,ae={};N.T=ae;try{var ce=M(),Ee=N.S;Ee!==null&&Ee(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ne,Be)}catch(Ce){Be(Ce)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),N.T=W}},Ae.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ae.use=function(M){return N.H.use(M)},Ae.useActionState=function(M,W,ae){return N.H.useActionState(M,W,ae)},Ae.useCallback=function(M,W){return N.H.useCallback(M,W)},Ae.useContext=function(M){return N.H.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M,W){return N.H.useDeferredValue(M,W)},Ae.useEffect=function(M,W){return N.H.useEffect(M,W)},Ae.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Ae.useId=function(){return N.H.useId()},Ae.useImperativeHandle=function(M,W,ae){return N.H.useImperativeHandle(M,W,ae)},Ae.useInsertionEffect=function(M,W){return N.H.useInsertionEffect(M,W)},Ae.useLayoutEffect=function(M,W){return N.H.useLayoutEffect(M,W)},Ae.useMemo=function(M,W){return N.H.useMemo(M,W)},Ae.useOptimistic=function(M,W){return N.H.useOptimistic(M,W)},Ae.useReducer=function(M,W,ae){return N.H.useReducer(M,W,ae)},Ae.useRef=function(M){return N.H.useRef(M)},Ae.useState=function(M){return N.H.useState(M)},Ae.useSyncExternalStore=function(M,W,ae){return N.H.useSyncExternalStore(M,W,ae)},Ae.useTransition=function(){return N.H.useTransition()},Ae.version="19.2.4",Ae}var jv;function up(){return jv||(jv=1,fm.exports=AS()),fm.exports}var te=up();const F1=H1(te),bS=vS({__proto__:null,default:F1},[te]);var dm={exports:{}},Bl={},mm={exports:{}},pm={};var Pv;function SS(){return Pv||(Pv=1,(function(s){function e(Y,re){var ge=Y.length;Y.push(re);e:for(;0<ge;){var Be=ge-1>>>1,Qe=Y[Be];if(0<o(Qe,re))Y[Be]=re,Y[ge]=Qe,ge=Be;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var re=Y[0],ge=Y.pop();if(ge!==re){Y[0]=ge;e:for(var Be=0,Qe=Y.length,M=Qe>>>1;Be<M;){var W=2*(Be+1)-1,ae=Y[W],ce=W+1,Ee=Y[ce];if(0>o(ae,ge))ce<Qe&&0>o(Ee,ae)?(Y[Be]=Ee,Y[ce]=ge,Be=ce):(Y[Be]=ae,Y[W]=ge,Be=W);else if(ce<Qe&&0>o(Ee,ge))Y[Be]=Ee,Y[ce]=ge,Be=ce;else break e}}return re}function o(Y,re){var ge=Y.sortIndex-re.sortIndex;return ge!==0?ge:Y.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var p=[],y=[],T=1,b=null,w=3,B=!1,$=!1,H=!1,P=!1,K=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ie(Y){for(var re=n(y);re!==null;){if(re.callback===null)r(y);else if(re.startTime<=Y)r(y),re.sortIndex=re.expirationTime,e(p,re);else break;re=n(y)}}function Se(Y){if(H=!1,ie(Y),!$)if(n(p)!==null)$=!0,Ne||(Ne=!0,j());else{var re=n(y);re!==null&&Mt(Se,re.startTime-Y)}}var Ne=!1,N=-1,R=5,x=-1;function V(){return P?!0:!(s.unstable_now()-x<R)}function O(){if(P=!1,Ne){var Y=s.unstable_now();x=Y;var re=!0;try{e:{$=!1,H&&(H=!1,oe(N),N=-1),B=!0;var ge=w;try{t:{for(ie(Y),b=n(p);b!==null&&!(b.expirationTime>Y&&V());){var Be=b.callback;if(typeof Be=="function"){b.callback=null,w=b.priorityLevel;var Qe=Be(b.expirationTime<=Y);if(Y=s.unstable_now(),typeof Qe=="function"){b.callback=Qe,ie(Y),re=!0;break t}b===n(p)&&r(p),ie(Y)}else r(p);b=n(p)}if(b!==null)re=!0;else{var M=n(y);M!==null&&Mt(Se,M.startTime-Y),re=!1}}break e}finally{b=null,w=ge,B=!1}re=void 0}}finally{re?j():Ne=!1}}}var j;if(typeof ne=="function")j=function(){ne(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,at=C.port2;C.port1.onmessage=O,j=function(){at.postMessage(null)}}else j=function(){K(O,0)};function Mt(Y,re){N=K(function(){Y(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var ge=w;w=re;try{return Y()}finally{w=ge}},s.unstable_requestPaint=function(){P=!0},s.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=w;w=Y;try{return re()}finally{w=ge}},s.unstable_scheduleCallback=function(Y,re,ge){var Be=s.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Be+ge:Be):ge=Be,Y){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=ge+Qe,Y={id:T++,callback:re,priorityLevel:Y,startTime:ge,expirationTime:Qe,sortIndex:-1},ge>Be?(Y.sortIndex=ge,e(y,Y),n(p)===null&&Y===n(y)&&(H?(oe(N),N=-1):H=!0,Mt(Se,ge-Be))):(Y.sortIndex=Qe,e(p,Y),$||B||($=!0,Ne||(Ne=!0,j()))),Y},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(Y){var re=w;return function(){var ge=w;w=re;try{return Y.apply(this,arguments)}finally{w=ge}}}})(pm)),pm}var Lv;function wS(){return Lv||(Lv=1,mm.exports=SS()),mm.exports}var gm={exports:{}},Jt={};var Uv;function RS(){if(Uv)return Jt;Uv=1;var s=up();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:T}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Jt.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,T)},Jt.flushSync=function(p){var y=f.T,T=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=y,r.p=T,r.d.f()}},Jt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},Jt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Jt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,b=m(T,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:B}):T==="script"&&r.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Jt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},Jt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=m(T,y.crossOrigin);r.d.L(p,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Jt.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},Jt.requestFormReset=function(p){r.d.r(p)},Jt.unstable_batchedUpdates=function(p,y){return p(y)},Jt.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},Jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jt.version="19.2.4",Jt}var zv;function G1(){if(zv)return gm.exports;zv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),gm.exports=RS(),gm.exports}var Bv;function CS(){if(Bv)return Bl;Bv=1;var s=wS(),e=up(),n=G1();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,A=h.child;A;){if(A===a){v=!0,a=h,l=d;break}if(A===l){v=!0,l=h,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,l=h;break}if(A===l){v=!0,l=d,a=h;break}A=A.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),oe=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case K:return"Profiler";case P:return"StrictMode";case Se:return"Suspense";case Ne:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case ne:return t.displayName||"Context";case oe:return(t._context.displayName||"Context")+".Consumer";case ie:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:at(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return at(t(i))}catch{}}return null}var Mt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Be=[],Qe=-1;function M(t){return{current:t}}function W(t){0>Qe||(t.current=Be[Qe],Be[Qe]=null,Qe--)}function ae(t,i){Qe++,Be[Qe]=t.current,t.current=i}var ce=M(null),Ee=M(null),Ce=M(null),Ue=M(null);function Vt(t,i){switch(ae(Ce,i),ae(Ee,t),ae(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?nv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=nv(i),t=iv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ce),ae(ce,t)}function ot(){W(ce),W(Ee),W(Ce)}function yr(t){t.memoizedState!==null&&ae(Ue,t);var i=ce.current,a=iv(i,t.type);i!==a&&(ae(Ee,t),ae(ce,a))}function ma(t){Ee.current===t&&(W(ce),W(Ee)),Ue.current===t&&(W(Ue),jl._currentValue=ge)}var pa,ga;function ii(t){if(pa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);pa=i&&i[1]||"",ga=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pa+t+ga}var jo=!1;function vr(t,i){if(!t||jo)return"";jo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var q=G}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(G){q=G}t.call(Z.prototype)}}else{try{throw Error()}catch(G){q=G}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var I=v.split(`
`),z=A.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{jo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ii(a):""}function Po(t,i){switch(t.tag){case 26:case 27:case 5:return ii(t.type);case 16:return ii("Lazy");case 13:return t.child!==i&&i!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return vr(t.type,!1);case 11:return vr(t.type.render,!1);case 1:return vr(t.type,!0);case 31:return ii("Activity");default:return""}}function Lo(t){try{var i="",a=null;do i+=Po(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,kt=s.unstable_scheduleCallback,ds=s.unstable_cancelCallback,df=s.unstable_shouldYield,xu=s.unstable_requestPaint,nn=s.unstable_now,Er=s.unstable_getCurrentPriorityLevel,Uo=s.unstable_ImmediatePriority,zo=s.unstable_UserBlockingPriority,ms=s.unstable_NormalPriority,mf=s.unstable_LowPriority,Du=s.unstable_IdlePriority,Ou=s.log,Mu=s.unstable_setDisableYieldValue,zn=null,qt=null;function Rn(t){if(typeof Ou=="function"&&Mu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(zn,t)}catch{}}var dt=Math.clz32?Math.clz32:ku,Vu=Math.log,_a=Math.LN2;function ku(t){return t>>>=0,t===0?32:31-(Vu(t)/_a|0)|0}var si=256,Tr=262144,Tt=4194304;function ri(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ai(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=ri(l):(v&=A,v!==0?h=ri(v):a||(a=A&~t,a!==0&&(h=ri(a))))):(A=l&~d,A!==0?h=ri(A):v!==0?h=ri(v):a||(a=l&~t,a!==0&&(h=ri(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Bn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function pf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ju(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function oi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ar(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gf(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-dt(a),Z=1<<Q;A[Q]=0,I[Q]=-1;var q=z[Q];if(q!==null)for(z[Q]=null,Q=0;Q<q.length;Q++){var G=q[Q];G!==null&&(G.lane&=-536870913)}a&=~Z}l!==0&&br(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function br(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Bo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function qo(t,i){var a=i&-i;return a=(a&42)!==0?1:Sr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Li(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pu(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:Rv(t.type))}function qn(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var Hn=Math.random().toString(36).slice(2),At="__reactFiber$"+Hn,Lt="__reactProps$"+Hn,li="__reactContainer$"+Hn,ya="__reactEvents$"+Hn,_f="__reactListeners$"+Hn,Lu="__reactHandles$"+Hn,Uu="__reactResources$"+Hn,ui="__reactMarker$"+Hn;function va(t){delete t[At],delete t[Lt],delete t[ya],delete t[_f],delete t[Lu]}function ci(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[li]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=cv(t);t!==null;){if(a=t[At])return a;t=cv(t)}return i}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[At]||t[li]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function hi(t){var i=t[Uu];return i||(i=t[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(t){t[ui]=!0}var Ho=new Set,Fo={};function fi(t,i){di(t,i),di(t+"Capture",i)}function di(t,i){for(Fo[t]=i,t=0;t<i.length;t++)Ho.add(i[t])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},Qo={};function zu(t){return Et.call(Qo,t)?!0:Et.call(Ko,t)?!1:Go.test(t)?Qo[t]=!0:(Ko[t]=!0,!1)}function Ea(t,i,a){if(zu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ps(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=ps(t)?"checked":"value";t._valueTracker=Yo(t,i,""+t[i])}}function wr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ps(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rr=/[\n"\\]/g;function an(t){return t.replace(Rr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ta(t,i,a,l,h,d,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ut(i)):t.value!==""+Ut(i)&&(t.value=""+Ut(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?$o(t,v,Ut(i)):a!=null?$o(t,v,Ut(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Ut(A):t.removeAttribute("name")}function Bu(t,i,a,l,h,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+Ut(a):"",i=i!=null?""+Ut(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ye(t)}function $o(t,i,a){i==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function gs(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function qu(t,i,a){if(i!=null&&(i=""+Ut(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ut(a):""}function _s(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Mt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ut(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Hu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Jo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Xo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Xo(t,d,i[d])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return ys.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var Zo=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vs=null,pi=null;function Cr(t){var i=Cn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ta(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(r(90));Ta(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&wr(l)}break e;case"textarea":qu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&gs(t,!!a.multiple,i,!1)}}}var Sa=!1;function Es(t,i,a){if(Sa)return t(i,a);Sa=!0;try{var l=t(i);return l}finally{if(Sa=!1,(vs!==null||pi!==null)&&(Pc(),vs&&(i=vs,t=pi,pi=vs=null,Cr(i),t)))for(i=0;i<t.length;i++)Cr(t[i])}}function Gn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(Nn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Ir=!1}var gi=null,Wo=null,Nr=null;function el(){if(Nr)return Nr;var t,i=Wo,a=i.length,l,h="value"in gi?gi.value:gi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Nr=h.slice(t,1<l?1-l:void 0)}function xr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function Kn(){return!1}function Ht(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ui:Kn,this.isPropagationStopped=Kn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),i}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Ht(zi),Ts=b({},zi,{view:0,detail:0}),tl=Ht(Ts),As,wa,yi,Ra=b({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yi&&(yi&&t.type==="mousemove"?(As=t.screenX-yi.screenX,wa=t.screenY-yi.screenY):wa=As=0,yi=t),As)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),nl=Ht(Ra),Dr=b({},Ra,{dataTransfer:0}),Gu=Ht(Dr),Ku=b({},Ts,{relatedTarget:0}),Or=Ht(Ku),il=b({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Qu=Ht(il),Ca=b({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yu=Ht(Ca),$u=b({},zi,{data:0}),vi=Ht($u),Xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Zu[t])?!!i[t]:!1}function bs(){return Wu}var sn=b({},Ts,{key:function(t){if(t.key){var i=Xu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=xr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ju[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(t){return t.type==="keypress"?xr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ec=Ht(sn),tc=b({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Ht(tc),c=b({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),g=Ht(c),E=b({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ht(E),L=b({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Ht(L),se=b({},zi,{newState:0,oldState:0}),we=Ht(se),mt=[9,13,27,32],Fe=Nn&&"CompositionEvent"in window,lt=null;Nn&&"documentMode"in document&&(lt=document.documentMode);var xn=Nn&&"TextEvent"in window&&!lt,Ei=Nn&&(!Fe||lt&&8<lt&&11>=lt),Qn=" ",Yn=!1;function Mr(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function HA(t,i){switch(t){case"compositionend":return Ia(i);case"keypress":return i.which!==32?null:(Yn=!0,Qn);case"textInput":return t=i.data,t===Qn&&Yn?null:t;default:return null}}function FA(t,i){if(Na)return t==="compositionend"||!Fe&&Mr(t,i)?(t=el(),Nr=Wo=gi=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ei&&i.locale!=="ko"?null:i.data;default:return null}}var GA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!GA[t.type]:i==="textarea"}function mg(t,i,a,l){vs?pi?pi.push(l):pi=[l]:vs=l,i=Fc(i,"onChange"),0<i.length&&(a=new _i("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var sl=null,rl=null;function KA(t){Xy(t,0)}function nc(t){var i=pn(t);if(wr(i))return t}function pg(t,i){if(t==="change")return i}var gg=!1;if(Nn){var yf;if(Nn){var vf="oninput"in document;if(!vf){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),vf=typeof _g.oninput=="function"}yf=vf}else yf=!1;gg=yf&&(!document.documentMode||9<document.documentMode)}function yg(){sl&&(sl.detachEvent("onpropertychange",vg),rl=sl=null)}function vg(t){if(t.propertyName==="value"&&nc(rl)){var i=[];mg(i,rl,t,In(t)),Es(KA,i)}}function QA(t,i,a){t==="focusin"?(yg(),sl=i,rl=a,sl.attachEvent("onpropertychange",vg)):t==="focusout"&&yg()}function YA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nc(rl)}function $A(t,i){if(t==="click")return nc(i)}function XA(t,i){if(t==="input"||t==="change")return nc(i)}function JA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:JA;function al(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function Eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tg(t,i){var a=Eg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Eg(a)}}function Ag(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ag(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=mi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=mi(t.document)}return i}function Ef(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var ZA=Nn&&"documentMode"in document&&11>=document.documentMode,xa=null,Tf=null,ol=null,Af=!1;function Sg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Af||xa==null||xa!==mi(l)||(l=xa,"selectionStart"in l&&Ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Fc(Tf,"onSelect"),0<l.length&&(i=new _i("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=xa)))}function Vr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Da={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},bf={},wg={};Nn&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function kr(t){if(bf[t])return bf[t];if(!Da[t])return t;var i=Da[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in wg)return bf[t]=i[a];return t}var Rg=kr("animationend"),Cg=kr("animationiteration"),Ig=kr("animationstart"),WA=kr("transitionrun"),eb=kr("transitionstart"),tb=kr("transitioncancel"),Ng=kr("transitionend"),xg=new Map,Sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sf.push("scrollEnd");function $n(t,i){xg.set(t,i),fi(i,[t])}var ic=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],Oa=0,wf=0;function sc(){for(var t=Oa,i=wf=Oa=0;i<t;){var a=Dn[i];Dn[i++]=null;var l=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Dg(a,h,d)}}function rc(t,i,a,l){Dn[Oa++]=t,Dn[Oa++]=i,Dn[Oa++]=a,Dn[Oa++]=l,wf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Rf(t,i,a,l){return rc(t,i,a,l),ac(t)}function jr(t,i){return rc(t,null,null,i),ac(t)}function Dg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-dt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ac(t){if(50<Nl)throw Nl=0,kd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ma={};function nb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,a,l){return new nb(t,i,a,l)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,i){var a=t.alternate;return a===null?(a=yn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Og(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function oc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Cf(t)&&(v=1);else if(typeof t=="string")v=oS(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=yn(31,a,i,h),t.elementType=x,t.lanes=d,t;case H:return Pr(a.children,h,d,i);case P:v=8,h|=24;break;case K:return t=yn(12,a,i,h|2),t.elementType=K,t.lanes=d,t;case Se:return t=yn(13,a,i,h),t.elementType=Se,t.lanes=d,t;case Ne:return t=yn(19,a,i,h),t.elementType=Ne,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:v=10;break e;case oe:v=9;break e;case ie:v=11;break e;case N:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=yn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Pr(t,i,a,l){return t=yn(7,t,l,i),t.lanes=a,t}function If(t,i,a){return t=yn(6,t,null,i),t.lanes=a,t}function Mg(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function Nf(t,i,a){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Vg=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=Vg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Lo(i)},Vg.set(t,i),i)}return{value:t,source:i,stack:Lo(i)}}var Va=[],ka=0,lc=null,ll=0,Mn=[],Vn=0,Ss=null,Ti=1,Ai="";function Hi(t,i){Va[ka++]=ll,Va[ka++]=lc,lc=t,ll=i}function kg(t,i,a){Mn[Vn++]=Ti,Mn[Vn++]=Ai,Mn[Vn++]=Ss,Ss=t;var l=Ti;t=Ai;var h=32-dt(l)-1;l&=~(1<<h),a+=1;var d=32-dt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ti=1<<32-dt(i)+h|a<<h|l,Ai=d+t}else Ti=1<<d|a<<h|l,Ai=t}function xf(t){t.return!==null&&(Hi(t,1),kg(t,1,0))}function Df(t){for(;t===lc;)lc=Va[--ka],Va[ka]=null,ll=Va[--ka],Va[ka]=null;for(;t===Ss;)Ss=Mn[--Vn],Mn[Vn]=null,Ai=Mn[--Vn],Mn[Vn]=null,Ti=Mn[--Vn],Mn[Vn]=null}function jg(t,i){Mn[Vn++]=Ti,Mn[Vn++]=Ai,Mn[Vn++]=Ss,Ti=i.id,Ai=i.overflow,Ss=t}var Ft=null,it=null,Le=!1,ws=null,kn=!1,Of=Error(r(519));function Rs(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(On(i,t)),Of}function Pg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[At]=t,i[Lt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<Dl.length;a++)De(Dl[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),Bu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),_s(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||ev(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Fn),i=!0):i=!1,i||Rs(t,!0)}function Lg(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Ft=Ft.return}}function ja(t){if(t!==Ft)return!1;if(!Le)return Lg(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xd(t.type,t.memoizedProps)),a=!a),a&&it&&Rs(t),Lg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=uv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=uv(t)}else i===27?(i=it,zs(t.type)?(t=tm,tm=null,it=t):it=i):it=Ft?Pn(t.stateNode.nextSibling):null;return!0}function Lr(){it=Ft=null,Le=!1}function Mf(){var t=ws;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),ws=null),t}function ul(t){ws===null?ws=[t]:ws.push(t)}var Vf=M(null),Ur=null,Fi=null;function Cs(t,i,a){ae(Vf,i._currentValue),i._currentValue=a}function Gi(t){t._currentValue=Vf.current,W(Vf)}function kf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function jf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var I=0;I<i.length;I++)if(A.context===i[I]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),kf(d.return,a,t),l||(v=null);break e}d=A.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),kf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Pa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var A=h.type;_n(h.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(h===Ue.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}h=h.return}t!==null&&jf(i,t,a,l),i.flags|=262144}function uc(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zr(t){Ur=t,Fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Ug(Ur,t)}function cc(t,i){return Ur===null&&zr(t),Ug(t,i)}function Ug(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fi===null){if(t===null)throw Error(r(308));Fi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Fi=Fi.next=i;return a}var ib=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},sb=s.unstable_scheduleCallback,rb=s.unstable_NormalPriority,wt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new ib,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&sb(rb,function(){t.controller.abort()})}var hl=null,Lf=0,La=0,Ua=null;function ab(t,i){if(hl===null){var a=hl=[];Lf=0,La=Bd(),Ua={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Lf++,i.then(zg,zg),i}function zg(){if(--Lf===0&&hl!==null){Ua!==null&&(Ua.status="fulfilled");var t=hl;hl=null,La=0,Ua=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function ob(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Bg=Y.S;Y.S=function(t,i){Sy=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ab(t,i),Bg!==null&&Bg(t,i)};var Br=M(null);function Uf(){var t=Br.current;return t!==null?t:tt.pooledCache}function hc(t,i){i===null?ae(Br,Br.current):ae(Br,i.pool)}function qg(){var t=Uf();return t===null?null:{parent:wt._currentValue,pool:t}}var za=Error(r(460)),zf=Error(r(474)),fc=Error(r(542)),dc={then:function(){}};function Hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Fn,Fn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t;default:if(typeof i.status=="string")i.then(Fn,Fn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t}throw Hr=i,za}}function qr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hr=a,za):a}}var Hr=null;function Gg(){if(Hr===null)throw Error(r(459));var t=Hr;return Hr=null,t}function Kg(t){if(t===za||t===fc)throw Error(r(483))}var Ba=null,fl=0;function mc(t){var i=fl;return fl+=1,Ba===null&&(Ba=[]),Fg(Ba,t,i)}function dl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function pc(t,i){throw i.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Qg(t){function i(k,D){if(t){var U=k.deletions;U===null?(k.deletions=[D],k.flags|=16):U.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)i(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=qi(k,D),k.index=0,k.sibling=null,k}function d(k,D,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<D?(k.flags|=67108866,D):U):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function v(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function A(k,D,U,X){return D===null||D.tag!==6?(D=If(U,k.mode,X),D.return=k,D):(D=h(D,U),D.return=k,D)}function I(k,D,U,X){var de=U.type;return de===H?Q(k,D,U.props.children,X,U.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&qr(de)===D.type)?(D=h(D,U.props),dl(D,U),D.return=k,D):(D=oc(U.type,U.key,U.props,null,k.mode,X),dl(D,U),D.return=k,D)}function z(k,D,U,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Nf(U,k.mode,X),D.return=k,D):(D=h(D,U.children||[]),D.return=k,D)}function Q(k,D,U,X,de){return D===null||D.tag!==7?(D=Pr(U,k.mode,X,de),D.return=k,D):(D=h(D,U),D.return=k,D)}function Z(k,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=If(""+D,k.mode,U),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case B:return U=oc(D.type,D.key,D.props,null,k.mode,U),dl(U,D),U.return=k,U;case $:return D=Nf(D,k.mode,U),D.return=k,D;case R:return D=qr(D),Z(k,D,U)}if(Mt(D)||j(D))return D=Pr(D,k.mode,U,null),D.return=k,D;if(typeof D.then=="function")return Z(k,mc(D),U);if(D.$$typeof===ne)return Z(k,cc(k,D),U);pc(k,D)}return null}function q(k,D,U,X){var de=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return de!==null?null:A(k,D,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case B:return U.key===de?I(k,D,U,X):null;case $:return U.key===de?z(k,D,U,X):null;case R:return U=qr(U),q(k,D,U,X)}if(Mt(U)||j(U))return de!==null?null:Q(k,D,U,X,null);if(typeof U.then=="function")return q(k,D,mc(U),X);if(U.$$typeof===ne)return q(k,D,cc(k,U),X);pc(k,U)}return null}function G(k,D,U,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(U)||null,A(D,k,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case B:return k=k.get(X.key===null?U:X.key)||null,I(D,k,X,de);case $:return k=k.get(X.key===null?U:X.key)||null,z(D,k,X,de);case R:return X=qr(X),G(k,D,U,X,de)}if(Mt(X)||j(X))return k=k.get(U)||null,Q(D,k,X,de,null);if(typeof X.then=="function")return G(k,D,U,mc(X),de);if(X.$$typeof===ne)return G(k,D,U,cc(D,X),de);pc(D,X)}return null}function he(k,D,U,X){for(var de=null,qe=null,fe=D,Ie=D=0,Ve=null;fe!==null&&Ie<U.length;Ie++){fe.index>Ie?(Ve=fe,fe=null):Ve=fe.sibling;var He=q(k,fe,U[Ie],X);if(He===null){fe===null&&(fe=Ve);break}t&&fe&&He.alternate===null&&i(k,fe),D=d(He,D,Ie),qe===null?de=He:qe.sibling=He,qe=He,fe=Ve}if(Ie===U.length)return a(k,fe),Le&&Hi(k,Ie),de;if(fe===null){for(;Ie<U.length;Ie++)fe=Z(k,U[Ie],X),fe!==null&&(D=d(fe,D,Ie),qe===null?de=fe:qe.sibling=fe,qe=fe);return Le&&Hi(k,Ie),de}for(fe=l(fe);Ie<U.length;Ie++)Ve=G(fe,k,Ie,U[Ie],X),Ve!==null&&(t&&Ve.alternate!==null&&fe.delete(Ve.key===null?Ie:Ve.key),D=d(Ve,D,Ie),qe===null?de=Ve:qe.sibling=Ve,qe=Ve);return t&&fe.forEach(function(Gs){return i(k,Gs)}),Le&&Hi(k,Ie),de}function _e(k,D,U,X){if(U==null)throw Error(r(151));for(var de=null,qe=null,fe=D,Ie=D=0,Ve=null,He=U.next();fe!==null&&!He.done;Ie++,He=U.next()){fe.index>Ie?(Ve=fe,fe=null):Ve=fe.sibling;var Gs=q(k,fe,He.value,X);if(Gs===null){fe===null&&(fe=Ve);break}t&&fe&&Gs.alternate===null&&i(k,fe),D=d(Gs,D,Ie),qe===null?de=Gs:qe.sibling=Gs,qe=Gs,fe=Ve}if(He.done)return a(k,fe),Le&&Hi(k,Ie),de;if(fe===null){for(;!He.done;Ie++,He=U.next())He=Z(k,He.value,X),He!==null&&(D=d(He,D,Ie),qe===null?de=He:qe.sibling=He,qe=He);return Le&&Hi(k,Ie),de}for(fe=l(fe);!He.done;Ie++,He=U.next())He=G(fe,k,Ie,He.value,X),He!==null&&(t&&He.alternate!==null&&fe.delete(He.key===null?Ie:He.key),D=d(He,D,Ie),qe===null?de=He:qe.sibling=He,qe=He);return t&&fe.forEach(function(yS){return i(k,yS)}),Le&&Hi(k,Ie),de}function et(k,D,U,X){if(typeof U=="object"&&U!==null&&U.type===H&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case B:e:{for(var de=U.key;D!==null;){if(D.key===de){if(de=U.type,de===H){if(D.tag===7){a(k,D.sibling),X=h(D,U.props.children),X.return=k,k=X;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&qr(de)===D.type){a(k,D.sibling),X=h(D,U.props),dl(X,U),X.return=k,k=X;break e}a(k,D);break}else i(k,D);D=D.sibling}U.type===H?(X=Pr(U.props.children,k.mode,X,U.key),X.return=k,k=X):(X=oc(U.type,U.key,U.props,null,k.mode,X),dl(X,U),X.return=k,k=X)}return v(k);case $:e:{for(de=U.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){a(k,D.sibling),X=h(D,U.children||[]),X.return=k,k=X;break e}else{a(k,D);break}else i(k,D);D=D.sibling}X=Nf(U,k.mode,X),X.return=k,k=X}return v(k);case R:return U=qr(U),et(k,D,U,X)}if(Mt(U))return he(k,D,U,X);if(j(U)){if(de=j(U),typeof de!="function")throw Error(r(150));return U=de.call(U),_e(k,D,U,X)}if(typeof U.then=="function")return et(k,D,mc(U),X);if(U.$$typeof===ne)return et(k,D,cc(k,U),X);pc(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(a(k,D.sibling),X=h(D,U),X.return=k,k=X):(a(k,D),X=If(U,k.mode,X),X.return=k,k=X),v(k)):a(k,D)}return function(k,D,U,X){try{fl=0;var de=et(k,D,U,X);return Ba=null,de}catch(fe){if(fe===za||fe===fc)throw fe;var qe=yn(29,fe,null,k.mode);return qe.lanes=X,qe.return=k,qe}}}var Fr=Qg(!0),Yg=Qg(!1),Is=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ns(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xs(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ac(t),Dg(t,null,a),i}return rc(t,l,i,a),ac(t)}function ml(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Bo(t,a)}}function Hf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ff=!1;function pl(){if(Ff){var t=Ua;if(t!==null)throw t}}function gl(t,i,a,l){Ff=!1;var h=t.updateQueue;Is=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var I=A,z=I.next;I.next=null,v===null?d=z:v.next=z,v=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,A=Q.lastBaseUpdate,A!==v&&(A===null?Q.firstBaseUpdate=z:A.next=z,Q.lastBaseUpdate=I))}if(d!==null){var Z=h.baseState;v=0,Q=z=I=null,A=d;do{var q=A.lane&-536870913,G=q!==A.lane;if(G?(Me&q)===q:(l&q)===q){q!==0&&q===La&&(Ff=!0),Q!==null&&(Q=Q.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var he=t,_e=A;q=i;var et=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){Z=he.call(et,Z,q);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,q=typeof he=="function"?he.call(et,Z,q):he,q==null)break e;Z=b({},Z,q);break e;case 2:Is=!0}}q=A.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Q===null?(z=Q=G,I=Z):Q=Q.next=G,v|=q;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;G=A,A=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),ks|=v,t.lanes=v,t.memoizedState=Z}}function $g(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Xg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$g(a[t],i)}var qa=M(null),gc=M(0);function Jg(t,i){t=es,ae(gc,t),ae(qa,i),es=t|i.baseLanes}function Gf(){ae(gc,es),ae(qa,qa.current)}function Kf(){es=gc.current,W(qa),W(gc)}var vn=M(null),jn=null;function Ds(t){var i=t.alternate;ae(pt,pt.current&1),ae(vn,t),jn===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(jn=t)}function Qf(t){ae(pt,pt.current),ae(vn,t),jn===null&&(jn=t)}function Zg(t){t.tag===22?(ae(pt,pt.current),ae(vn,t),jn===null&&(jn=t)):Os()}function Os(){ae(pt,pt.current),ae(vn,vn.current)}function En(t){W(vn),jn===t&&(jn=null),W(pt)}var pt=M(0);function _c(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wd(a)||em(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ki=0,Re=null,Ze=null,Rt=null,yc=!1,Ha=!1,Gr=!1,vc=0,_l=0,Fa=null,lb=0;function ht(){throw Error(r(321))}function Yf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function $f(t,i,a,l,h,d){return Ki=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?k_:cd,Gr=!1,d=a(l,h),Gr=!1,Ha&&(d=e_(i,a,l,h)),Wg(t),d}function Wg(t){Y.H=El;var i=Ze!==null&&Ze.next!==null;if(Ki=0,Rt=Ze=Re=null,yc=!1,_l=0,Fa=null,i)throw Error(r(300));t===null||Ct||(t=t.dependencies,t!==null&&uc(t)&&(Ct=!0))}function e_(t,i,a,l){Re=t;var h=0;do{if(Ha&&(Fa=null),_l=0,Ha=!1,25<=h)throw Error(r(301));if(h+=1,Rt=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=j_,d=i(a,l)}while(Ha);return d}function ub(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?yl(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Re.flags|=1024),i}function Xf(){var t=vc!==0;return vc=0,t}function Jf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Zf(t){if(yc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}yc=!1}Ki=0,Rt=Ze=Re=null,Ha=!1,_l=vc=0,Fa=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function gt(){if(Ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=Rt===null?Re.memoizedState:Rt.next;if(i!==null)Rt=i,Ze=t;else{if(t===null)throw Re.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var i=_l;return _l+=1,Fa===null&&(Fa=[]),t=Fg(Fa,t,i),i=Re,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?k_:cd),t}function Tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===ne)return Gt(t)}throw Error(r(438,String(t)))}function Wf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ec(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Qi(t,i){return typeof i=="function"?i(t):i}function Ac(t){var i=gt();return ed(i,Ze,t)}function ed(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=v=null,I=null,z=i,Q=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Me&Z)===Z:(Ki&Z)===Z){var q=z.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===La&&(Q=!0);else if((Ki&q)===q){z=z.next,q===La&&(Q=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(A=I=Z,v=d):I=I.next=Z,Re.lanes|=q,ks|=q;Z=z.action,Gr&&a(d,Z),d=z.hasEagerState?z.eagerState:a(d,Z)}else q={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(A=I=q,v=d):I=I.next=q,Re.lanes|=Z,ks|=Z;z=z.next}while(z!==null&&z!==i);if(I===null?v=d:I.next=A,!_n(d,t.memoizedState)&&(Ct=!0,Q&&(a=Ua,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function td(t){var i=gt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);_n(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function t_(t,i,a){var l=Re,h=gt(),d=Le;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!_n((Ze||h).memoizedState,a);if(v&&(h.memoizedState=a,Ct=!0),h=h.queue,sd(s_.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,{destroy:void 0},i_.bind(null,l,h,a,i),null),tt===null)throw Error(r(349));d||(Ki&127)!==0||n_(l,i,a)}return a}function n_(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=Ec(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function i_(t,i,a,l){i.value=a,i.getSnapshot=l,r_(i)&&a_(t)}function s_(t,i,a){return a(function(){r_(i)&&a_(t)})}function r_(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function a_(t){var i=jr(t,2);i!==null&&fn(i,t,2)}function nd(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Gr){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:t},i}function o_(t,i,a,l){return t.baseState=a,ed(t,Ze,typeof l=="function"?l:Qi)}function cb(t,i,a,l,h){if(wc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,l_(i,d)):(d.next=a.next,i.pending=a.next=d)}}function l_(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,v={};Y.T=v;try{var A=a(h,l),I=Y.S;I!==null&&I(v,A),u_(t,i,A)}catch(z){id(t,i,z)}finally{d!==null&&v.types!==null&&(d.types=v.types),Y.T=d}}else try{d=a(h,l),u_(t,i,d)}catch(z){id(t,i,z)}}function u_(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){c_(t,i,l)},function(l){return id(t,i,l)}):c_(t,i,a)}function c_(t,i,a){i.status="fulfilled",i.value=a,h_(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,l_(t,a)))}function id(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,h_(i),i=i.next;while(i!==l)}t.action=null}function h_(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function f_(t,i){return i}function d_(t,i){if(Le){var a=tt.formState;if(a!==null){e:{var l=Re;if(Le){if(it){t:{for(var h=it,d=kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){it=Pn(h.nextSibling),l=h.data==="F!";break e}}Rs(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f_,lastRenderedState:i},a.queue=l,a=O_.bind(null,Re,l),l.dispatch=a,l=nd(!1),d=ud.bind(null,Re,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=cb.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function m_(t){var i=gt();return p_(i,Ze,t)}function p_(t,i,a){if(i=ed(t,i,f_)[0],t=Ac(Qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=yl(i)}catch(v){throw v===za?fc:v}else l=i;i=gt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Ga(9,{destroy:void 0},hb.bind(null,h,a),null)),[l,d,t]}function hb(t,i){t.action=i}function g_(t){var i=gt(),a=Ze;if(a!==null)return p_(i,a,t);gt(),i=i.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ga(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=Ec(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function __(){return gt().memoizedState}function bc(t,i,a,l){var h=rn();Re.flags|=t,h.memoizedState=Ga(1|i,{destroy:void 0},a,l===void 0?null:l)}function Sc(t,i,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&Yf(l,Ze.memoizedState.deps)?h.memoizedState=Ga(i,d,a,l):(Re.flags|=t,h.memoizedState=Ga(1|i,d,a,l))}function y_(t,i){bc(8390656,8,t,i)}function sd(t,i){Sc(2048,8,t,i)}function fb(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=Ec(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function v_(t){var i=gt().memoizedState;return fb({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function E_(t,i){return Sc(4,2,t,i)}function T_(t,i){return Sc(4,4,t,i)}function A_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function b_(t,i,a){a=a!=null?a.concat([t]):null,Sc(4,4,A_.bind(null,i,t),a)}function rd(){}function S_(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Yf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function w_(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Yf(i,l[1]))return l[0];if(l=t(),Gr){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function ad(t,i,a){return a===void 0||(Ki&1073741824)!==0&&(Me&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Ry(),Re.lanes|=t,ks|=t,a)}function R_(t,i,a,l){return _n(a,i)?a:qa.current!==null?(t=ad(t,a,l),_n(t,i)||(Ct=!0),t):(Ki&42)===0||(Ki&1073741824)!==0&&(Me&261930)===0?(Ct=!0,t.memoizedState=a):(t=Ry(),Re.lanes|=t,ks|=t,i)}function C_(t,i,a,l,h){var d=re.p;re.p=d!==0&&8>d?d:8;var v=Y.T,A={};Y.T=A,ud(t,!1,i,a);try{var I=h(),z=Y.S;if(z!==null&&z(A,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=ob(I,l);vl(t,i,Q,bn(t))}else vl(t,i,l,bn(t))}catch(Z){vl(t,i,{then:function(){},status:"rejected",reason:Z},bn())}finally{re.p=d,v!==null&&A.types!==null&&(v.types=A.types),Y.T=v}}function db(){}function od(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=I_(t).queue;C_(t,h,i,ge,a===null?db:function(){return N_(t),a(l)})}function I_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function N_(t){var i=I_(t);i.next===null&&(i=t.alternate.memoizedState),vl(t,i.next.queue,{},bn())}function ld(){return Gt(jl)}function x_(){return gt().memoizedState}function D_(){return gt().memoizedState}function mb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=Ns(a);var l=xs(i,t,a);l!==null&&(fn(l,i,a),ml(l,i,a)),i={cache:Pf()},t.payload=i;return}i=i.return}}function pb(t,i,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wc(t)?M_(i,a):(a=Rf(t,i,a,l),a!==null&&(fn(a,t,l),V_(a,i,l)))}function O_(t,i,a){var l=bn();vl(t,i,a,l)}function vl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(t))M_(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,A=d(v,a);if(h.hasEagerState=!0,h.eagerState=A,_n(A,v))return rc(t,i,h,0),tt===null&&sc(),!1}catch{}if(a=Rf(t,i,h,l),a!==null)return fn(a,t,l),V_(a,i,l),!0}return!1}function ud(t,i,a,l){if(l={lane:2,revertLane:Bd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wc(t)){if(i)throw Error(r(479))}else i=Rf(t,a,l,2),i!==null&&fn(i,t,2)}function wc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function M_(t,i){Ha=yc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function V_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Bo(t,a)}}var El={readContext:Gt,use:Tc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};El.useEffectEvent=ht;var k_={readContext:Gt,use:Tc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:y_,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,bc(4194308,4,A_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return bc(4194308,4,t,i)},useInsertionEffect:function(t,i){bc(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Gr){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Gr){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=pb.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=nd(t);var i=t.queue,a=O_.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:rd,useDeferredValue:function(t,i){var a=rn();return ad(a,t,i)},useTransition:function(){var t=nd(!1);return t=C_.bind(null,Re,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=rn();if(Le){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),tt===null)throw Error(r(349));(Me&127)!==0||n_(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,y_(s_.bind(null,l,d,t),[t]),l.flags|=2048,Ga(9,{destroy:void 0},i_.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=tt.identifierPrefix;if(Le){var a=Ai,l=Ti;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=vc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=lb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ld,useFormState:d_,useActionState:d_,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ud.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Wf,useCacheRefresh:function(){return rn().memoizedState=mb.bind(null,Re)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},cd={readContext:Gt,use:Tc,useCallback:S_,useContext:Gt,useEffect:sd,useImperativeHandle:b_,useInsertionEffect:E_,useLayoutEffect:T_,useMemo:w_,useReducer:Ac,useRef:__,useState:function(){return Ac(Qi)},useDebugValue:rd,useDeferredValue:function(t,i){var a=gt();return R_(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Ac(Qi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:t_,useId:x_,useHostTransitionStatus:ld,useFormState:m_,useActionState:m_,useOptimistic:function(t,i){var a=gt();return o_(a,Ze,t,i)},useMemoCache:Wf,useCacheRefresh:D_};cd.useEffectEvent=v_;var j_={readContext:Gt,use:Tc,useCallback:S_,useContext:Gt,useEffect:sd,useImperativeHandle:b_,useInsertionEffect:E_,useLayoutEffect:T_,useMemo:w_,useReducer:td,useRef:__,useState:function(){return td(Qi)},useDebugValue:rd,useDeferredValue:function(t,i){var a=gt();return Ze===null?ad(a,t,i):R_(a,Ze.memoizedState,t,i)},useTransition:function(){var t=td(Qi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:t_,useId:x_,useHostTransitionStatus:ld,useFormState:g_,useActionState:g_,useOptimistic:function(t,i){var a=gt();return Ze!==null?o_(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:D_};j_.useEffectEvent=v_;function hd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var fd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=bn(),h=Ns(l);h.payload=i,a!=null&&(h.callback=a),i=xs(t,h,l),i!==null&&(fn(i,t,l),ml(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=bn(),h=Ns(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=xs(t,h,l),i!==null&&(fn(i,t,l),ml(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),l=Ns(a);l.tag=2,i!=null&&(l.callback=i),i=xs(t,l,a),i!==null&&(fn(i,t,a),ml(i,t,a))}};function P_(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!al(a,l)||!al(h,d):!0}function L_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&fd.enqueueReplaceState(i,i.state,null)}function Kr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function U_(t){ic(t)}function z_(t){console.error(t)}function B_(t){ic(t)}function Rc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function q_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dd(t,i,a){return a=Ns(a),a.tag=3,a.payload={element:null},a.callback=function(){Rc(t,i)},a}function H_(t){return t=Ns(t),t.tag=3,t}function F_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){q_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){q_(i,a,l),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function gb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Pa(i,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?Lc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===dc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ld(t,l,h)),!1;case 22:return a.flags|=65536,l===dc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ld(t,l,h)),!1}throw Error(r(435,a.tag))}return Ld(t,l,h),Lc(),!1}if(Le)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Of&&(t=Error(r(422),{cause:l}),ul(On(t,a)))):(l!==Of&&(i=Error(r(423),{cause:l}),ul(On(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=dd(t.stateNode,l,h),Hf(t,h),ft!==4&&(ft=2)),!1;var d=Error(r(520),{cause:l});if(d=On(d,a),Il===null?Il=[d]:Il.push(d),ft!==4&&(ft=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=dd(a.stateNode,l,t),Hf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(js===null||!js.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=H_(h),F_(h,t,a,l),Hf(a,h),!1}a=a.return}while(a!==null);return!1}var md=Error(r(461)),Ct=!1;function Kt(t,i,a,l){i.child=t===null?Yg(i,null,a,l):Fr(i,t.child,a,l)}function G_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return zr(i),l=$f(t,i,a,v,d,h),A=Xf(),t!==null&&!Ct?(Jf(t,i,h),Yi(t,i,h)):(Le&&A&&xf(i),i.flags|=1,Kt(t,i,l,h),i.child)}function K_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Q_(t,i,d,l,h)):(t=oc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Ad(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(v,l)&&t.ref===i.ref)return Yi(t,i,h)}return i.flags|=1,t=qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Q_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(al(d,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=d,Ad(t,h))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,Yi(t,i,h)}return pd(t,i,a,l,h)}function Y_(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return $_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&hc(i,d!==null?d.cachePool:null),d!==null?Jg(i,d):Gf(),Zg(i);else return l=i.lanes=536870912,$_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(hc(i,d.cachePool),Jg(i,d),Os(),i.memoizedState=null):(t!==null&&hc(i,null),Gf(),Os());return Kt(t,i,h,a),i.child}function Tl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function $_(t,i,a,l,h){var d=Uf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&hc(i,null),Gf(),Zg(i),t!==null&&Pa(t,i,l,!0),i.childLanes=h,null}function Cc(t,i){return i=Nc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function X_(t,i,a){return Fr(i,t.child,null,a),t=Cc(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function _b(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Cc(i,l),i.lanes=536870912,Tl(null,t);if(Qf(i),(t=it)?(t=lv(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ss!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Mg(t),a.return=i,i.child=a,Ft=i,it=null)):t=null,t===null)throw Rs(i);return i.lanes=536870912,null}return Cc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Qf(i),h)if(i.flags&256)i.flags&=-257,i=X_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ct||Pa(t,i,a,!1),h=(a&t.childLanes)!==0,Ct||h){if(l=tt,l!==null&&(v=qo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,jr(t,v),fn(l,t,v),md;Lc(),i=X_(t,i,a)}else t=d.treeContext,it=Pn(v.nextSibling),Ft=i,Le=!0,ws=null,kn=!1,t!==null&&jg(i,t),i=Cc(i,l),i.flags|=4096;return i}return t=qi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ic(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function pd(t,i,a,l,h){return zr(i),a=$f(t,i,a,l,void 0,h),l=Xf(),t!==null&&!Ct?(Jf(t,i,h),Yi(t,i,h)):(Le&&l&&xf(i),i.flags|=1,Kt(t,i,a,h),i.child)}function J_(t,i,a,l,h,d){return zr(i),i.updateQueue=null,a=e_(i,l,a,h),Wg(t),l=Xf(),t!==null&&!Ct?(Jf(t,i,d),Yi(t,i,d)):(Le&&l&&xf(i),i.flags|=1,Kt(t,i,a,d),i.child)}function Z_(t,i,a,l,h){if(zr(i),i.stateNode===null){var d=Ma,v=a.contextType;typeof v=="object"&&v!==null&&(d=Gt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Bf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Gt(v):Ma,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(hd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&fd.enqueueReplaceState(d,d.state,null),gl(i,l,d,h),pl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,I=Kr(a,A);d.props=I;var z=d.context,Q=a.contextType;v=Ma,typeof Q=="object"&&Q!==null&&(v=Gt(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||z!==v)&&L_(i,d,l,v),Is=!1;var q=i.memoizedState;d.state=q,gl(i,l,d,h),pl(),z=i.memoizedState,A||q!==z||Is?(typeof Z=="function"&&(hd(i,a,Z,l),z=i.memoizedState),(I=Is||P_(i,a,I,l,q,z,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,qf(t,i),v=i.memoizedProps,Q=Kr(a,v),d.props=Q,Z=i.pendingProps,q=d.context,z=a.contextType,I=Ma,typeof z=="object"&&z!==null&&(I=Gt(z)),A=a.getDerivedStateFromProps,(z=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||q!==I)&&L_(i,d,l,I),Is=!1,q=i.memoizedState,d.state=q,gl(i,l,d,h),pl();var G=i.memoizedState;v!==Z||q!==G||Is||t!==null&&t.dependencies!==null&&uc(t.dependencies)?(typeof A=="function"&&(hd(i,a,A,l),G=i.memoizedState),(Q=Is||P_(i,a,Q,l,q,G,I)||t!==null&&t.dependencies!==null&&uc(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=I,l=Q):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ic(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Fr(i,t.child,null,h),i.child=Fr(i,null,a,h)):Kt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Yi(t,i,h),t}function W_(t,i,a,l){return Lr(),i.flags|=256,Kt(t,i,a,l),i.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(t){return{baseLanes:t,cachePool:qg()}}function yd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=An),t}function ey(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?Ds(i):Os(),(t=it)?(t=lv(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ss!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Mg(t),a.return=i,i.child=a,Ft=i,it=null)):t=null,t===null)throw Rs(i);return em(t)?i.lanes=32:i.lanes=536870912,null}var A=l.children;return l=l.fallback,h?(Os(),h=i.mode,A=Nc({mode:"hidden",children:A},h),l=Pr(l,h,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,l=i.child,l.memoizedState=_d(a),l.childLanes=yd(t,v,a),i.memoizedState=gd,Tl(null,l)):(Ds(i),vd(i,A))}var I=t.memoizedState;if(I!==null&&(A=I.dehydrated,A!==null)){if(d)i.flags&256?(Ds(i),i.flags&=-257,i=Ed(t,i,a)):i.memoizedState!==null?(Os(),i.child=t.child,i.flags|=128,i=null):(Os(),A=l.fallback,h=i.mode,l=Nc({mode:"visible",children:l.children},h),A=Pr(A,h,a,null),A.flags|=2,l.return=i,A.return=i,l.sibling=A,i.child=l,Fr(i,t.child,null,a),l=i.child,l.memoizedState=_d(a),l.childLanes=yd(t,v,a),i.memoizedState=gd,i=Tl(null,l));else if(Ds(i),em(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(r(419)),l.stack="",l.digest=v,ul({value:l,source:null,stack:null}),i=Ed(t,i,a)}else if(Ct||Pa(t,i,a,!1),v=(a&t.childLanes)!==0,Ct||v){if(v=tt,v!==null&&(l=qo(v,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,jr(t,l),fn(v,t,l),md;Wd(A)||Lc(),i=Ed(t,i,a)}else Wd(A)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,it=Pn(A.nextSibling),Ft=i,Le=!0,ws=null,kn=!1,t!==null&&jg(i,t),i=vd(i,l.children),i.flags|=4096);return i}return h?(Os(),A=l.fallback,h=i.mode,I=t.child,z=I.sibling,l=qi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?A=qi(z,A):(A=Pr(A,h,a,null),A.flags|=2),A.return=i,l.return=i,l.sibling=A,i.child=l,Tl(null,l),l=i.child,A=t.child.memoizedState,A===null?A=_d(a):(h=A.cachePool,h!==null?(I=wt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=qg(),A={baseLanes:A.baseLanes|a,cachePool:h}),l.memoizedState=A,l.childLanes=yd(t,v,a),i.memoizedState=gd,Tl(t.child,l)):(Ds(i),a=t.child,t=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function vd(t,i){return i=Nc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Nc(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function Ed(t,i,a){return Fr(i,t.child,null,a),t=vd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function ty(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),kf(t.return,i,a)}function Td(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function ny(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=pt.current,A=(v&2)!==0;if(A?(v=v&1|2,i.flags|=128):v&=1,ae(pt,v),Kt(t,i,l,a),l=Le?ll:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ty(t,a,i);else if(t.tag===19)ty(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&_c(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Td(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&_c(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Td(i,!0,a,null,d,l);break;case"together":Td(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Yi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),ks|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Pa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Ad(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&uc(t)))}function yb(t,i,a){switch(i.tag){case 3:Vt(i,i.stateNode.containerInfo),Cs(i,wt,t.memoizedState.cache),Lr();break;case 27:case 5:yr(i);break;case 4:Vt(i,i.stateNode.containerInfo);break;case 10:Cs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Qf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ds(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ey(t,i,a):(Ds(i),t=Yi(t,i,a),t!==null?t.sibling:null);Ds(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Pa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ny(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(pt,pt.current),l)break;return null;case 22:return i.lanes=0,Y_(t,i,a,i.pendingProps);case 24:Cs(i,wt,t.memoizedState.cache)}return Yi(t,i,a)}function iy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!Ad(t,a)&&(i.flags&128)===0)return Ct=!1,yb(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,Le&&(i.flags&1048576)!==0&&kg(i,ll,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=qr(i.elementType),i.type=t,typeof t=="function")Cf(t)?(l=Kr(t,l),i.tag=1,i=Z_(null,i,t,l,a)):(i.tag=0,i=pd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ie){i.tag=11,i=G_(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=K_(null,i,t,l,a);break e}}throw i=at(t)||t,Error(r(306,i,""))}}return i;case 0:return pd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Kr(l,i.pendingProps),Z_(t,i,l,h,a);case 3:e:{if(Vt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,qf(t,i),gl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Cs(i,wt,l),l!==d.cache&&jf(i,[wt],a,!0),pl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=W_(t,i,l,a);break e}else if(l!==h){h=On(Error(r(424)),i),ul(h),i=W_(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,it=Pn(t.firstChild),Ft=i,Le=!0,ws=null,kn=!0,a=Yg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Lr(),l===h){i=Yi(t,i,a);break e}Kt(t,i,l,a)}i=i.child}return i;case 26:return Ic(t,i),t===null?(a=mv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=Gc(Ce.current).createElement(a),l[At]=i,l[Lt]=t,Qt(l,a,t),bt(l),i.stateNode=l):i.memoizedState=mv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return yr(i),t===null&&Le&&(l=i.stateNode=hv(i.type,i.pendingProps,Ce.current),Ft=i,kn=!0,h=it,zs(i.type)?(tm=h,it=Pn(l.firstChild)):it=h),Kt(t,i,i.pendingProps.children,a),Ic(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=it)&&(l=Yb(l,i.type,i.pendingProps,kn),l!==null?(i.stateNode=l,Ft=i,it=Pn(l.firstChild),kn=!1,h=!0):h=!1),h||Rs(i)),yr(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Xd(h,d)?l=null:v!==null&&Xd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=$f(t,i,ub,null,null,a),jl._currentValue=h),Ic(t,i),Kt(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=it)&&(a=$b(a,i.pendingProps,kn),a!==null?(i.stateNode=a,Ft=i,it=null,t=!0):t=!1),t||Rs(i)),null;case 13:return ey(t,i,a);case 4:return Vt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Fr(i,null,l,a):Kt(t,i,l,a),i.child;case 11:return G_(t,i,i.type,i.pendingProps,a);case 7:return Kt(t,i,i.pendingProps,a),i.child;case 8:return Kt(t,i,i.pendingProps.children,a),i.child;case 12:return Kt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Cs(i,i.type,l.value),Kt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,zr(i),h=Gt(h),l=l(h),i.flags|=1,Kt(t,i,l,a),i.child;case 14:return K_(t,i,i.type,i.pendingProps,a);case 15:return Q_(t,i,i.type,i.pendingProps,a);case 19:return ny(t,i,a);case 31:return _b(t,i,a);case 22:return Y_(t,i,a,i.pendingProps);case 24:return zr(i),l=Gt(wt),t===null?(h=Uf(),h===null&&(h=tt,d=Pf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Bf(i),Cs(i,wt,h)):((t.lanes&a)!==0&&(qf(t,i),gl(i,null,null,a),pl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Cs(i,wt,l)):(l=d.cache,Cs(i,wt,l),l!==h.cache&&jf(i,[wt],a,!0))),Kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function $i(t){t.flags|=4}function bd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(xy())t.flags|=8192;else throw Hr=dc,zf}else t.flags&=-16777217}function sy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vv(i))if(xy())t.flags|=8192;else throw Hr=dc,zf}function xc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ju():536870912,t.lanes|=i,$a|=i)}function Al(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function vb(t,i,a){var l=i.pendingProps;switch(Df(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Gi(wt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ja(i)?$i(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mf())),st(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?($i(i),d!==null?(st(i),sy(i,d)):(st(i),bd(i,h,null,l,a))):d?d!==t.memoizedState?($i(i),st(i),sy(i,d)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&$i(i),st(i),bd(i,h,t,l,a)),null;case 27:if(ma(i),a=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return st(i),null}t=ce.current,ja(i)?Pg(i):(t=hv(h,l,a),i.stateNode=t,$i(i))}return st(i),null;case 5:if(ma(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return st(i),null}if(d=ce.current,ja(i))Pg(i);else{var v=Gc(Ce.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[At]=i,d[Lt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&$i(i)}}return st(i),bd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=Ce.current,ja(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ev(t.nodeValue,a)),t||Rs(i,!0)}else t=Gc(t).createTextNode(l),t[At]=i,i.stateNode=t}return st(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ja(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[At]=i}else Lr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else a=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(r(558))}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ja(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[At]=i}else Lr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),xc(i,i.updateQueue),st(i),null);case 4:return ot(),t===null&&Gd(i.stateNode.containerInfo),st(i),null;case 10:return Gi(i.type),st(i),null;case 19:if(W(pt),l=i.memoizedState,l===null)return st(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Al(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=_c(t),d!==null){for(i.flags|=128,Al(l,!1),t=d.updateQueue,i.updateQueue=t,xc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Og(a,t),a=a.sibling;return ae(pt,pt.current&1|2),Le&&Hi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>kc&&(i.flags|=128,h=!0,Al(l,!1),i.lanes=4194304)}else{if(!h)if(t=_c(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,xc(i,t),Al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return st(i),null}else 2*nn()-l.renderingStartTime>kc&&a!==536870912&&(i.flags|=128,h=!0,Al(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=pt.current,ae(pt,h?a&1|2:a&1),Le&&Hi(i,l.treeForkCount),t):(st(i),null);case 22:case 23:return En(i),Kf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&xc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&W(Br),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gi(wt),st(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Eb(t,i){switch(Df(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Gi(wt),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ma(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(r(340));Lr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Lr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(pt),null;case 4:return ot(),null;case 10:return Gi(i.type),null;case 22:case 23:return En(i),Kf(),t!==null&&W(Br),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Gi(wt),null;case 25:return null;default:return null}}function ry(t,i){switch(Df(i),i.tag){case 3:Gi(wt),ot();break;case 26:case 27:case 5:ma(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:W(pt);break;case 10:Gi(i.type);break;case 22:case 23:En(i),Kf(),t!==null&&W(Br);break;case 24:Gi(wt)}}function bl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(A){Xe(i,i.return,A)}}function Ms(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,h=i;var I=a,z=A;try{z()}catch(Q){Xe(h,I,Q)}}}l=l.next}while(l!==d)}}catch(Q){Xe(i,i.return,Q)}}function ay(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Xg(i,a)}catch(l){Xe(t,t.return,l)}}}function oy(t,i,a){a.props=Kr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function Sl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,i,h)}}function bi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,i,h)}else a.current=null}function ly(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function Sd(t,i,a){try{var l=t.stateNode;qb(l,t.type,a,i),l[Lt]=i}catch(h){Xe(t,t.return,h)}}function uy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zs(t.type)||t.tag===4}function wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fn));else if(l!==4&&(l===27&&zs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Rd(t,i,a),t=t.sibling;t!==null;)Rd(t,i,a),t=t.sibling}function Dc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&zs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Dc(t,i,a),t=t.sibling;t!==null;)Dc(t,i,a),t=t.sibling}function cy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qt(i,l,a),i[At]=t,i[Lt]=a}catch(d){Xe(t,t.return,d)}}var Xi=!1,It=!1,Cd=!1,hy=typeof WeakSet=="function"?WeakSet:Set,zt=null;function Tb(t,i){if(t=t.containerInfo,Yd=Zc,t=bg(t),Ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,A=-1,I=-1,z=0,Q=0,Z=t,q=null;t:for(;;){for(var G;Z!==a||h!==0&&Z.nodeType!==3||(A=v+h),Z!==d||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(G=Z.firstChild)!==null;)q=Z,Z=G;for(;;){if(Z===t)break t;if(q===a&&++z===h&&(A=v),q===d&&++Q===l&&(I=v),(G=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=G}a=A===-1||I===-1?null:{start:A,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:t,selectionRange:a},Zc=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=Kr(a.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Zd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function fy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(t,a),l&4&&bl(5,a);break;case 1:if(Zi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Xe(a,a.return,v)}else{var h=Kr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Xe(a,a.return,v)}}l&64&&ay(a),l&512&&Sl(a,a.return);break;case 3:if(Zi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Xg(t,i)}catch(v){Xe(a,a.return,v)}}break;case 27:i===null&&l&4&&cy(a);case 26:case 5:Zi(t,a),i===null&&l&4&&ly(a),l&512&&Sl(a,a.return);break;case 12:Zi(t,a);break;case 31:Zi(t,a),l&4&&py(t,a);break;case 13:Zi(t,a),l&4&&gy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=xb.bind(null,a),Xb(t,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){i=i!==null&&i.memoizedState!==null||It,h=Xi;var d=It;Xi=l,(It=i)&&!d?Wi(t,a,(a.subtreeFlags&8772)!==0):Zi(t,a),Xi=h,It=d}break;case 30:break;default:Zi(t,a)}}function dy(t){var i=t.alternate;i!==null&&(t.alternate=null,dy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&va(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,ln=!1;function Ji(t,i,a){for(a=a.child;a!==null;)my(t,i,a),a=a.sibling}function my(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:It||bi(a,i),Ji(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||bi(a,i);var l=ut,h=ln;zs(a.type)&&(ut=a.stateNode,ln=!1),Ji(t,i,a),Ml(a.stateNode),ut=l,ln=h;break;case 5:It||bi(a,i);case 6:if(l=ut,h=ln,ut=null,Ji(t,i,a),ut=l,ln=h,ut!==null)if(ln)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:ut!==null&&(ln?(t=ut,av(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),io(t)):av(ut,a.stateNode));break;case 4:l=ut,h=ln,ut=a.stateNode.containerInfo,ln=!0,Ji(t,i,a),ut=l,ln=h;break;case 0:case 11:case 14:case 15:Ms(2,a,i),It||Ms(4,a,i),Ji(t,i,a);break;case 1:It||(bi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&oy(a,i,l)),Ji(t,i,a);break;case 21:Ji(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,Ji(t,i,a),It=l;break;default:Ji(t,i,a)}}function py(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{io(t)}catch(a){Xe(i,i.return,a)}}}function gy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{io(t)}catch(a){Xe(i,i.return,a)}}function Ab(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new hy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new hy),i;default:throw Error(r(435,t.tag))}}function Oc(t,i){var a=Ab(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Db.bind(null,t,l);l.then(h,h)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(zs(A.type)){ut=A.stateNode,ln=!1;break e}break;case 5:ut=A.stateNode,ln=!1;break e;case 3:case 4:ut=A.stateNode.containerInfo,ln=!0;break e}A=A.return}if(ut===null)throw Error(r(160));my(d,v,h),ut=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)_y(i,t),i=i.sibling}var Xn=null;function _y(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(Ms(3,t,t.return),bl(3,t),Ms(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(It||a===null||bi(a,a.return)),l&64&&Xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(un(i,t),cn(t),l&512&&(It||a===null||bi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ui]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,a),d[At]=t,bt(d),l=d;break e;case"link":var v=_v("link","href",h).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=_v("meta","content",h).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[At]=t,bt(d),l=d}t.stateNode=l}else yv(h,t.type,t.stateNode);else t.stateNode=gv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?yv(h,t.type,t.stateNode):gv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Sd(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(It||a===null||bi(a,a.return)),a!==null&&l&4&&Sd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(It||a===null||bi(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(he){Xe(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Sd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Cd=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Xe(t,t.return,he)}}break;case 3:if(Yc=null,h=Xn,Xn=Kc(i.containerInfo),un(i,t),Xn=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{io(i.containerInfo)}catch(he){Xe(t,t.return,he)}Cd&&(Cd=!1,yy(t));break;case 4:l=Xn,Xn=Kc(t.stateNode.containerInfo),un(i,t),cn(t),Xn=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oc(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oc(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Xi,Q=It;if(Xi=z||h,It=Q||I,un(i,t),It=Q,Xi=z,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Xi||It||Qr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=I.stateNode;var Z=I.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){Xe(I,I.return,he)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(he){Xe(I,I.return,he)}}}else if(i.tag===18){if(a===null){I=i;try{var G=I.stateNode;h?ov(G,!0):ov(I.stateNode,!1)}catch(he){Xe(I,I.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Oc(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oc(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(uy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=wd(t);Dc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(on(v,""),a.flags&=-33);var A=wd(t);Dc(t,A,v);break;case 3:case 4:var I=a.stateNode.containerInfo,z=wd(t);Rd(t,z,I);break;default:throw Error(r(161))}}catch(Q){Xe(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function yy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;yy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Zi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)fy(t,i.alternate,i),i=i.sibling}function Qr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ms(4,i,i.return),Qr(i);break;case 1:bi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&oy(i,i.return,a),Qr(i);break;case 27:Ml(i.stateNode);case 26:case 5:bi(i,i.return),Qr(i);break;case 22:i.memoizedState===null&&Qr(i);break;case 30:Qr(i);break;default:Qr(i)}t=t.sibling}}function Wi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),bl(4,d);break;case 1:if(Wi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xe(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)$g(I[h],A)}catch(z){Xe(l,l.return,z)}}a&&v&64&&ay(d),Sl(d,d.return);break;case 27:cy(d);case 26:case 5:Wi(h,d,a),a&&l===null&&v&4&&ly(d),Sl(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&v&4&&py(h,d);break;case 13:Wi(h,d,a),a&&v&4&&gy(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),Sl(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function Id(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function Nd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t))}function Jn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)vy(t,i,a,l),i=i.sibling}function vy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Jn(t,i,a,l),h&2048&&bl(9,i);break;case 1:Jn(t,i,a,l);break;case 3:Jn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t)));break;case 12:if(h&2048){Jn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Xe(i,i.return,I)}}else Jn(t,i,a,l);break;case 31:Jn(t,i,a,l);break;case 13:Jn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Jn(t,i,a,l):wl(t,i):d._visibility&2?Jn(t,i,a,l):(d._visibility|=2,Ka(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Id(v,i);break;case 24:Jn(t,i,a,l),h&2048&&Nd(i.alternate,i);break;default:Jn(t,i,a,l)}}function Ka(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,A=a,I=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:Ka(d,v,A,I,h),bl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?Ka(d,v,A,I,h):wl(d,v):(Q._visibility|=2,Ka(d,v,A,I,h)),h&&z&2048&&Id(v.alternate,v);break;case 24:Ka(d,v,A,I,h),h&&z&2048&&Nd(v.alternate,v);break;default:Ka(d,v,A,I,h)}i=i.sibling}}function wl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:wl(a,l),h&2048&&Id(l.alternate,l);break;case 24:wl(a,l),h&2048&&Nd(l.alternate,l);break;default:wl(a,l)}i=i.sibling}}var Rl=8192;function Qa(t,i,a){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)Ey(t,i,a),t=t.sibling}function Ey(t,i,a){switch(t.tag){case 26:Qa(t,i,a),t.flags&Rl&&t.memoizedState!==null&&lS(a,Xn,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,i,a);break;case 3:case 4:var l=Xn;Xn=Kc(t.stateNode.containerInfo),Qa(t,i,a),Xn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Rl,Rl=16777216,Qa(t,i,a),Rl=l):Qa(t,i,a));break;default:Qa(t,i,a)}}function Ty(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Cl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,by(l,t)}Ty(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ay(t),t=t.sibling}function Ay(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&Ms(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Mc(t)):Cl(t);break;default:Cl(t)}}function Mc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,by(l,t)}Ty(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ms(8,i,i.return),Mc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Mc(i));break;default:Mc(i)}t=t.sibling}}function by(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Ms(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(dy(l),l===a){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var bb={getCacheForType:function(t){var i=Gt(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(wt).controller.signal}},Sb=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,xe=null,Me=0,$e=0,Tn=null,Vs=!1,Ya=!1,xd=!1,es=0,ft=0,ks=0,Yr=0,Dd=0,An=0,$a=0,Il=null,hn=null,Od=!1,Vc=0,Sy=0,kc=1/0,jc=null,js=null,jt=0,Ps=null,Xa=null,ts=0,Md=0,Vd=null,wy=null,Nl=0,kd=null;function bn(){return(Ge&2)!==0&&Me!==0?Me&-Me:Y.T!==null?Bd():Pu()}function Ry(){if(An===0)if((Me&536870912)===0||Le){var t=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),An=t}else An=536870912;return t=vn.current,t!==null&&(t.flags|=32),An}function fn(t,i,a){(t===tt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),Ls(t,Me,An,!1)),Ar(t,a),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(Yr|=a),ft===4&&Ls(t,Me,An,!1)),Si(t))}function Cy(t,i,a){if((Ge&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Bn(t,i),h=l?Cb(t,i):Pd(t,i,!0),d=l;do{if(h===0){Ya&&!l&&Ls(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!wb(a)){h=Pd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var A=t;h=Il;var I=A.current.memoizedState.isDehydrated;if(I&&(Ja(A,v).flags|=256),v=Pd(A,v,!1),v!==2){if(xd&&!I){A.errorRecoveryDisabledLanes|=d,Yr|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ja(t,0),Ls(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ls(l,i,An,!Vs);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Vc+300-nn(),10<h)){if(Ls(l,i,An,!Vs),ai(l,0,!0)!==0)break e;ts=i,l.timeoutHandle=sv(Iy.bind(null,l,a,hn,jc,Od,i,An,Yr,$a,Vs,d,"Throttled",-0,0),h);break e}Iy(l,a,hn,jc,Od,i,An,Yr,$a,Vs,d,null,-0,0)}}break}while(!0);Si(t)}function Iy(t,i,a,l,h,d,v,A,I,z,Q,Z,q,G){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},Ey(i,d,Z);var he=(d&62914560)===d?Vc-nn():(d&4194048)===d?Sy-nn():0;if(he=uS(Z,he),he!==null){ts=d,t.cancelPendingCommit=he(jy.bind(null,t,i,d,a,l,h,v,A,I,Q,Z,null,q,G)),Ls(t,d,v,!z);return}}jy(t,i,d,a,l,h,v,A,I)}function wb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ls(t,i,a,l){i&=~Dd,i&=~Yr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-dt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&br(t,a,i)}function Pc(){return(Ge&6)===0?(xl(0),!1):!0}function jd(){if(xe!==null){if($e===0)var t=xe.return;else t=xe,Fi=Ur=null,Zf(t),Ba=null,fl=0,t=xe;for(;t!==null;)ry(t.alternate,t),t=t.return;xe=null}}function Ja(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Gb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ts=0,jd(),tt=t,xe=a=qi(t.current,null),Me=i,$e=0,Tn=null,Vs=!1,Ya=Bn(t,i),xd=!1,$a=An=Dd=Yr=ks=ft=0,hn=Il=null,Od=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-dt(l),d=1<<h;i|=t[h],l&=~d}return es=i,sc(),a}function Ny(t,i){Re=null,Y.H=El,i===za||i===fc?(i=Gg(),$e=3):i===zf?(i=Gg(),$e=4):$e=i===md?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,xe===null&&(ft=1,Rc(t,On(i,t.current)))}function xy(){var t=vn.current;return t===null?!0:(Me&4194048)===Me?jn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===jn:!1}function Dy(){var t=Y.H;return Y.H=El,t===null?El:t}function Oy(){var t=Y.A;return Y.A=bb,t}function Lc(){ft=4,Vs||(Me&4194048)!==Me&&vn.current!==null||(Ya=!0),(ks&134217727)===0&&(Yr&134217727)===0||tt===null||Ls(tt,Me,An,!1)}function Pd(t,i,a){var l=Ge;Ge|=2;var h=Dy(),d=Oy();(tt!==t||Me!==i)&&(jc=null,Ja(t,i)),i=!1;var v=ft;e:do try{if($e!==0&&xe!==null){var A=xe,I=Tn;switch($e){case 8:jd(),v=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var z=$e;if($e=0,Tn=null,Za(t,A,I,z),a&&Ya){v=0;break e}break;default:z=$e,$e=0,Tn=null,Za(t,A,I,z)}}Rb(),v=ft;break}catch(Q){Ny(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Fi=Ur=null,Ge=l,Y.H=h,Y.A=d,xe===null&&(tt=null,Me=0,sc()),v}function Rb(){for(;xe!==null;)My(xe)}function Cb(t,i){var a=Ge;Ge|=2;var l=Dy(),h=Oy();tt!==t||Me!==i?(jc=null,kc=nn()+500,Ja(t,i)):Ya=Bn(t,i);e:do try{if($e!==0&&xe!==null){i=xe;var d=Tn;t:switch($e){case 1:$e=0,Tn=null,Za(t,i,d,1);break;case 2:case 9:if(Hg(d)){$e=0,Tn=null,Vy(i);break}i=function(){$e!==2&&$e!==9||tt!==t||($e=7),Si(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Hg(d)?($e=0,Tn=null,Vy(i)):($e=0,Tn=null,Za(t,i,d,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var A=xe;if(v?vv(v):A.stateNode.complete){$e=0,Tn=null;var I=A.sibling;if(I!==null)xe=I;else{var z=A.return;z!==null?(xe=z,Uc(z)):xe=null}break t}}$e=0,Tn=null,Za(t,i,d,5);break;case 6:$e=0,Tn=null,Za(t,i,d,6);break;case 8:jd(),ft=6;break e;default:throw Error(r(462))}}Ib();break}catch(Q){Ny(t,Q)}while(!0);return Fi=Ur=null,Y.H=l,Y.A=h,Ge=a,xe!==null?0:(tt=null,Me=0,sc(),ft)}function Ib(){for(;xe!==null&&!df();)My(xe)}function My(t){var i=iy(t.alternate,t,es);t.memoizedProps=t.pendingProps,i===null?Uc(t):xe=i}function Vy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=J_(a,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=J_(a,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:Zf(i);default:ry(a,i),i=xe=Og(i,es),i=iy(a,i,es)}t.memoizedProps=t.pendingProps,i===null?Uc(t):xe=i}function Za(t,i,a,l){Fi=Ur=null,Zf(i),Ba=null,fl=0;var h=i.return;try{if(gb(t,h,i,a,Me)){ft=1,Rc(t,On(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;ft=1,Rc(t,On(a,t.current)),xe=null;return}i.flags&32768?(Le||l===1?t=!0:Ya||(Me&536870912)!==0?t=!1:(Vs=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ky(i,t)):Uc(i)}function Uc(t){var i=t;do{if((i.flags&32768)!==0){ky(i,Vs);return}t=i.return;var a=vb(i.alternate,i,es);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);ft===0&&(ft=5)}function ky(t,i){do{var a=Eb(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ft=6,xe=null}function jy(t,i,a,l,h,d,v,A,I){t.cancelPendingCommit=null;do zc();while(jt!==0);if((Ge&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=wf,gf(t,a,d,v,A,I),t===tt&&(xe=tt=null,Me=0),Xa=i,Ps=t,ts=a,Md=d,Vd=h,wy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ob(ms,function(){return By(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=re.p,re.p=2,v=Ge,Ge|=4;try{Tb(t,i,a)}finally{Ge=v,re.p=h,Y.T=l}}jt=1,Py(),Ly(),Uy()}}function Py(){if(jt===1){jt=0;var t=Ps,i=Xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=re.p;re.p=2;var h=Ge;Ge|=4;try{_y(i,t);var d=$d,v=bg(t.containerInfo),A=d.focusedElem,I=d.selectionRange;if(v!==A&&A&&A.ownerDocument&&Ag(A.ownerDocument.documentElement,A)){if(I!==null&&Ef(A)){var z=I.start,Q=I.end;if(Q===void 0&&(Q=z),"selectionStart"in A)A.selectionStart=z,A.selectionEnd=Math.min(Q,A.value.length);else{var Z=A.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var G=q.getSelection(),he=A.textContent.length,_e=Math.min(I.start,he),et=I.end===void 0?_e:Math.min(I.end,he);!G.extend&&_e>et&&(v=et,et=_e,_e=v);var k=Tg(A,_e),D=Tg(A,et);if(k&&D&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var U=Z.createRange();U.setStart(k.node,k.offset),G.removeAllRanges(),_e>et?(G.addRange(U),G.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),G.addRange(U))}}}}for(Z=[],G=A;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<Z.length;A++){var X=Z[A];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Zc=!!Yd,$d=Yd=null}finally{Ge=h,re.p=l,Y.T=a}}t.current=i,jt=2}}function Ly(){if(jt===2){jt=0;var t=Ps,i=Xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=re.p;re.p=2;var h=Ge;Ge|=4;try{fy(t,i.alternate,i)}finally{Ge=h,re.p=l,Y.T=a}}jt=3}}function Uy(){if(jt===4||jt===3){jt=0,xu();var t=Ps,i=Xa,a=ts,l=wy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,Xa=Ps=null,zy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(js=null),Li(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(zn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=re.p,re.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var A=l[v];d(A.value,{componentStack:A.stack})}}finally{Y.T=i,re.p=h}}(ts&3)!==0&&zc(),Si(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===kd?Nl++:(Nl=0,kd=t):Nl=0,xl(0)}}function zy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,cl(i)))}function zc(){return Py(),Ly(),Uy(),By()}function By(){if(jt!==5)return!1;var t=Ps,i=Md;Md=0;var a=Li(ts),l=Y.T,h=re.p;try{re.p=32>a?32:a,Y.T=null,a=Vd,Vd=null;var d=Ps,v=ts;if(jt=0,Xa=Ps=null,ts=0,(Ge&6)!==0)throw Error(r(331));var A=Ge;if(Ge|=4,Ay(d.current),vy(d,d.current,v,a),Ge=A,xl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(zn,d)}catch{}return!0}finally{re.p=h,Y.T=l,zy(t,i)}}function qy(t,i,a){i=On(a,i),i=dd(t.stateNode,i,2),t=xs(t,i,2),t!==null&&(Ar(t,2),Si(t))}function Xe(t,i,a){if(t.tag===3)qy(t,t,a);else for(;i!==null;){if(i.tag===3){qy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(js===null||!js.has(l))){t=On(a,t),a=H_(2),l=xs(i,a,2),l!==null&&(F_(a,l,i,t),Ar(l,2),Si(l));break}}i=i.return}}function Ld(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Sb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(xd=!0,h.add(a),t=Nb.bind(null,t,i,a),i.then(t,t))}function Nb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Me&a)===a&&(ft===4||ft===3&&(Me&62914560)===Me&&300>nn()-Vc?(Ge&2)===0&&Ja(t,0):Dd|=a,$a===Me&&($a=0)),Si(t)}function Hy(t,i){i===0&&(i=ju()),t=jr(t,i),t!==null&&(Ar(t,i),Si(t))}function xb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Hy(t,a)}function Db(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Hy(t,a)}function Ob(t,i){return kt(t,i)}var Bc=null,Wa=null,Ud=!1,qc=!1,zd=!1,Us=0;function Si(t){t!==Wa&&t.next===null&&(Wa===null?Bc=Wa=t:Wa=Wa.next=t),qc=!0,Ud||(Ud=!0,Vb())}function xl(t,i){if(!zd&&qc){zd=!0;do for(var a=!1,l=Bc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(v&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Qy(l,d))}else d=Me,d=ai(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Bn(l,d)||(a=!0,Qy(l,d));l=l.next}while(a);zd=!1}}function Mb(){Fy()}function Fy(){qc=Ud=!1;var t=0;Us!==0&&Fb()&&(t=Us);for(var i=nn(),a=null,l=Bc;l!==null;){var h=l.next,d=Gy(l,i);d===0?(l.next=null,a===null?Bc=h:a.next=h,h===null&&(Wa=a)):(a=l,(t!==0||(d&3)!==0)&&(qc=!0)),l=h}jt!==0&&jt!==5||xl(t),Us!==0&&(Us=0)}function Gy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-dt(d),A=1<<v,I=h[v];I===-1?((A&a)===0||(A&l)!==0)&&(h[v]=pf(A,i)):I<=i&&(t.expiredLanes|=A),d&=~A}if(i=tt,a=Me,a=ai(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ds(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ds(l),Li(a)){case 2:case 8:a=zo;break;case 32:a=ms;break;case 268435456:a=Du;break;default:a=ms}return l=Ky.bind(null,t),a=kt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ds(l),t.callbackPriority=2,t.callbackNode=null,2}function Ky(t,i){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(zc()&&t.callbackNode!==a)return null;var l=Me;return l=ai(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Cy(t,l,i),Gy(t,nn()),t.callbackNode!=null&&t.callbackNode===a?Ky.bind(null,t):null)}function Qy(t,i){if(zc())return null;Cy(t,i,!0)}function Vb(){Kb(function(){(Ge&6)!==0?kt(Uo,Mb):Fy()})}function Bd(){if(Us===0){var t=La;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),Us=t}return Us}function Yy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function $y(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function kb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Yy((h[Lt]||null).action),v=l.submitter;v&&(i=(i=v[Lt]||null)?Yy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var A=new _i("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Us!==0){var I=v?$y(h,v):new FormData(h);od(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(A.preventDefault(),I=v?$y(h,v):new FormData(h),od(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var qd=0;qd<Sf.length;qd++){var Hd=Sf[qd],jb=Hd.toLowerCase(),Pb=Hd[0].toUpperCase()+Hd.slice(1);$n(jb,"on"+Pb)}$n(Rg,"onAnimationEnd"),$n(Cg,"onAnimationIteration"),$n(Ig,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(WA,"onTransitionRun"),$n(eb,"onTransitionStart"),$n(tb,"onTransitionCancel"),$n(Ng,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Xy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var A=l[v],I=A.instance,z=A.currentTarget;if(A=A.listener,I!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=z;try{d(h)}catch(Q){ic(Q)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(A=l[v],I=A.instance,z=A.currentTarget,A=A.listener,I!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=z;try{d(h)}catch(Q){ic(Q)}h.currentTarget=null,d=I}}}}function De(t,i){var a=i[ya];a===void 0&&(a=i[ya]=new Set);var l=t+"__bubble";a.has(l)||(Jy(i,t,2,!1),a.add(l))}function Fd(t,i,a){var l=0;i&&(l|=4),Jy(a,t,l,i)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[Hc]){t[Hc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(Lb.has(a)||Fd(a,!1,t),Fd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Hc]||(i[Hc]=!0,Fd("selectionchange",!1,i))}}function Jy(t,i,a,l){switch(Rv(i)){case 2:var h=fS;break;case 8:h=dS;break;default:h=am}a=h.bind(null,i,a,t),h=void 0,!Ir||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Kd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;A!==null;){if(v=ci(A),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}A=A.parentNode}}l=l.return}Es(function(){var z=d,Q=In(a),Z=[];e:{var q=xg.get(t);if(q!==void 0){var G=_i,he=t;switch(t){case"keypress":if(xr(a)===0)break e;case"keydown":case"keyup":G=ec;break;case"focusin":he="focus",G=Or;break;case"focusout":he="blur",G=Or;break;case"beforeblur":case"afterblur":G=Or;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=g;break;case Rg:case Cg:case Ig:G=Qu;break;case Ng:G=S;break;case"scroll":case"scrollend":G=tl;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Bi;break;case"toggle":case"beforetoggle":G=we}var _e=(i&4)!==0,et=!_e&&(t==="scroll"||t==="scrollend"),k=_e?q!==null?q+"Capture":null:q;_e=[];for(var D=z,U;D!==null;){var X=D;if(U=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||U===null||k===null||(X=Gn(D,k),X!=null&&_e.push(Ol(D,X,U))),et)break;D=D.return}0<_e.length&&(q=new G(q,he,null,a,Q),Z.push({event:q,listeners:_e}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==Zo&&(he=a.relatedTarget||a.fromElement)&&(ci(he)||he[li]))break e;if((G||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,G?(he=a.relatedTarget||a.toElement,G=z,he=he?ci(he):null,he!==null&&(et=u(he),_e=he.tag,he!==et||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(G=null,he=z),G!==he)){if(_e=nl,X="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Bi,X="onPointerLeave",k="onPointerEnter",D="pointer"),et=G==null?q:pn(G),U=he==null?q:pn(he),q=new _e(X,D+"leave",G,a,Q),q.target=et,q.relatedTarget=U,X=null,ci(Q)===z&&(_e=new _e(k,D+"enter",he,a,Q),_e.target=U,_e.relatedTarget=et,X=_e),et=X,G&&he)t:{for(_e=Ub,k=G,D=he,U=0,X=k;X;X=_e(X))U++;X=0;for(var de=D;de;de=_e(de))X++;for(;0<U-X;)k=_e(k),U--;for(;0<X-U;)D=_e(D),X--;for(;U--;){if(k===D||D!==null&&k===D.alternate){_e=k;break t}k=_e(k),D=_e(D)}_e=null}else _e=null;G!==null&&Zy(Z,q,G,_e,!1),he!==null&&et!==null&&Zy(Z,et,he,_e,!0)}}e:{if(q=z?pn(z):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var qe=pg;else if(dg(q))if(gg)qe=XA;else{qe=YA;var fe=QA}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&Aa(z.elementType)&&(qe=pg):qe=$A;if(qe&&(qe=qe(t,z))){mg(Z,qe,a,Q);break e}fe&&fe(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&$o(q,"number",q.value)}switch(fe=z?pn(z):window,t){case"focusin":(dg(fe)||fe.contentEditable==="true")&&(xa=fe,Tf=z,ol=null);break;case"focusout":ol=Tf=xa=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,Sg(Z,a,Q);break;case"selectionchange":if(ZA)break;case"keydown":case"keyup":Sg(Z,a,Q)}var Ie;if(Fe)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Na?Mr(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(Ei&&a.locale!=="ko"&&(Na||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Na&&(Ie=el()):(gi=Q,Wo="value"in gi?gi.value:gi.textContent,Na=!0)),fe=Fc(z,Ve),0<fe.length&&(Ve=new vi(Ve,t,null,a,Q),Z.push({event:Ve,listeners:fe}),Ie?Ve.data=Ie:(Ie=Ia(a),Ie!==null&&(Ve.data=Ie)))),(Ie=xn?HA(t,a):FA(t,a))&&(Ve=Fc(z,"onBeforeInput"),0<Ve.length&&(fe=new vi("onBeforeInput","beforeinput",null,a,Q),Z.push({event:fe,listeners:Ve}),fe.data=Ie)),kb(Z,t,z,a,Q)}Xy(Z,i)})}function Ol(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Fc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Gn(t,a),h!=null&&l.unshift(Ol(t,h,d)),h=Gn(t,i),h!=null&&l.push(Ol(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ub(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zy(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var A=a,I=A.alternate,z=A.stateNode;if(A=A.tag,I!==null&&I===l)break;A!==5&&A!==26&&A!==27||z===null||(I=z,h?(z=Gn(a,d),z!=null&&v.unshift(Ol(a,z,I))):h||(z=Gn(a,d),z!=null&&v.push(Ol(a,z,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var zb=/\r\n?/g,Bb=/\u0000|\uFFFD/g;function Wy(t){return(typeof t=="string"?t:""+t).replace(zb,`
`).replace(Bb,"")}function ev(t,i){return i=Wy(i),Wy(t)===i}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":Jo(t,l,d);break;case"data":if(i!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),Ea(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ea(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fu.get(a)||a,Ea(t,a,l))}}function Qd(t,i,a,l,h,d){switch(a){case"style":Jo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ea(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,d,v,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var A=d=v=h=null,I=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":I=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:We(t,i,l,Q,a,null)}}Bu(t,d,A,I,z,v,h,!1);return;case"select":De("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:We(t,i,h,A,a,null)}i=d,a=v,t.multiple=!!l,i!=null?gs(t,!!l,i,!1):a!=null&&gs(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:We(t,i,v,A,a,null)}_s(t,l,h,d);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":We(t,i,I,l,a,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)De(Dl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,z,l,a,null)}return;default:if(Aa(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Qd(t,i,Q,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&We(t,i,A,l,a,null))}function qb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,A=null,I=null,z=null,Q=null;for(G in a){var Z=a[G];if(a.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(G)||We(t,i,G,null,l,Z)}}for(var q in l){var G=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(G!=null||Z!=null))switch(q){case"type":d=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":Q=G;break;case"value":v=G;break;case"defaultValue":A=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:G!==Z&&We(t,i,q,G,l,Z)}}Ta(t,v,A,I,z,Q,d,h);return;case"select":G=v=A=q=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(d)||We(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==I&&We(t,i,h,d,l,I)}i=A,a=v,l=G,q!=null?gs(t,!!a,q,!1):!!l!=!!a&&(i!=null?gs(t,!!a,i,!0):gs(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:We(t,i,A,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&We(t,i,v,h,l,d)}qu(t,q,G);return;case"option":for(var he in a)q=a[he],a.hasOwnProperty(he)&&q!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:We(t,i,he,null,l,q));for(I in l)q=l[I],G=a[I],l.hasOwnProperty(I)&&q!==G&&(q!=null||G!=null)&&(I==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":We(t,i,I,q,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)q=a[_e],a.hasOwnProperty(_e)&&q!=null&&!l.hasOwnProperty(_e)&&We(t,i,_e,null,l,q);for(z in l)if(q=l[z],G=a[z],l.hasOwnProperty(z)&&q!==G&&(q!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:We(t,i,z,q,l,G)}return;default:if(Aa(i)){for(var et in a)q=a[et],a.hasOwnProperty(et)&&q!==void 0&&!l.hasOwnProperty(et)&&Qd(t,i,et,void 0,l,q);for(Q in l)q=l[Q],G=a[Q],!l.hasOwnProperty(Q)||q===G||q===void 0&&G===void 0||Qd(t,i,Q,q,l,G);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&We(t,i,k,null,l,q);for(Z in l)q=l[Z],G=a[Z],!l.hasOwnProperty(Z)||q===G||q==null&&G==null||We(t,i,Z,q,l,G)}function tv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,A=h.duration;if(d&&A&&tv(v)){for(v=0,A=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],z=I.startTime;if(z>A)break;var Q=I.transferSize,Z=I.initiatorType;Q&&tv(Z)&&(I=I.responseEnd,v+=Q*(I<A?1:(A-z)/(I-z)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Yd=null,$d=null;function Gc(t){return t.nodeType===9?t:t.ownerDocument}function nv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Xd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jd=null;function Fb(){var t=window.event;return t&&t.type==="popstate"?t===Jd?!1:(Jd=t,!0):(Jd=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,Gb=typeof clearTimeout=="function"?clearTimeout:void 0,rv=typeof Promise=="function"?Promise:void 0,Kb=typeof queueMicrotask=="function"?queueMicrotask:typeof rv<"u"?function(t){return rv.resolve(null).then(t).catch(Qb)}:sv;function Qb(t){setTimeout(function(){throw t})}function zs(t){return t==="head"}function av(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),io(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ml(a);for(var d=a.firstChild;d;){var v=d.nextSibling,A=d.nodeName;d[ui]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Ml(t.ownerDocument.body);a=h}while(a);io(i)}function ov(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Zd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Yb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ui])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function $b(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function lv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function Wd(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Xb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var tm=null;function uv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function cv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function hv(t,i,a){switch(i=Gc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Ml(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);va(t)}var Ln=new Map,fv=new Set;function Kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ns=re.d;re.d={f:Jb,r:Zb,D:Wb,C:eS,L:tS,m:nS,X:sS,S:iS,M:rS};function Jb(){var t=ns.f(),i=Pc();return t||i}function Zb(t){var i=Cn(t);i!==null&&i.tag===5&&i.type==="form"?N_(i):ns.r(t)}var eo=typeof document>"u"?null:document;function dv(t,i,a){var l=eo;if(l&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),fv.has(h)||(fv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qt(i,"link",t),bt(i),l.head.appendChild(i)))}}function Wb(t){ns.D(t),dv("dns-prefetch",t,null)}function eS(t,i){ns.C(t,i),dv("preconnect",t,i)}function tS(t,i,a){ns.L(t,i,a);var l=eo;if(l&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(i){case"style":d=to(t);break;case"script":d=no(t)}Ln.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Vl(d))||i==="script"&&l.querySelector(kl(d))||(i=l.createElement("link"),Qt(i,"link",t),bt(i),l.head.appendChild(i)))}}function nS(t,i){ns.m(t,i);var a=eo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=no(t)}if(!Ln.has(d)&&(t=b({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}l=a.createElement("link"),Qt(l,"link",t),bt(l),a.head.appendChild(l)}}}function iS(t,i,a){ns.S(t,i,a);var l=eo;if(l&&t){var h=hi(l).hoistableStyles,d=to(t);i=i||"default";var v=h.get(d);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(Vl(d)))A.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&nm(t,a);var I=v=l.createElement("link");bt(I),Qt(I,"link",t),I._p=new Promise(function(z,Q){I.onload=z,I.onerror=Q}),I.addEventListener("load",function(){A.loading|=1}),I.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Qc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:A},h.set(d,v)}}}function sS(t,i){ns.X(t,i);var a=eo;if(a&&t){var l=hi(a).hoistableScripts,h=no(t),d=l.get(h);d||(d=a.querySelector(kl(h)),d||(t=b({src:t,async:!0},i),(i=Ln.get(h))&&im(t,i),d=a.createElement("script"),bt(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function rS(t,i){ns.M(t,i);var a=eo;if(a&&t){var l=hi(a).hoistableScripts,h=no(t),d=l.get(h);d||(d=a.querySelector(kl(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&im(t,i),d=a.createElement("script"),bt(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function mv(t,i,a,l){var h=(h=Ce.current)?Kc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=to(a.href),a=hi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=to(a.href);var d=hi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Vl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||aS(h,t,a,v.state))),i&&l===null)throw Error(r(528,""));return v}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=no(a),a=hi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function to(t){return'href="'+an(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function pv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function aS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),bt(i),t.head.appendChild(i))}function no(t){return'[src="'+an(t)+'"]'}function kl(t){return"script[async]"+t}function gv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,bt(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Qt(l,"style",h),Qc(l,a.precedence,t),i.instance=l;case"stylesheet":h=to(a.href);var d=t.querySelector(Vl(h));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;l=pv(a),(h=Ln.get(h))&&nm(l,h),d=(t.ownerDocument||t).createElement("link"),bt(d);var v=d;return v._p=new Promise(function(A,I){v.onload=A,v.onerror=I}),Qt(d,"link",l),i.state.loading|=4,Qc(d,a.precedence,t),i.instance=d;case"script":return d=no(a.src),(h=t.querySelector(kl(d)))?(i.instance=h,bt(h),h):(l=a,(h=Ln.get(d))&&(l=b({},a),im(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Qc(l,a.precedence,t));return i.instance}function Qc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Yc=null;function _v(t,i,a){if(Yc===null){var l=new Map,h=Yc=new Map;h.set(a,l)}else h=Yc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ui]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var A=l.get(v);A?A.push(d):l.set(v,[d])}}return l}function yv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function oS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function vv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function lS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=to(l.href),d=i.querySelector(Vl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=$c.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,bt(d);return}d=i.ownerDocument||i,l=pv(l),(h=Ln.get(h))&&nm(l,h),d=d.createElement("link"),bt(d);var v=d;v._p=new Promise(function(A,I){v.onload=A,v.onerror=I}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=$c.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var sm=0;function uS(t,i){return t.stylesheets&&t.count===0&&Jc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Jc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&sm===0&&(sm=62500*Hb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Jc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>sm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function $c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xc=null;function Jc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xc=new Map,i.forEach(cS,t),Xc=null,$c.call(t))}function cS(t,i){if(!(i.state.loading&4)){var a=Xc.get(t);if(a)var l=a.get(null);else{a=new Map,Xc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=$c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var jl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function hS(t,i,a,l,h,d,v,A,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Ev(t,i,a,l,h,d,v,A,I,z,Q,Z){return t=new hS(t,i,a,v,I,z,Q,Z,A),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),t.current=d,d.stateNode=t,i=Pf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Bf(d),t}function Tv(t){return t?(t=Ma,t):Ma}function Av(t,i,a,l,h,d){h=Tv(h),l.context===null?l.context=h:l.pendingContext=h,l=Ns(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=xs(t,l,i),a!==null&&(fn(a,t,i),ml(a,t,i))}function bv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function rm(t,i){bv(t,i),(t=t.alternate)&&bv(t,i)}function Sv(t){if(t.tag===13||t.tag===31){var i=jr(t,67108864);i!==null&&fn(i,t,67108864),rm(t,67108864)}}function wv(t){if(t.tag===13||t.tag===31){var i=bn();i=Sr(i);var a=jr(t,i);a!==null&&fn(a,t,i),rm(t,i)}}var Zc=!0;function fS(t,i,a,l){var h=Y.T;Y.T=null;var d=re.p;try{re.p=2,am(t,i,a,l)}finally{re.p=d,Y.T=h}}function dS(t,i,a,l){var h=Y.T;Y.T=null;var d=re.p;try{re.p=8,am(t,i,a,l)}finally{re.p=d,Y.T=h}}function am(t,i,a,l){if(Zc){var h=om(l);if(h===null)Kd(t,i,l,Wc,a),Cv(t,l);else if(pS(h,t,i,a,l))l.stopPropagation();else if(Cv(t,l),i&4&&-1<mS.indexOf(t)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ri(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var I=1<<31-dt(v);A.entanglements[1]|=I,v&=~I}Si(d),(Ge&6)===0&&(kc=nn()+500,xl(0))}}break;case 31:case 13:A=jr(d,2),A!==null&&fn(A,d,2),Pc(),rm(d,2)}if(d=om(l),d===null&&Kd(t,i,l,Wc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Kd(t,i,l,null,a)}}function om(t){return t=In(t),lm(t)}var Wc=null;function lm(t){if(Wc=null,t=ci(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Wc=t,null}function Rv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case Uo:return 2;case zo:return 8;case ms:case mf:return 32;case Du:return 268435456;default:return 32}default:return 32}}var um=!1,Bs=null,qs=null,Hs=null,Pl=new Map,Ll=new Map,Fs=[],mS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cv(t,i){switch(t){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":Pl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(i.pointerId)}}function Ul(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Cn(i),i!==null&&Sv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function pS(t,i,a,l,h){switch(i){case"focusin":return Bs=Ul(Bs,t,i,a,l,h),!0;case"dragenter":return qs=Ul(qs,t,i,a,l,h),!0;case"mouseover":return Hs=Ul(Hs,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Pl.set(d,Ul(Pl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ll.set(d,Ul(Ll.get(d)||null,t,i,a,l,h)),!0}return!1}function Iv(t){var i=ci(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,qn(t.priority,function(){wv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,qn(t.priority,function(){wv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Zo=l,a.target.dispatchEvent(l),Zo=null}else return i=Cn(a),i!==null&&Sv(i),t.blockedOn=a,!1;i.shift()}return!0}function Nv(t,i,a){eh(t)&&a.delete(i)}function gS(){um=!1,Bs!==null&&eh(Bs)&&(Bs=null),qs!==null&&eh(qs)&&(qs=null),Hs!==null&&eh(Hs)&&(Hs=null),Pl.forEach(Nv),Ll.forEach(Nv)}function th(t,i){t.blockedOn===i&&(t.blockedOn=null,um||(um=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,gS)))}var nh=null;function xv(t){nh!==t&&(nh=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){nh===t&&(nh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(lm(l||a)===null)continue;break}var d=Cn(a);d!==null&&(t.splice(i,3),i-=3,od(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function io(t){function i(I){return th(I,t)}Bs!==null&&th(Bs,t),qs!==null&&th(qs,t),Hs!==null&&th(Hs,t),Pl.forEach(i),Ll.forEach(i);for(var a=0;a<Fs.length;a++){var l=Fs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fs.length&&(a=Fs[0],a.blockedOn===null);)Iv(a),a.blockedOn===null&&Fs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Lt]||null;if(typeof d=="function")v||xv(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Lt]||null)A=v.formAction;else if(lm(h)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),xv(a)}}}function Dv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function cm(t){this._internalRoot=t}ih.prototype.render=cm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=bn();Av(a,l,t,i,null,null)},ih.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Av(t.current,2,null,t,null,null),Pc(),i[li]=null}};function ih(t){this._internalRoot=t}ih.prototype.unstable_scheduleHydration=function(t){if(t){var i=Pu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Fs.length&&i!==0&&i<Fs[a].priority;a++);Fs.splice(a,0,t),a===0&&Iv(t)}};var Ov=e.version;if(Ov!=="19.2.4")throw Error(r(527,Ov,"19.2.4"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var _S={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{zn=sh.inject(_S),qt=sh}catch{}}return Bl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=U_,d=z_,v=B_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Ev(t,1,!1,null,null,a,l,null,h,d,v,Dv),t[li]=i.current,Gd(t),new cm(i)},Bl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=U_,v=z_,A=B_,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=Ev(t,1,!0,i,a??null,l,h,I,d,v,A,Dv),i.context=Tv(null),a=i.current,l=bn(),l=Sr(l),h=Ns(l),h.callback=null,xs(a,h,l),a=l,i.current.lanes=a,Ar(i,a),Si(i),t[li]=i.current,Gd(t),new ih(i)},Bl.version="19.2.4",Bl}var qv;function IS(){if(qv)return dm.exports;qv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),dm.exports=CS(),dm.exports}var NS=IS();const xS=H1(NS);G1();function su(){return su=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},su.apply(this,arguments)}var Ws;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Ws||(Ws={}));const Hv="popstate";function DS(s){s===void 0&&(s={});function e(r,o){let{pathname:u,search:f,hash:m}=r.location;return Om("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Sh(o)}return MS(e,n,null,s)}function vt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function cp(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OS(){return Math.random().toString(36).substr(2,8)}function Fv(s,e){return{usr:s.state,key:s.key,idx:e}}function Om(s,e,n,r){return n===void 0&&(n=null),su({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?Co(e):e,{state:n,key:e&&e.key||r||OS()})}function Sh(s){let{pathname:e="/",search:n="",hash:r=""}=s;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Co(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substr(n),s=s.substr(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substr(r),s=s.substr(0,r)),s&&(e.pathname=s)}return e}function MS(s,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:u=!1}=r,f=o.history,m=Ws.Pop,p=null,y=T();y==null&&(y=0,f.replaceState(su({},f.state,{idx:y}),""));function T(){return(f.state||{idx:null}).idx}function b(){m=Ws.Pop;let P=T(),K=P==null?null:P-y;y=P,p&&p({action:m,location:H.location,delta:K})}function w(P,K){m=Ws.Push;let oe=Om(H.location,P,K);y=T()+1;let ne=Fv(oe,y),ie=H.createHref(oe);try{f.pushState(ne,"",ie)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;o.location.assign(ie)}u&&p&&p({action:m,location:H.location,delta:1})}function B(P,K){m=Ws.Replace;let oe=Om(H.location,P,K);y=T();let ne=Fv(oe,y),ie=H.createHref(oe);f.replaceState(ne,"",ie),u&&p&&p({action:m,location:H.location,delta:0})}function $(P){let K=o.location.origin!=="null"?o.location.origin:o.location.href,oe=typeof P=="string"?P:Sh(P);return oe=oe.replace(/ $/,"%20"),vt(K,"No window.location.(origin|href) available to create URL for href: "+oe),new URL(oe,K)}let H={get action(){return m},get location(){return s(o,f)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Hv,b),p=P,()=>{o.removeEventListener(Hv,b),p=null}},createHref(P){return e(o,P)},createURL:$,encodeLocation(P){let K=$(P);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:w,replace:B,go(P){return f.go(P)}};return H}var Gv;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Gv||(Gv={}));function VS(s,e,n){return n===void 0&&(n="/"),kS(s,e,n)}function kS(s,e,n,r){let o=typeof e=="string"?Co(e):e,u=hp(o.pathname||"/",n);if(u==null)return null;let f=K1(s);jS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=YS(u);m=GS(f[p],y)}return m}function K1(s,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(vt(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let y=tr([r,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(vt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),K1(u.children,e,T,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:HS(y,u.index),routesMeta:T})};return s.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of Q1(u.path))o(u,f,p)}),e}function Q1(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let f=Q1(r.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function jS(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:FS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const PS=/^:[\w-]+$/,LS=3,US=2,zS=1,BS=10,qS=-2,Kv=s=>s==="*";function HS(s,e){let n=s.split("/"),r=n.length;return n.some(Kv)&&(r+=qS),e&&(r+=US),n.filter(o=>!Kv(o)).reduce((o,u)=>o+(PS.test(u)?LS:u===""?zS:BS),r)}function FS(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function GS(s,e,n){let{routesMeta:r}=s,o={},u="/",f=[];for(let m=0;m<r.length;++m){let p=r[m],y=m===r.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=KS({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),w=p.route;if(!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:tr([u,b.pathname]),pathnameBase:WS(tr([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=tr([u,b.pathnameBase]))}return f}function KS(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=QS(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((y,T,b)=>{let{paramName:w,isOptional:B}=T;if(w==="*"){let H=m[b]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const $=m[b];return B&&!$?y[w]=void 0:y[w]=($||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:s}}function QS(s,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),cp(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function YS(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cp(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),s}}function hp(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}const $S=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XS=s=>$S.test(s);function JS(s,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof s=="string"?Co(s):s,u;if(n)if(XS(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),cp(!1,"Pathnames cannot have embedded double slashes - normalizing "+(f+" -> "+n))}n.startsWith("/")?u=Qv(n.substring(1),"/"):u=Qv(n,e)}else u=e;return{pathname:u,search:e2(r),hash:t2(o)}}function Qv(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _m(s,e,n,r){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZS(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fp(s,e){let n=ZS(s);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dp(s,e,n,r){r===void 0&&(r=!1);let o;typeof s=="string"?o=Co(s):(o=su({},s),vt(!o.pathname||!o.pathname.includes("?"),_m("?","pathname","search",o)),vt(!o.pathname||!o.pathname.includes("#"),_m("#","pathname","hash",o)),vt(!o.search||!o.search.includes("#"),_m("#","search","hash",o)));let u=s===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!r&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?e[b]:"/"}let p=JS(o,m),y=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}const tr=s=>s.join("/").replace(/\/\/+/g,"/"),WS=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),e2=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,t2=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function n2(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const Y1=["post","put","patch","delete"];new Set(Y1);const i2=["get",...Y1];new Set(i2);function ru(){return ru=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},ru.apply(this,arguments)}const mp=te.createContext(null),s2=te.createContext(null),dr=te.createContext(null),Gh=te.createContext(null),mr=te.createContext({outlet:null,matches:[],isDataRoute:!1}),$1=te.createContext(null);function r2(s,e){let{relative:n}=e===void 0?{}:e;Io()||vt(!1);let{basename:r,navigator:o}=te.useContext(dr),{hash:u,pathname:f,search:m}=J1(s,{relative:n}),p=f;return r!=="/"&&(p=f==="/"?r:tr([r,f])),o.createHref({pathname:p,search:m,hash:u})}function Io(){return te.useContext(Gh)!=null}function No(){return Io()||vt(!1),te.useContext(Gh).location}function X1(s){te.useContext(dr).static||te.useLayoutEffect(s)}function gu(){let{isDataRoute:s}=te.useContext(mr);return s?y2():a2()}function a2(){Io()||vt(!1);let s=te.useContext(mp),{basename:e,future:n,navigator:r}=te.useContext(dr),{matches:o}=te.useContext(mr),{pathname:u}=No(),f=JSON.stringify(fp(o,n.v7_relativeSplatPath)),m=te.useRef(!1);return X1(()=>{m.current=!0}),te.useCallback(function(y,T){if(T===void 0&&(T={}),!m.current)return;if(typeof y=="number"){r.go(y);return}let b=dp(y,JSON.parse(f),u,T.relative==="path");s==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:tr([e,b.pathname])),(T.replace?r.replace:r.push)(b,T.state,T)},[e,r,f,u,s])}function J1(s,e){let{relative:n}=e===void 0?{}:e,{future:r}=te.useContext(dr),{matches:o}=te.useContext(mr),{pathname:u}=No(),f=JSON.stringify(fp(o,r.v7_relativeSplatPath));return te.useMemo(()=>dp(s,JSON.parse(f),u,n==="path"),[s,f,u,n])}function o2(s,e){return l2(s,e)}function l2(s,e,n,r){Io()||vt(!1);let{navigator:o}=te.useContext(dr),{matches:u}=te.useContext(mr),f=u[u.length-1],m=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let y=No(),T;if(e){var b;let P=typeof e=="string"?Co(e):e;p==="/"||(b=P.pathname)!=null&&b.startsWith(p)||vt(!1),T=P}else T=y;let w=T.pathname||"/",B=w;if(p!=="/"){let P=p.replace(/^\//,"").split("/");B="/"+w.replace(/^\//,"").split("/").slice(P.length).join("/")}let $=VS(s,{pathname:B}),H=d2($&&$.map(P=>Object.assign({},P,{params:Object.assign({},m,P.params),pathname:tr([p,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:tr([p,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),u,n,r);return e&&H?te.createElement(Gh.Provider,{value:{location:ru({pathname:"/",search:"",hash:"",state:null,key:"default"},T),navigationType:Ws.Pop}},H):H}function u2(){let s=_2(),e=n2(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),n?te.createElement("pre",{style:o},n):null,null)}const c2=te.createElement(u2,null);class h2 extends te.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?te.createElement(mr.Provider,{value:this.props.routeContext},te.createElement($1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function f2(s){let{routeContext:e,match:n,children:r}=s,o=te.useContext(mp);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),te.createElement(mr.Provider,{value:e},r)}function d2(s,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),s==null){var u;if(!n)return null;if(n.errors)s=n.matches;else if((u=r)!=null&&u.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let f=s,m=(o=n)==null?void 0:o.errors;if(m!=null){let T=f.findIndex(b=>b.route.id&&m?.[b.route.id]!==void 0);T>=0||vt(!1),f=f.slice(0,Math.min(f.length,T+1))}let p=!1,y=-1;if(n&&r&&r.v7_partialHydration)for(let T=0;T<f.length;T++){let b=f[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(y=T),b.route.id){let{loaderData:w,errors:B}=n,$=b.route.loader&&w[b.route.id]===void 0&&(!B||B[b.route.id]===void 0);if(b.route.lazy||$){p=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}return f.reduceRight((T,b,w)=>{let B,$=!1,H=null,P=null;n&&(B=m&&b.route.id?m[b.route.id]:void 0,H=b.route.errorElement||c2,p&&(y<0&&w===0?(v2("route-fallback"),$=!0,P=null):y===w&&($=!0,P=b.route.hydrateFallbackElement||null)));let K=e.concat(f.slice(0,w+1)),oe=()=>{let ne;return B?ne=H:$?ne=P:b.route.Component?ne=te.createElement(b.route.Component,null):b.route.element?ne=b.route.element:ne=T,te.createElement(f2,{match:b,routeContext:{outlet:T,matches:K,isDataRoute:n!=null},children:ne})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?te.createElement(h2,{location:n.location,revalidation:n.revalidation,component:H,error:B,children:oe(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):oe()},null)}var Z1=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(Z1||{}),W1=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(W1||{});function m2(s){let e=te.useContext(mp);return e||vt(!1),e}function p2(s){let e=te.useContext(s2);return e||vt(!1),e}function g2(s){let e=te.useContext(mr);return e||vt(!1),e}function eE(s){let e=g2(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function _2(){var s;let e=te.useContext($1),n=p2(),r=eE();return e!==void 0?e:(s=n.errors)==null?void 0:s[r]}function y2(){let{router:s}=m2(Z1.UseNavigateStable),e=eE(W1.UseNavigateStable),n=te.useRef(!1);return X1(()=>{n.current=!0}),te.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?s.navigate(o):s.navigate(o,ru({fromRouteId:e},u)))},[s,e])}const Yv={};function v2(s,e,n){Yv[s]||(Yv[s]=!0)}function E2(s,e){s?.v7_startTransition,s?.v7_relativeSplatPath}function dh(s){let{to:e,replace:n,state:r,relative:o}=s;Io()||vt(!1);let{future:u,static:f}=te.useContext(dr),{matches:m}=te.useContext(mr),{pathname:p}=No(),y=gu(),T=dp(e,fp(m,u.v7_relativeSplatPath),p,o==="path"),b=JSON.stringify(T);return te.useEffect(()=>y(JSON.parse(b),{replace:n,state:r,relative:o}),[y,b,o,n,r]),null}function $r(s){vt(!1)}function T2(s){let{basename:e="/",children:n=null,location:r,navigationType:o=Ws.Pop,navigator:u,static:f=!1,future:m}=s;Io()&&vt(!1);let p=e.replace(/^\/*/,"/"),y=te.useMemo(()=>({basename:p,navigator:u,static:f,future:ru({v7_relativeSplatPath:!1},m)}),[p,m,u,f]);typeof r=="string"&&(r=Co(r));let{pathname:T="/",search:b="",hash:w="",state:B=null,key:$="default"}=r,H=te.useMemo(()=>{let P=hp(T,p);return P==null?null:{location:{pathname:P,search:b,hash:w,state:B,key:$},navigationType:o}},[p,T,b,w,B,$,o]);return H==null?null:te.createElement(dr.Provider,{value:y},te.createElement(Gh.Provider,{children:n,value:H}))}function A2(s){let{children:e,location:n}=s;return o2(Mm(e),n)}new Promise(()=>{});function Mm(s,e){e===void 0&&(e=[]);let n=[];return te.Children.forEach(s,(r,o)=>{if(!te.isValidElement(r))return;let u=[...e,o];if(r.type===te.Fragment){n.push.apply(n,Mm(r.props.children,u));return}r.type!==$r&&vt(!1),!r.props.index||!r.props.children||vt(!1);let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Mm(r.props.children,u)),n.push(f)}),n}function Vm(){return Vm=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},Vm.apply(this,arguments)}function b2(s,e){if(s==null)return{};var n={},r=Object.keys(s),o,u;for(u=0;u<r.length;u++)o=r[u],!(e.indexOf(o)>=0)&&(n[o]=s[o]);return n}function S2(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function w2(s,e){return s.button===0&&(!e||e==="_self")&&!S2(s)}const R2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C2="6";try{window.__reactRouterVersion=C2}catch{}const I2="startTransition",$v=bS[I2];function N2(s){let{basename:e,children:n,future:r,window:o}=s,u=te.useRef();u.current==null&&(u.current=DS({window:o,v5Compat:!0}));let f=u.current,[m,p]=te.useState({action:f.action,location:f.location}),{v7_startTransition:y}=r||{},T=te.useCallback(b=>{y&&$v?$v(()=>p(b)):p(b)},[p,y]);return te.useLayoutEffect(()=>f.listen(T),[f,T]),te.useEffect(()=>E2(r),[r]),te.createElement(T2,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:f,future:r})}const x2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",D2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=te.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:T,viewTransition:b}=e,w=b2(e,R2),{basename:B}=te.useContext(dr),$,H=!1;if(typeof y=="string"&&D2.test(y)&&($=y,x2))try{let ne=new URL(window.location.href),ie=y.startsWith("//")?new URL(ne.protocol+y):new URL(y),Se=hp(ie.pathname,B);ie.origin===ne.origin&&Se!=null?y=Se+ie.search+ie.hash:H=!0}catch{}let P=r2(y,{relative:o}),K=O2(y,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b});function oe(ne){r&&r(ne),ne.defaultPrevented||K(ne)}return te.createElement("a",Vm({},w,{href:$||P,onClick:H||u?r:oe,ref:n,target:p}))});var Xv;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Xv||(Xv={}));var Jv;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(Jv||(Jv={}));function O2(s,e){let{target:n,replace:r,state:o,preventScrollReset:u,relative:f,viewTransition:m}=e===void 0?{}:e,p=gu(),y=No(),T=J1(s,{relative:f});return te.useCallback(b=>{if(w2(b,n)){b.preventDefault();let w=r!==void 0?r:Sh(y)===Sh(T);p(s,{replace:w,state:o,preventScrollReset:u,relative:f,viewTransition:m})}},[y,p,T,r,o,n,s,u,f,m])}const M2=()=>{};var Zv={};const tE=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},V2=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],m=s[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},nE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,p=o+2<s.length,y=p?s[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,B=y&63;p||(B=64,f||(w=64)),r.push(n[T],n[b],n[w],n[B])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(tE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):V2(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const b=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new k2;const w=u<<2|m>>4;if(r.push(w),y!==64){const B=m<<4&240|y>>2;if(r.push(B),b!==64){const $=y<<6&192|b;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class k2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j2=function(s){const e=tE(s);return nE.encodeByteArray(e,!0)},wh=function(s){return j2(s).replace(/\./g,"")},iE=function(s){try{return nE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function P2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const L2=()=>P2().__FIREBASE_DEFAULTS__,U2=()=>{if(typeof process>"u"||typeof Zv>"u")return;const s=Zv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},z2=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&iE(s[1]);return e&&JSON.parse(e)},Kh=()=>{try{return M2()||L2()||U2()||z2()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},sE=s=>Kh()?.emulatorHosts?.[s],rE=s=>{const e=sE(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aE=()=>Kh()?.config,oE=s=>Kh()?.[`_${s}`];class B2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function oa(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pp(s){return(await fetch(s,{credentials:"include"})).ok}function lE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[wh(JSON.stringify(n)),wh(JSON.stringify(f)),""].join(".")}const Jl={};function q2(){const s={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?s.emulator.push(e):s.prod.push(e);return s}function H2(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Wv=!1;function gp(s,e){if(typeof window>"u"||typeof document>"u"||!oa(window.location.host)||Jl[s]===e||Jl[s]||Wv)return;Jl[s]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",u=q2().prod.length>0;function f(){const w=document.getElementById(r);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,B){w.setAttribute("width","24"),w.setAttribute("id",B),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Wv=!0,f()},w}function T(w,B){w.setAttribute("id",B),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=H2(r),B=n("text"),$=document.getElementById(B)||document.createElement("span"),H=n("learnmore"),P=document.getElementById(H)||document.createElement("a"),K=n("preprendIcon"),oe=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ne=w.element;m(ne),T(P,H);const ie=y();p(oe,K),ne.append(oe,$,P,ie),document.body.appendChild(ne)}u?($.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function G2(){const s=Kh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Y2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $2(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function X2(){return!G2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J2(){try{return typeof indexedDB=="object"}catch{return!1}}function Z2(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const W2="FirebaseError";class ji extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=W2,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?ew(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ji(o,m,r)}}function ew(s,e){return s.replace(tw,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const tw=/\{\$([^}]+)}/g;function nw(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ea(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=e[o];if(e0(u)&&e0(f)){if(!ea(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function e0(s){return s!==null&&typeof s=="object"}function yu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Fl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function iw(s,e){const n=new sw(s,e);return n.subscribe.bind(n)}class sw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=ym),o.error===void 0&&(o.error=ym),o.complete===void 0&&(o.complete=ym);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rw(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function ym(){}function Ot(s){return s&&s._delegate?s._delegate:s}class ar{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xr="[DEFAULT]";class aw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new B2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lw(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ow(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ow(s){return s===Xr?void 0:s}function lw(s){return s.instantiationMode==="EAGER"}class uw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ke||(ke={}));const cw={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},hw=ke.INFO,fw={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},dw=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=fw[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _p{constructor(e){this.name=e,this._logLevel=hw,this._logHandler=dw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const mw=(s,e)=>e.some(n=>s instanceof n);let t0,n0;function pw(){return t0||(t0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gw(){return n0||(n0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uE=new WeakMap,km=new WeakMap,cE=new WeakMap,vm=new WeakMap,yp=new WeakMap;function _w(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(nr(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&uE.set(n,s)}).catch(()=>{}),yp.set(e,s),e}function yw(s){if(km.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});km.set(s,e)}let jm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return km.get(s);if(e==="objectStoreNames")return s.objectStoreNames||cE.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function vw(s){jm=s(jm)}function Ew(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Em(this),e,...n);return cE.set(r,e.sort?e.sort():[e]),nr(r)}:gw().includes(s)?function(...e){return s.apply(Em(this),e),nr(uE.get(this))}:function(...e){return nr(s.apply(Em(this),e))}}function Tw(s){return typeof s=="function"?Ew(s):(s instanceof IDBTransaction&&yw(s),mw(s,pw())?new Proxy(s,jm):s)}function nr(s){if(s instanceof IDBRequest)return _w(s);if(vm.has(s))return vm.get(s);const e=Tw(s);return e!==s&&(vm.set(s,e),yp.set(e,s)),e}const Em=s=>yp.get(s);function Aw(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),m=nr(f);return r&&f.addEventListener("upgradeneeded",p=>{r(nr(f.result),p.oldVersion,p.newVersion,nr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const bw=["get","getKey","getAll","getAllKeys","count"],Sw=["put","add","delete","clear"],Tm=new Map;function i0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=Sw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||bw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Tm.set(e,u),u}vw(s=>({...s,get:(e,n,r)=>i0(e,n)||s.get(e,n,r),has:(e,n)=>!!i0(e,n)||s.has(e,n)}));class ww{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Rw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Rw(s){return s.getComponent()?.type==="VERSION"}const Pm="@firebase/app",s0="0.14.7";const os=new _p("@firebase/app"),Cw="@firebase/app-compat",Iw="@firebase/analytics-compat",Nw="@firebase/analytics",xw="@firebase/app-check-compat",Dw="@firebase/app-check",Ow="@firebase/auth",Mw="@firebase/auth-compat",Vw="@firebase/database",kw="@firebase/data-connect",jw="@firebase/database-compat",Pw="@firebase/functions",Lw="@firebase/functions-compat",Uw="@firebase/installations",zw="@firebase/installations-compat",Bw="@firebase/messaging",qw="@firebase/messaging-compat",Hw="@firebase/performance",Fw="@firebase/performance-compat",Gw="@firebase/remote-config",Kw="@firebase/remote-config-compat",Qw="@firebase/storage",Yw="@firebase/storage-compat",$w="@firebase/firestore",Xw="@firebase/ai",Jw="@firebase/firestore-compat",Zw="firebase",Ww="12.8.0";const Lm="[DEFAULT]",eR={[Pm]:"fire-core",[Cw]:"fire-core-compat",[Nw]:"fire-analytics",[Iw]:"fire-analytics-compat",[Dw]:"fire-app-check",[xw]:"fire-app-check-compat",[Ow]:"fire-auth",[Mw]:"fire-auth-compat",[Vw]:"fire-rtdb",[kw]:"fire-data-connect",[jw]:"fire-rtdb-compat",[Pw]:"fire-fn",[Lw]:"fire-fn-compat",[Uw]:"fire-iid",[zw]:"fire-iid-compat",[Bw]:"fire-fcm",[qw]:"fire-fcm-compat",[Hw]:"fire-perf",[Fw]:"fire-perf-compat",[Gw]:"fire-rc",[Kw]:"fire-rc-compat",[Qw]:"fire-gcs",[Yw]:"fire-gcs-compat",[$w]:"fire-fst",[Jw]:"fire-fst-compat",[Xw]:"fire-vertex","fire-js":"fire-js",[Zw]:"fire-js-all"};const Rh=new Map,tR=new Map,Um=new Map;function r0(s,e){try{s.container.addComponent(e)}catch(n){os.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function ta(s){const e=s.name;if(Um.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;Um.set(e,s);for(const n of Rh.values())r0(n,s);for(const n of tR.values())r0(n,s);return!0}function Qh(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Sn(s){return s==null?!1:s.settings!==void 0}const nR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new _u("app","Firebase",nR);class iR{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const la=Ww;function hE(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Lm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ir.create("bad-app-name",{appName:String(o)});if(n||(n=aE()),!n)throw ir.create("no-options");const u=Rh.get(o);if(u){if(ea(n,u.options)&&ea(r,u.config))return u;throw ir.create("duplicate-app",{appName:o})}const f=new uw(o);for(const p of Um.values())f.addComponent(p);const m=new iR(n,r,f);return Rh.set(o,m),m}function vp(s=Lm){const e=Rh.get(s);if(!e&&s===Lm&&aE())return hE();if(!e)throw ir.create("no-app",{appName:s});return e}function Ci(s,e,n){let r=eR[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(f.join(" "));return}ta(new ar(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const sR="firebase-heartbeat-database",rR=1,au="firebase-heartbeat-store";let Am=null;function fE(){return Am||(Am=Aw(sR,rR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(s=>{throw ir.create("idb-open",{originalErrorMessage:s.message})})),Am}async function aR(s){try{const n=(await fE()).transaction(au),r=await n.objectStore(au).get(dE(s));return await n.done,r}catch(e){if(e instanceof ji)os.warn(e.message);else{const n=ir.create("idb-get",{originalErrorMessage:e?.message});os.warn(n.message)}}}async function a0(s,e){try{const r=(await fE()).transaction(au,"readwrite");await r.objectStore(au).put(e,dE(s)),await r.done}catch(n){if(n instanceof ji)os.warn(n.message);else{const r=ir.create("idb-set",{originalErrorMessage:n?.message});os.warn(r.message)}}}function dE(s){return`${s.name}!${s.options.appId}`}const oR=1024,lR=30;class uR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=o0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>lR){const o=fR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){os.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=o0(),{heartbeatsToSend:n,unsentEntries:r}=cR(this._heartbeatsCache.heartbeats),o=wh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return os.warn(e),""}}}function o0(){return new Date().toISOString().substring(0,10)}function cR(s,e=oR){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),l0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),l0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J2()?Z2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return a0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return a0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function l0(s){return wh(JSON.stringify({version:2,heartbeats:s})).length}function fR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function dR(s){ta(new ar("platform-logger",e=>new ww(e),"PRIVATE")),ta(new ar("heartbeat",e=>new uR(e),"PRIVATE")),Ci(Pm,s0,s),Ci(Pm,s0,"esm2020"),Ci("fire-js","")}dR("");function mE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mR=mE,pE=new _u("auth","Firebase",mE());const Ch=new _p("@firebase/auth");function pR(s,...e){Ch.logLevel<=ke.WARN&&Ch.warn(`Auth (${la}): ${s}`,...e)}function mh(s,...e){Ch.logLevel<=ke.ERROR&&Ch.error(`Auth (${la}): ${s}`,...e)}function ti(s,...e){throw Ep(s,...e)}function Ii(s,...e){return Ep(s,...e)}function gE(s,e,n){const r={...mR(),[e]:n};return new _u("auth","Firebase",r).create(e,{appName:s.name})}function rs(s){return gE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ep(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return pE.create(s,...e)}function ye(s,e,...n){if(!s)throw Ep(e,...n)}function is(s){const e="INTERNAL ASSERTION FAILED: "+s;throw mh(e),new Error(e)}function ls(s,e){s||is(e)}function zm(){return typeof self<"u"&&self.location?.href||""}function gR(){return u0()==="http:"||u0()==="https:"}function u0(){return typeof self<"u"&&self.location?.protocol||null}function _R(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gR()||Q2()||"connection"in navigator)?navigator.onLine:!0}function yR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ls(n>e,"Short delay should be less than long delay!"),this.isMobile=F2()||Y2()}get(){return _R()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tp(s,e){ls(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class _E{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ER=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TR=new vu(3e4,6e4);function pr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function fs(s,e,n,r,o={}){return yE(s,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const m=yu({key:s.config.apiKey,...f}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:p,...u};return K2()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&oa(s.emulatorConfig.host)&&(y.credentials="include"),_E.fetch()(await vE(s,s.config.apiHost,n,m),y)})}async function yE(s,e,n){s._canInitEmulator=!1;const r={...vR,...e};try{const o=new bR(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw rh(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(s,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw rh(s,"email-already-in-use",f);if(p==="USER_DISABLED")throw rh(s,"user-disabled",f);const T=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw gE(s,T,y);ti(s,T)}}catch(o){if(o instanceof ji)throw o;ti(s,"network-request-failed",{message:String(o)})}}async function Eu(s,e,n,r,o={}){const u=await fs(s,e,n,r,o);return"mfaPendingCredential"in u&&ti(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function vE(s,e,n,r){const o=`${e}${n}?${r}`,u=s,f=u.config.emulator?Tp(s.config,o):`${s.config.apiScheme}://${o}`;return ER.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function AR(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ii(this.auth,"network-request-failed")),TR.get())})}}function rh(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Ii(s,e,r);return o.customData._tokenResponse=n,o}function c0(s){return s!==void 0&&s.enterprise!==void 0}class SR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wR(s,e){return fs(s,"GET","/v2/recaptchaConfig",pr(s,e))}async function RR(s,e){return fs(s,"POST","/v1/accounts:delete",e)}async function Ih(s,e){return fs(s,"POST","/v1/accounts:lookup",e)}function Zl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CR(s,e=!1){const n=Ot(s),r=await n.getIdToken(e),o=Ap(r);ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:Zl(bm(o.auth_time)),issuedAtTime:Zl(bm(o.iat)),expirationTime:Zl(bm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function bm(s){return Number(s)*1e3}function Ap(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=iE(n);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function h0(s){const e=Ap(s);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function yo(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ji&&IR(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function IR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class NR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Bm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Nh(s){const e=s.auth,n=await s.getIdToken(),r=await yo(s,Ih(e,{idToken:n}));ye(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?EE(o.providerUserInfo):[],f=DR(s.providerData,u),m=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!f?.length,y=m?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function xR(s){const e=Ot(s);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DR(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function EE(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function OR(s,e){const n=await yE(s,{},async()=>{const r=yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await vE(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return s.emulatorConfig&&oa(s.emulatorConfig.host)&&(p.credentials="include"),_E.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MR(s,e){return fs(s,"POST","/v2/accounts:revokeToken",pr(s,e))}class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=h0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await OR(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new ho;return r&&(ye(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(ye(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return is("not implemented")}}function Ks(s,e){ye(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new NR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await yo(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CR(this,e)}reload(){return xR(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await yo(this,RR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:B,providerData:$,stsTokenManager:H}=n;ye(b&&H,e,"internal-error");const P=ho.fromJSON(this.name,H);ye(typeof b=="string",e,"internal-error"),Ks(r,e.name),Ks(o,e.name),ye(typeof w=="boolean",e,"internal-error"),ye(typeof B=="boolean",e,"internal-error"),Ks(u,e.name),Ks(f,e.name),Ks(m,e.name),Ks(p,e.name),Ks(y,e.name),Ks(T,e.name);const K=new Zn({uid:b,auth:e,email:o,emailVerified:w,displayName:r,isAnonymous:B,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:P,createdAt:y,lastLoginAt:T});return $&&Array.isArray($)&&(K.providerData=$.map(oe=>({...oe}))),p&&(K._redirectEventId=p),K}static async _fromIdTokenResponse(e,n,r=!1){const o=new ho;o.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Nh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?EE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ho;m.updateFromIdToken(r);const p=new Zn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const f0=new Map;function ss(s){ls(s instanceof Function,"Expected a class definition");let e=f0.get(s);return e?(ls(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,f0.set(s,e),e)}class TE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TE.type="NONE";const d0=TE;function ph(s,e,n){return`firebase:${s}:${e}:${n}`}class fo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ih(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fo(ss(d0),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ss(d0);const f=ph(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const T=await y._get(f);if(T){let b;if(typeof T=="string"){const w=await Ih(e,{idToken:T}).catch(()=>{});if(!w)break;b=await Zn._fromGetAccountInfoResponse(e,w,T)}else b=Zn._fromJSON(e,T);y!==u&&(m=b),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new fo(u,e,r):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new fo(u,e,r))}}function m0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CE(e))return"Blackberry";if(IE(e))return"Webos";if(bE(e))return"Safari";if((e.includes("chrome/")||SE(e))&&!e.includes("edge/"))return"Chrome";if(RE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function AE(s=tn()){return/firefox\//i.test(s)}function bE(s=tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SE(s=tn()){return/crios\//i.test(s)}function wE(s=tn()){return/iemobile/i.test(s)}function RE(s=tn()){return/android/i.test(s)}function CE(s=tn()){return/blackberry/i.test(s)}function IE(s=tn()){return/webos/i.test(s)}function bp(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function VR(s=tn()){return bp(s)&&!!window.navigator?.standalone}function kR(){return $2()&&document.documentMode===10}function NE(s=tn()){return bp(s)||RE(s)||IE(s)||CE(s)||/windows phone/i.test(s)||wE(s)}function xE(s,e=[]){let n;switch(s){case"Browser":n=m0(tn());break;case"Worker":n=`${m0(tn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${r}`}class jR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function PR(s,e={}){return fs(s,"GET","/v2/passwordPolicy",pr(s,e))}const LR=6;class UR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??LR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class zR{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p0(this),this.idTokenSubscription=new p0(this),this.beforeStateQueue=new jR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ss(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ih(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Sn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(rs(this));const n=e?Ot(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PR(this),n=new UR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _u("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await MR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ss(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&pR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ua(s){return Ot(s)}class p0{constructor(e){this.auth=e,this.observer=null,this.addObserver=iw(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BR(s){Yh=s}function DE(s){return Yh.loadJS(s)}function qR(){return Yh.recaptchaEnterpriseScript}function HR(){return Yh.gapiScript}function FR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class GR{constructor(){this.enterprise=new KR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class KR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const QR="recaptcha-enterprise",OE="NO_RECAPTCHA";class YR{constructor(e){this.type=QR,this.auth=ua(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{wR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new SR(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;c0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(OE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(m=>{if(!n&&c0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=qR();p.length!==0&&(p+=m),DE(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function g0(s,e,n,r=!1,o=!1){const u=new YR(s);let f;if(o)f=OE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function qm(s,e,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await g0(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await g0(s,e,n,n==="getOobCode");return r(s,f)}else return Promise.reject(u)})}function $R(s,e){const n=Qh(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ea(u,e??{}))return o;ti(o,"already-initialized")}return n.initialize({options:e})}function XR(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ss);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function JR(s,e,n){const r=ua(s);ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=ME(e),{host:f,port:m}=ZR(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ye(ea(y,r.config.emulator)&&ea(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,oa(f)?(pp(`${u}//${f}${p}`),gp("Auth",!0)):WR()}function ME(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function ZR(s){const e=ME(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:_0(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:_0(f)}}}function _0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function WR(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Sp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,n){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}}async function eC(s,e){return fs(s,"POST","/v1/accounts:signUp",e)}async function tC(s,e){return Eu(s,"POST","/v1/accounts:signInWithPassword",pr(s,e))}async function nC(s,e){return Eu(s,"POST","/v1/accounts:signInWithEmailLink",pr(s,e))}async function iC(s,e){return Eu(s,"POST","/v1/accounts:signInWithEmailLink",pr(s,e))}class ou extends Sp{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ou(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ou(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qm(e,n,"signInWithPassword",tC);case"emailLink":return nC(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qm(e,r,"signUpPassword",eC);case"emailLink":return iC(e,{idToken:n,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function mo(s,e){return Eu(s,"POST","/v1/accounts:signInWithIdp",pr(s,e))}const sC="http://localhost";class na extends Sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new na(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,mo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:sC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yu(n)}return e}}function rC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aC(s){const e=Hl(Fl(s)).link,n=e?Hl(Fl(e)).deep_link_id:null,r=Hl(Fl(s)).deep_link_id;return(r?Hl(Fl(r)).link:null)||r||n||e||s}class wp{constructor(e){const n=Hl(Fl(e)),r=n.apiKey??null,o=n.oobCode??null,u=rC(n.mode??null);ye(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=aC(e);try{return new wp(n)}catch{return null}}}class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(e,n){return ou._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=wp.parseLink(n);return ye(r,"argument-error"),ou._fromEmailAndCode(e,r.code,r.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class VE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Tu extends VE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $s extends Tu{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";class Xs extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xs.credential(n,r)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";class Js extends Tu{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";class Zs extends Tu{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";async function oC(s,e){return Eu(s,"POST","/v1/accounts:signUp",pr(s,e))}class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await Zn._fromIdTokenResponse(e,r,o),f=y0(r);return new ia({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=y0(r);return new ia({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function y0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class xh extends ji{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new xh(e,n,r,o)}}function kE(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(s,u,e,r):u})}async function lC(s,e,n=!1){const r=await yo(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ia._forOperation(s,"link",r)}async function uC(s,e,n=!1){const{auth:r}=s;if(Sn(r.app))return Promise.reject(rs(r));const o="reauthenticate";try{const u=await yo(s,kE(r,o,e,s),n);ye(u.idToken,r,"internal-error");const f=Ap(u.idToken);ye(f,r,"internal-error");const{sub:m}=f;return ye(s.uid===m,r,"user-mismatch"),ia._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ti(r,"user-mismatch"),u}}async function jE(s,e,n=!1){if(Sn(s.app))return Promise.reject(rs(s));const r="signIn",o=await kE(s,r,e),u=await ia._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function cC(s,e){return jE(ua(s),e)}async function PE(s){const e=ua(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hC(s,e,n){if(Sn(s.app))return Promise.reject(rs(s));const r=ua(s),f=await qm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&PE(s),p}),m=await ia._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(m.user),m}function fC(s,e,n){return Sn(s.app)?Promise.reject(rs(s)):cC(Ot(s),xo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&PE(s),r})}async function dC(s,e){return fs(s,"POST","/v1/accounts:update",e)}async function v0(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ot(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await yo(r,dC(r.auth,u));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const m=r.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=r.displayName,m.photoURL=r.photoURL),await r._updateTokensIfNecessary(f)}function mC(s,e,n,r){return Ot(s).onIdTokenChanged(e,n,r)}function pC(s,e,n){return Ot(s).beforeAuthStateChanged(e,n)}function gC(s,e,n,r){return Ot(s).onAuthStateChanged(e,n,r)}function _C(s){return Ot(s).signOut()}const Dh="__sak";class LE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const yC=1e3,vC=10;class UE extends LE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);kR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,vC):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},yC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UE.type="LOCAL";const EC=UE;class zE extends LE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zE.type="SESSION";const BE=zE;function TC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new $h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await TC(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];function Rp(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class AC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Rp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ni(){return window}function bC(s){Ni().location.href=s}function qE(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function SC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wC(){return navigator?.serviceWorker?.controller||null}function RC(){return qE()?self:null}const HE="firebaseLocalStorageDb",CC=1,Oh="firebaseLocalStorage",FE="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(s,e){return s.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function IC(){const s=indexedDB.deleteDatabase(HE);return new Au(s).toPromise()}function Hm(){const s=indexedDB.open(HE,CC);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Oh,{keyPath:FE})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Oh)?e(r):(r.close(),await IC(),e(await Hm()))})})}async function E0(s,e,n){const r=Xh(s,!0).put({[FE]:e,value:n});return new Au(r).toPromise()}async function NC(s,e){const n=Xh(s,!1).get(e),r=await new Au(n).toPromise();return r===void 0?null:r.value}function T0(s,e){const n=Xh(s,!0).delete(e);return new Au(n).toPromise()}const xC=800,DC=3;class GE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>DC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(RC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SC(),!this.activeServiceWorker)return;this.sender=new AC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await E0(e,Dh,"1"),await T0(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>E0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>NC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>T0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new Au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GE.type="LOCAL";const OC=GE;new vu(3e4,6e4);function MC(s,e){return e?ss(e):(ye(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Cp extends Sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VC(s){return jE(s.auth,new Cp(s),s.bypassAuthState)}function kC(s){const{auth:e,user:n}=s;return ye(n,e,"internal-error"),uC(n,new Cp(s),s.bypassAuthState)}async function jC(s){const{auth:e,user:n}=s;return ye(n,e,"internal-error"),lC(n,new Cp(s),s.bypassAuthState)}class KE{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VC;case"linkViaPopup":case"linkViaRedirect":return jC;case"reauthViaPopup":case"reauthViaRedirect":return kC;default:ti(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const PC=new vu(2e3,1e4);class co extends KE{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=Rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PC.get())};e()}}co.currentPopupAction=null;const LC="pendingRedirect",gh=new Map;class UC extends KE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const r=await zC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zC(s,e){const n=HC(e),r=qC(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function BC(s,e){gh.set(s._key(),e)}function qC(s){return ss(s._redirectPersistence)}function HC(s){return ph(LC,s.config.apiKey,s.name)}async function FC(s,e,n=!1){if(Sn(s.app))return Promise.reject(rs(s));const r=ua(s),o=MC(r,e),f=await new UC(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const GC=600*1e3;class KC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!QE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ii(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GC&&this.cachedEventUids.clear(),this.cachedEventUids.has(A0(e))}saveEventToCache(e){this.cachedEventUids.add(A0(e)),this.lastProcessedEventTime=Date.now()}}function A0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function QE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function QC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QE(s);default:return!1}}async function YC(s,e={}){return fs(s,"GET","/v1/projects",e)}const $C=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XC=/^https?/;async function JC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await YC(s);for(const n of e)try{if(ZC(n))return}catch{}ti(s,"unauthorized-domain")}function ZC(s){const e=zm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!XC.test(n))return!1;if($C.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const WC=new vu(3e4,6e4);function b0(){const s=Ni().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function eI(s){return new Promise((e,n)=>{function r(){b0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b0(),n(Ii(s,"network-request-failed"))},timeout:WC.get()})}if(Ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ni().gapi?.load)r();else{const o=FR("iframefcb");return Ni()[o]=()=>{gapi.load?r():n(Ii(s,"network-request-failed"))},DE(`${HR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw _h=null,e})}let _h=null;function tI(s){return _h=_h||eI(s),_h}const nI=new vu(5e3,15e3),iI="__/auth/iframe",sI="emulator/auth/iframe",rI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oI(s){const e=s.config;ye(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Tp(e,sI):`https://${s.config.authDomain}/${iI}`,r={apiKey:e.apiKey,appName:s.name,v:la},o=aI.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${yu(r).slice(1)}`}async function lI(s){const e=await tI(s),n=Ni().gapi;return ye(n,s,"internal-error"),e.open({where:document.body,url:oI(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rI,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Ii(s,"network-request-failed"),m=Ni().setTimeout(()=>{u(f)},nI.get());function p(){Ni().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(f)})}))}const uI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cI=500,hI=600,fI="_blank",dI="http://localhost";class S0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mI(s,e,n,r=cI,o=hI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...uI,width:r.toString(),height:o.toString(),top:u,left:f},y=tn().toLowerCase();n&&(m=SE(y)?fI:n),AE(y)&&(e=e||dI,p.scrollbars="yes");const T=Object.entries(p).reduce((w,[B,$])=>`${w}${B}=${$},`,"");if(VR(y)&&m!=="_self")return pI(e||"",m),new S0(null);const b=window.open(e||"",m,T);ye(b,s,"popup-blocked");try{b.focus()}catch{}return new S0(b)}function pI(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const gI="__/auth/handler",_I="emulator/auth/handler",yI=encodeURIComponent("fac");async function w0(s,e,n,r,o,u){ye(s.config.authDomain,s,"auth-domain-config-required"),ye(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:la,eventId:o};if(e instanceof VE){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",nw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(e instanceof Tu){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await s._getAppCheckToken(),y=p?`#${yI}=${encodeURIComponent(p)}`:"";return`${vI(s)}?${yu(m).slice(1)}${y}`}function vI({config:s}){return s.emulator?Tp(s,_I):`https://${s.authDomain}/${gI}`}const Sm="webStorageSupport";class EI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BE,this._completeRedirectFn=FC,this._overrideRedirectResult=BC}async _openPopup(e,n,r,o){ls(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await w0(e,n,r,zm(),o);return mI(e,u,Rp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await w0(e,n,r,zm(),o);return bC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ls(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lI(e),r=new KC(e);return n.register("authEvent",o=>(ye(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sm,{type:Sm},o=>{const u=o?.[0]?.[Sm];u!==void 0&&n(!!u),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NE()||bE()||bp()}}const TI=EI;var R0="@firebase/auth",C0="1.12.0";class AI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SI(s){ta(new ar("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;ye(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xE(s)},y=new zR(r,o,u,p);return XR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ta(new ar("auth-internal",e=>{const n=ua(e.getProvider("auth").getImmediate());return(r=>new AI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(R0,C0,bI(s)),Ci(R0,C0,"esm2020")}const wI=300,RI=oE("authIdTokenMaxAge")||wI;let I0=null;const CI=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>RI)return;const o=n?.token;I0!==o&&(I0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function II(s=vp()){const e=Qh(s,"auth");if(e.isInitialized())return e.getImmediate();const n=$R(s,{popupRedirectResolver:TI,persistence:[OC,EC,BE]}),r=oE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=CI(u.toString());pC(n,f,()=>f(n.currentUser)),mC(n,m=>f(m))}}const o=sE("auth");return o&&JR(n,`http://${o}`),n}function NI(){return document.getElementsByTagName("head")?.[0]??document}BR({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=Ii("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",NI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SI("Browser");var N0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sr,YE;(function(){var s;function e(N,R){function x(){}x.prototype=R.prototype,N.F=R.prototype,N.prototype=new x,N.prototype.constructor=N,N.D=function(V,O,j){for(var C=Array(arguments.length-2),at=2;at<arguments.length;at++)C[at-2]=arguments[at];return R.prototype[O].apply(V,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,x){x||(x=0);const V=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)V[O]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(O=0;O<16;++O)V[O]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=N.g[0],x=N.g[1],O=N.g[2];let j=N.g[3],C;C=R+(j^x&(O^j))+V[0]+3614090360&4294967295,R=x+(C<<7&4294967295|C>>>25),C=j+(O^R&(x^O))+V[1]+3905402710&4294967295,j=R+(C<<12&4294967295|C>>>20),C=O+(x^j&(R^x))+V[2]+606105819&4294967295,O=j+(C<<17&4294967295|C>>>15),C=x+(R^O&(j^R))+V[3]+3250441966&4294967295,x=O+(C<<22&4294967295|C>>>10),C=R+(j^x&(O^j))+V[4]+4118548399&4294967295,R=x+(C<<7&4294967295|C>>>25),C=j+(O^R&(x^O))+V[5]+1200080426&4294967295,j=R+(C<<12&4294967295|C>>>20),C=O+(x^j&(R^x))+V[6]+2821735955&4294967295,O=j+(C<<17&4294967295|C>>>15),C=x+(R^O&(j^R))+V[7]+4249261313&4294967295,x=O+(C<<22&4294967295|C>>>10),C=R+(j^x&(O^j))+V[8]+1770035416&4294967295,R=x+(C<<7&4294967295|C>>>25),C=j+(O^R&(x^O))+V[9]+2336552879&4294967295,j=R+(C<<12&4294967295|C>>>20),C=O+(x^j&(R^x))+V[10]+4294925233&4294967295,O=j+(C<<17&4294967295|C>>>15),C=x+(R^O&(j^R))+V[11]+2304563134&4294967295,x=O+(C<<22&4294967295|C>>>10),C=R+(j^x&(O^j))+V[12]+1804603682&4294967295,R=x+(C<<7&4294967295|C>>>25),C=j+(O^R&(x^O))+V[13]+4254626195&4294967295,j=R+(C<<12&4294967295|C>>>20),C=O+(x^j&(R^x))+V[14]+2792965006&4294967295,O=j+(C<<17&4294967295|C>>>15),C=x+(R^O&(j^R))+V[15]+1236535329&4294967295,x=O+(C<<22&4294967295|C>>>10),C=R+(O^j&(x^O))+V[1]+4129170786&4294967295,R=x+(C<<5&4294967295|C>>>27),C=j+(x^O&(R^x))+V[6]+3225465664&4294967295,j=R+(C<<9&4294967295|C>>>23),C=O+(R^x&(j^R))+V[11]+643717713&4294967295,O=j+(C<<14&4294967295|C>>>18),C=x+(j^R&(O^j))+V[0]+3921069994&4294967295,x=O+(C<<20&4294967295|C>>>12),C=R+(O^j&(x^O))+V[5]+3593408605&4294967295,R=x+(C<<5&4294967295|C>>>27),C=j+(x^O&(R^x))+V[10]+38016083&4294967295,j=R+(C<<9&4294967295|C>>>23),C=O+(R^x&(j^R))+V[15]+3634488961&4294967295,O=j+(C<<14&4294967295|C>>>18),C=x+(j^R&(O^j))+V[4]+3889429448&4294967295,x=O+(C<<20&4294967295|C>>>12),C=R+(O^j&(x^O))+V[9]+568446438&4294967295,R=x+(C<<5&4294967295|C>>>27),C=j+(x^O&(R^x))+V[14]+3275163606&4294967295,j=R+(C<<9&4294967295|C>>>23),C=O+(R^x&(j^R))+V[3]+4107603335&4294967295,O=j+(C<<14&4294967295|C>>>18),C=x+(j^R&(O^j))+V[8]+1163531501&4294967295,x=O+(C<<20&4294967295|C>>>12),C=R+(O^j&(x^O))+V[13]+2850285829&4294967295,R=x+(C<<5&4294967295|C>>>27),C=j+(x^O&(R^x))+V[2]+4243563512&4294967295,j=R+(C<<9&4294967295|C>>>23),C=O+(R^x&(j^R))+V[7]+1735328473&4294967295,O=j+(C<<14&4294967295|C>>>18),C=x+(j^R&(O^j))+V[12]+2368359562&4294967295,x=O+(C<<20&4294967295|C>>>12),C=R+(x^O^j)+V[5]+4294588738&4294967295,R=x+(C<<4&4294967295|C>>>28),C=j+(R^x^O)+V[8]+2272392833&4294967295,j=R+(C<<11&4294967295|C>>>21),C=O+(j^R^x)+V[11]+1839030562&4294967295,O=j+(C<<16&4294967295|C>>>16),C=x+(O^j^R)+V[14]+4259657740&4294967295,x=O+(C<<23&4294967295|C>>>9),C=R+(x^O^j)+V[1]+2763975236&4294967295,R=x+(C<<4&4294967295|C>>>28),C=j+(R^x^O)+V[4]+1272893353&4294967295,j=R+(C<<11&4294967295|C>>>21),C=O+(j^R^x)+V[7]+4139469664&4294967295,O=j+(C<<16&4294967295|C>>>16),C=x+(O^j^R)+V[10]+3200236656&4294967295,x=O+(C<<23&4294967295|C>>>9),C=R+(x^O^j)+V[13]+681279174&4294967295,R=x+(C<<4&4294967295|C>>>28),C=j+(R^x^O)+V[0]+3936430074&4294967295,j=R+(C<<11&4294967295|C>>>21),C=O+(j^R^x)+V[3]+3572445317&4294967295,O=j+(C<<16&4294967295|C>>>16),C=x+(O^j^R)+V[6]+76029189&4294967295,x=O+(C<<23&4294967295|C>>>9),C=R+(x^O^j)+V[9]+3654602809&4294967295,R=x+(C<<4&4294967295|C>>>28),C=j+(R^x^O)+V[12]+3873151461&4294967295,j=R+(C<<11&4294967295|C>>>21),C=O+(j^R^x)+V[15]+530742520&4294967295,O=j+(C<<16&4294967295|C>>>16),C=x+(O^j^R)+V[2]+3299628645&4294967295,x=O+(C<<23&4294967295|C>>>9),C=R+(O^(x|~j))+V[0]+4096336452&4294967295,R=x+(C<<6&4294967295|C>>>26),C=j+(x^(R|~O))+V[7]+1126891415&4294967295,j=R+(C<<10&4294967295|C>>>22),C=O+(R^(j|~x))+V[14]+2878612391&4294967295,O=j+(C<<15&4294967295|C>>>17),C=x+(j^(O|~R))+V[5]+4237533241&4294967295,x=O+(C<<21&4294967295|C>>>11),C=R+(O^(x|~j))+V[12]+1700485571&4294967295,R=x+(C<<6&4294967295|C>>>26),C=j+(x^(R|~O))+V[3]+2399980690&4294967295,j=R+(C<<10&4294967295|C>>>22),C=O+(R^(j|~x))+V[10]+4293915773&4294967295,O=j+(C<<15&4294967295|C>>>17),C=x+(j^(O|~R))+V[1]+2240044497&4294967295,x=O+(C<<21&4294967295|C>>>11),C=R+(O^(x|~j))+V[8]+1873313359&4294967295,R=x+(C<<6&4294967295|C>>>26),C=j+(x^(R|~O))+V[15]+4264355552&4294967295,j=R+(C<<10&4294967295|C>>>22),C=O+(R^(j|~x))+V[6]+2734768916&4294967295,O=j+(C<<15&4294967295|C>>>17),C=x+(j^(O|~R))+V[13]+1309151649&4294967295,x=O+(C<<21&4294967295|C>>>11),C=R+(O^(x|~j))+V[4]+4149444226&4294967295,R=x+(C<<6&4294967295|C>>>26),C=j+(x^(R|~O))+V[11]+3174756917&4294967295,j=R+(C<<10&4294967295|C>>>22),C=O+(R^(j|~x))+V[2]+718787259&4294967295,O=j+(C<<15&4294967295|C>>>17),C=x+(j^(O|~R))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+j&4294967295}r.prototype.v=function(N,R){R===void 0&&(R=N.length);const x=R-this.blockSize,V=this.C;let O=this.h,j=0;for(;j<R;){if(O==0)for(;j<=x;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<R;)if(V[O++]=N.charCodeAt(j++),O==this.blockSize){o(this,V),O=0;break}}else for(;j<R;)if(V[O++]=N[j++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=R},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var x=N.length-8;x<N.length;++x)N[x]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)N[R++]=this.g[x]>>>V&255;return N};function u(N,R){var x=m;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=R(N)}function f(N,R){this.h=R;const x=[];let V=!0;for(let O=N.length-1;O>=0;O--){const j=N[O]|0;V&&j==R||(x[O]=j,V=!1)}this.g=x}var m={};function p(N){return-128<=N&&N<128?u(N,function(R){return new f([R|0],R<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return P(y(-N));const R=[];let x=1;for(let V=0;N>=x;V++)R[V]=N/x|0,x*=4294967296;return new f(R,0)}function T(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return P(T(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(R,8));let V=b;for(let j=0;j<N.length;j+=8){var O=Math.min(8,N.length-j);const C=parseInt(N.substring(j,j+O),R);O<8?(O=y(Math.pow(R,O)),V=V.j(O).add(y(C))):(V=V.j(x),V=V.add(y(C)))}return V}var b=p(0),w=p(1),B=p(16777216);s=f.prototype,s.m=function(){if(H(this))return-P(this).m();let N=0,R=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);N+=(V>=0?V:4294967296+V)*R,R*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(H(this))return"-"+P(this).toString(N);const R=y(Math.pow(N,6));var x=this;let V="";for(;;){const O=ie(x,R).g;x=K(x,O.j(R));let j=((x.g.length>0?x.g[0]:x.h)>>>0).toString(N);if(x=O,$(x))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function H(N){return N.h==-1}s.l=function(N){return N=K(this,N),H(N)?-1:$(N)?0:1};function P(N){const R=N.g.length,x=[];for(let V=0;V<R;V++)x[V]=~N.g[V];return new f(x,~N.h).add(w)}s.abs=function(){return H(this)?P(this):this},s.add=function(N){const R=Math.max(this.g.length,N.g.length),x=[];let V=0;for(let O=0;O<=R;O++){let j=V+(this.i(O)&65535)+(N.i(O)&65535),C=(j>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=C>>>16,j&=65535,C&=65535,x[O]=C<<16|j}return new f(x,x[x.length-1]&-2147483648?-1:0)};function K(N,R){return N.add(P(R))}s.j=function(N){if($(this)||$(N))return b;if(H(this))return H(N)?P(this).j(P(N)):P(P(this).j(N));if(H(N))return P(this.j(P(N)));if(this.l(B)<0&&N.l(B)<0)return y(this.m()*N.m());const R=this.g.length+N.g.length,x=[];for(var V=0;V<2*R;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const j=this.i(V)>>>16,C=this.i(V)&65535,at=N.i(O)>>>16,Mt=N.i(O)&65535;x[2*V+2*O]+=C*Mt,oe(x,2*V+2*O),x[2*V+2*O+1]+=j*Mt,oe(x,2*V+2*O+1),x[2*V+2*O+1]+=C*at,oe(x,2*V+2*O+1),x[2*V+2*O+2]+=j*at,oe(x,2*V+2*O+2)}for(N=0;N<R;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=R;N<2*R;N++)x[N]=0;return new f(x,0)};function oe(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function ne(N,R){this.g=N,this.h=R}function ie(N,R){if($(R))throw Error("division by zero");if($(N))return new ne(b,b);if(H(N))return R=ie(P(N),R),new ne(P(R.g),P(R.h));if(H(R))return R=ie(N,P(R)),new ne(P(R.g),R.h);if(N.g.length>30){if(H(N)||H(R))throw Error("slowDivide_ only works with positive integers.");for(var x=w,V=R;V.l(N)<=0;)x=Se(x),V=Se(V);var O=Ne(x,1),j=Ne(V,1);for(V=Ne(V,2),x=Ne(x,2);!$(V);){var C=j.add(V);C.l(N)<=0&&(O=O.add(x),j=C),V=Ne(V,1),x=Ne(x,1)}return R=K(N,O.j(R)),new ne(O,R)}for(O=b;N.l(R)>=0;){for(x=Math.max(1,Math.floor(N.m()/R.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=y(x),C=j.j(R);H(C)||C.l(N)>0;)x-=V,j=y(x),C=j.j(R);$(j)&&(j=w),O=O.add(j),N=K(N,C)}return new ne(O,N)}s.B=function(N){return ie(this,N).h},s.and=function(N){const R=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<R;V++)x[V]=this.i(V)&N.i(V);return new f(x,this.h&N.h)},s.or=function(N){const R=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<R;V++)x[V]=this.i(V)|N.i(V);return new f(x,this.h|N.h)},s.xor=function(N){const R=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<R;V++)x[V]=this.i(V)^N.i(V);return new f(x,this.h^N.h)};function Se(N){const R=N.g.length+1,x=[];for(let V=0;V<R;V++)x[V]=N.i(V)<<1|N.i(V-1)>>>31;return new f(x,N.h)}function Ne(N,R){const x=R>>5;R%=32;const V=N.g.length-x,O=[];for(let j=0;j<V;j++)O[j]=R>0?N.i(j+x)>>>R|N.i(j+x+1)<<32-R:N.i(j+x);return new f(O,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,YE=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,sr=f}).apply(typeof N0<"u"?N0:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $E,Gl,XE,yh,Fm,JE,ZE,WE;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var g=0;g<c.length;++g){var E=c[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function o(c,g){if(g)e:{var E=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in E))break e;E=E[L]}c=c[c.length-1],S=E[c],g=g(S),g!=S&&g!=null&&e(E,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var E=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&E.push([S,g[S]]);return E}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,E){return c.call.apply(c.bind,arguments)}function y(c,g,E){return y=p,y.apply(null,arguments)}function T(c,g){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,g){function E(){}E.prototype=g.prototype,c.Z=g.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(S,L,F){for(var se=Array(arguments.length-2),we=2;we<arguments.length;we++)se[we-2]=arguments[we];return g.prototype[L].apply(S,se)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function B(c){const g=c.length;if(g>0){const E=Array(g);for(let S=0;S<g;S++)E[S]=c[S];return E}return[]}function $(c,g){for(let S=1;S<arguments.length;S++){const L=arguments[S];var E=typeof L;if(E=E!="object"?E:L?Array.isArray(L)?"array":E:"null",E=="array"||E=="object"&&typeof L.length=="number"){E=c.length||0;const F=L.length||0;c.length=E+F;for(let se=0;se<F;se++)c[E+se]=L[se]}else c.push(L)}}class H{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function P(c){f.setTimeout(()=>{throw c},0)}function K(){var c=N;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class oe{constructor(){this.h=this.g=null}add(g,E){const S=ne.get();S.set(g,E),this.h?this.h.next=S:this.g=S,this.h=S}}var ne=new H(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,Ne=!1,N=new oe,R=()=>{const c=Promise.resolve(void 0);Se=()=>{c.then(x)}};function x(){for(var c;c=K();){try{c.h.call(c.g)}catch(E){P(E)}var g=ne;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}Ne=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,g),f.removeEventListener("test",E,g)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function at(c,g){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}b(at,O),at.prototype.init=function(c,g){const E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(E=="mouseover"?g=c.fromElement:E=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Mt="closure_listenable_"+(Math.random()*1e6|0),Y=0;function re(c,g,E,S,L){this.listener=c,this.proxy=null,this.src=g,this.type=E,this.capture=!!S,this.ha=L,this.key=++Y,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Be(c,g,E){for(const S in c)g.call(E,c[S],S,c)}function Qe(c,g){for(const E in c)g.call(void 0,c[E],E,c)}function M(c){const g={};for(const E in c)g[E]=c[E];return g}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,g){let E,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(E in S)c[E]=S[E];for(let F=0;F<W.length;F++)E=W[F],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,g,E,S,L){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const se=Ce(c,g,S,L);return se>-1?(g=c[se],E||(g.fa=!1)):(g=new re(g,this.src,F,!!S,L),g.fa=E,c.push(g)),g};function Ee(c,g){const E=g.type;if(E in c.g){var S=c.g[E],L=Array.prototype.indexOf.call(S,g,void 0),F;(F=L>=0)&&Array.prototype.splice.call(S,L,1),F&&(ge(g),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ce(c,g,E,S){for(let L=0;L<c.length;++L){const F=c[L];if(!F.da&&F.listener==g&&F.capture==!!E&&F.ha==S)return L}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Vt={};function ot(c,g,E,S,L){if(Array.isArray(g)){for(let F=0;F<g.length;F++)ot(c,g[F],E,S,L);return null}return E=Lo(E),c&&c[Mt]?c.J(g,E,m(S)?!!S.capture:!1,L):yr(c,g,E,!1,S,L)}function yr(c,g,E,S,L,F){if(!g)throw Error("Invalid event type");const se=m(L)?!!L.capture:!!L;let we=vr(c);if(we||(c[Ue]=we=new ce(c)),E=we.add(g,E,S,se,F),E.proxy)return E;if(S=ma(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)j||(L=se),L===void 0&&(L=!1),c.addEventListener(g.toString(),S,L);else if(c.attachEvent)c.attachEvent(ii(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ma(){function c(E){return g.call(c.src,c.listener,E)}const g=jo;return c}function pa(c,g,E,S,L){if(Array.isArray(g))for(var F=0;F<g.length;F++)pa(c,g[F],E,S,L);else S=m(S)?!!S.capture:!!S,E=Lo(E),c&&c[Mt]?(c=c.i,F=String(g).toString(),F in c.g&&(g=c.g[F],E=Ce(g,E,S,L),E>-1&&(ge(g[E]),Array.prototype.splice.call(g,E,1),g.length==0&&(delete c.g[F],c.h--)))):c&&(c=vr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ce(g,E,S,L)),(E=c>-1?g[c]:null)&&ga(E))}function ga(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Mt])Ee(g.i,c);else{var E=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(E,S,c.capture):g.detachEvent?g.detachEvent(ii(E),S):g.addListener&&g.removeListener&&g.removeListener(S),(E=vr(g))?(Ee(E,c),E.h==0&&(E.src=null,g[Ue]=null)):ge(c)}}}function ii(c){return c in Vt?Vt[c]:Vt[c]="on"+c}function jo(c,g){if(c.da)c=!0;else{g=new at(g,this);const E=c.listener,S=c.ha||c.src;c.fa&&ga(c),c=E.call(S,g)}return c}function vr(c){return c=c[Ue],c instanceof ce?c:null}var Po="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lo(c){return typeof c=="function"?c:(c[Po]||(c[Po]=function(g){return c.handleEvent(g)}),c[Po])}function Et(){V.call(this),this.i=new ce(this),this.M=this,this.G=null}b(Et,V),Et.prototype[Mt]=!0,Et.prototype.removeEventListener=function(c,g,E,S){pa(this,c,g,E,S)};function kt(c,g){var E,S=c.G;if(S)for(E=[];S;S=S.G)E.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new O(g,c);else if(g instanceof O)g.target=g.target||c;else{var L=g;g=new O(S,c),ae(g,L)}L=!0;let F,se;if(E)for(se=E.length-1;se>=0;se--)F=g.g=E[se],L=ds(F,S,!0,g)&&L;if(F=g.g=c,L=ds(F,S,!0,g)&&L,L=ds(F,S,!1,g)&&L,E)for(se=0;se<E.length;se++)F=g.g=E[se],L=ds(F,S,!1,g)&&L}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const E=c.g[g];for(let S=0;S<E.length;S++)ge(E[S]);delete c.g[g],c.h--}}this.G=null},Et.prototype.J=function(c,g,E,S){return this.i.add(String(c),g,!1,E,S)},Et.prototype.K=function(c,g,E,S){return this.i.add(String(c),g,!0,E,S)};function ds(c,g,E,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let L=!0;for(let F=0;F<g.length;++F){const se=g[F];if(se&&!se.da&&se.capture==E){const we=se.listener,mt=se.ha||se.src;se.fa&&Ee(c.i,se),L=we.call(mt,S)!==!1&&L}}return L&&!S.defaultPrevented}function df(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function xu(c){c.g=df(()=>{c.g=null,c.i&&(c.i=!1,xu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class nn extends V{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:xu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(c){V.call(this),this.h=c,this.g={}}b(Er,V);var Uo=[];function zo(c){Be(c.g,function(g,E){this.g.hasOwnProperty(E)&&ga(g)},c),c.g={}}Er.prototype.N=function(){Er.Z.N.call(this),zo(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ms=f.JSON.stringify,mf=f.JSON.parse,Du=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Ou(){}function Mu(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){O.call(this,"d")}b(qt,O);function Rn(){O.call(this,"c")}b(Rn,O);var dt={},Vu=null;function _a(){return Vu=Vu||new Et}dt.Ia="serverreachability";function ku(c){O.call(this,dt.Ia,c)}b(ku,O);function si(c){const g=_a();kt(g,new ku(g))}dt.STAT_EVENT="statevent";function Tr(c,g){O.call(this,dt.STAT_EVENT,c),this.stat=g}b(Tr,O);function Tt(c){const g=_a();kt(g,new Tr(g,c))}dt.Ja="timingevent";function ri(c,g){O.call(this,dt.Ja,c),this.size=g}b(ri,O);function ai(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function pf(c,g,E,S,L,F){c.info(function(){if(c.g)if(F){var se="",we=F.split("&");for(let Fe=0;Fe<we.length;Fe++){var mt=we[Fe].split("=");if(mt.length>1){const lt=mt[0];mt=mt[1];const xn=lt.split("_");se=xn.length>=2&&xn[1]=="type"?se+(lt+"="+mt+"&"):se+(lt+"=redacted&")}}}else se=null;else se=F;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+g+`
`+E+`
`+se})}function ju(c,g,E,S,L,F,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+g+`
`+E+`
`+F+" "+se})}function oi(c,g,E,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+gf(c,E)+(S?" "+S:"")})}function Ar(c,g){c.info(function(){return"TIMEOUT: "+g})}Bn.prototype.info=function(){};function gf(c,g){if(!c.g)return g;if(!g)return null;try{const F=JSON.parse(g);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var E=F[c];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return ms(F)}catch{return g}}var br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qo;function Sr(){}b(Sr,Ou),Sr.prototype.g=function(){return new XMLHttpRequest},qo=new Sr;function Li(c){return encodeURIComponent(String(c))}function Pu(c){var g=1;c=c.split(":");const E=[];for(;g>0&&c.length;)E.push(c.shift()),g--;return c.length&&E.push(c.join(":")),E}function qn(c,g,E,S){this.j=c,this.i=g,this.l=E,this.S=S||1,this.V=new Er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var At={},Lt={};function li(c,g,E){c.M=1,c.A=wr(St(g)),c.u=E,c.R=!0,ya(c,null)}function ya(c,g){c.F=Date.now(),ui(c),c.B=St(c.A);var E=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Aa(E.i,"t",S),c.C=0,E=c.j.L,c.h=new Hn,c.g=Zu(c.j,E?g:null,!c.u),c.P>0&&(c.O=new nn(y(c.Y,c,c.g),c.P)),g=c.V,E=c.g,S=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Uo[0]=L.toString()),L=Uo);for(let F=0;F<L.length;F++){const se=ot(E,L[F],S||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),si(),pf(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Kn(c)==3?g.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Kn(this.g),mt=this.g.ya(),Fe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||we!=4||mt==7||(mt==8||Fe<=0?si(3):si(2)),ci(this);var g=this.g.ca();this.X=g;var E=_f(this);if(this.o=g==200,ju(this.i,this.v,this.B,this.l,this.S,we,g),this.o){if(this.U&&!this.L){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var F=S;break t}}F=null}if(c=F)oi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,c);else{this.o=!1,this.m=3,Tt(12),pn(this),Cn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<E.length;)if(lt=Uu(this,E),lt==Lt){we==4&&(this.m=4,Tt(14),c=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==At){this.m=4,Tt(15),oi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else oi(this.i,this.l,lt,null),hi(this,lt);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||E.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)oi(this.i,this.l,E,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(E.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),il(se),se.P=!0,Tt(11))}}else oi(this.i,this.l,E,null),hi(this,E);we==4&&pn(this),this.o&&!this.K&&(we==4?Yu(this.j,this):(this.o=!1,ui(this)))}else zi(this.g),g==400&&E.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),pn(this),Cn(this)}}}catch{}};function _f(c){if(!Lu(c))return c.g.la();const g=Ht(c.g);if(g==="")return"";let E="";const S=g.length,L=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Cn(c),"";c.h.i=new f.TextDecoder}for(let F=0;F<S;F++)c.h.h=!0,E+=c.h.i.decode(g[F],{stream:!(L&&F==S-1)});return g.length=0,c.h.g+=E,c.C=0,c.h.g}function Lu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Uu(c,g){var E=c.C,S=g.indexOf(`
`,E);return S==-1?Lt:(E=Number(g.substring(E,S)),isNaN(E)?At:(S+=1,S+E>g.length?Lt:(g=g.slice(S,S+E),c.C=S+E,g)))}qn.prototype.cancel=function(){this.K=!0,pn(this)};function ui(c){c.T=Date.now()+c.H,va(c,c.H)}function va(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ai(y(c.aa,c),g)}function ci(c){c.D&&(f.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(si(),Tt(17)),pn(this),this.m=2,Cn(this)):va(this,this.T-c)};function Cn(c){c.j.I==0||c.K||Yu(c.j,c)}function pn(c){ci(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,zo(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function hi(c,g){try{var E=c.j;if(E.I!=0&&(E.g==c||di(E.h,c))){if(!c.L&&di(E.h,c)&&E.I==3){try{var S=E.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Ca(E),As(E);else break e;Or(E),Tt(18)}}else E.xa=L[1],0<E.xa-E.K&&L[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ai(y(E.Va,E),6e3));fi(E.h)<=1&&E.ta&&(E.ta=void 0)}else vi(E,11)}else if((c.L||E.g==c)&&Ca(E),!C(g))for(L=E.Ba.g.parse(g),g=0;g<L.length;g++){let Fe=L[g];const lt=Fe[0];if(!(lt<=E.K))if(E.K=lt,Fe=Fe[1],E.I==2)if(Fe[0]=="c"){E.M=Fe[1],E.ba=Fe[2];const xn=Fe[3];xn!=null&&(E.ka=xn,E.j.info("VER="+E.ka));const Ei=Fe[4];Ei!=null&&(E.za=Ei,E.j.info("SVER="+E.za));const Qn=Fe[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(S=1.5*Qn,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const Yn=c.g;if(Yn){const Mr=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var F=S.h;F.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Go(F,F.h),F.h=null))}if(S.G){const Ia=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(S.wa=Ia,Ye(S.J,S.G,Ia))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var se=c;if(S.na=Ju(S,S.L?S.ba:null,S.W),se.L){Ko(S.h,se);var we=se,mt=S.O;mt&&(we.H=mt),we.D&&(ci(we),ui(we)),S.g=se}else Ku(S);E.i.length>0&&yi(E)}else Fe[0]!="stop"&&Fe[0]!="close"||vi(E,7);else E.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?vi(E,7):tl(E):Fe[0]!="noop"&&E.l&&E.l.qa(Fe),E.A=0)}}si(4)}catch{}}var bt=class{constructor(c,g){this.g=c,this.map=g}};function Ho(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fi(c){return c.h?1:c.g?c.g.size:0}function di(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Go(c,g){c.g?c.g.add(g):c.h=g}function Ko(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ho.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Qo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const E of c.g.values())g=g.concat(E.G);return g}return B(c.i)}var zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(c,g){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const S=c[E].indexOf("=");let L,F=null;S>=0?(L=c[E].substring(0,S),F=c[E].substring(S+1)):L=c[E],g(L,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof gn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,ps(this,c.u),this.h=c.h,Yo(this,Fu(c.i)),this.m=c.m):c&&(g=String(c).match(zu))?(this.l=!1,Ut(this,g[1]||"",!0),this.o=mi(g[2]||""),this.g=mi(g[3]||"",!0),ps(this,g[4]),this.h=mi(g[5]||"",!0),Yo(this,g[6]||"",!0),this.m=mi(g[7]||"")):(this.l=!1,this.i=new _s(null,this.l))}gn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Rr(g,Ta,!0),":");var E=this.g;return(E||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Rr(g,Ta,!0),"@"),c.push(Li(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Rr(E,E.charAt(0)=="/"?$o:Bu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Rr(E,qu)),c.join("")},gn.prototype.resolve=function(c){const g=St(this);let E=!!c.j;E?Ut(g,c.j):E=!!c.o,E?g.o=c.o:E=!!c.g,E?g.g=c.g:E=c.u!=null;var S=c.h;if(E)ps(g,c.u);else if(E=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=g.h.lastIndexOf("/");L!=-1&&(S=g.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const F=[];for(let se=0;se<L.length;){const we=L[se++];we=="."?S&&se==L.length&&F.push(""):we==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),S&&se==L.length&&F.push("")):(F.push(we),S=!0)}S=F.join("/")}else S=L}return E?g.h=S:E=c.i.toString()!=="",E?Yo(g,Fu(c.i)):E=!!c.m,E&&(g.m=c.m),g};function St(c){return new gn(c)}function Ut(c,g,E){c.j=E?mi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ps(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Yo(c,g,E){g instanceof _s?(c.i=g,ba(c.i,c.l)):(E||(g=Rr(g,gs)),c.i=new _s(g,c.l))}function Ye(c,g,E){c.i.set(g,E)}function wr(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function mi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rr(c,g,E){return typeof c=="string"?(c=encodeURI(c).replace(g,an),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ta=/[#\/\?@]/g,Bu=/[#\?:]/g,$o=/[#\?]/g,gs=/[#\?@]/g,qu=/#/g;function _s(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&Ea(c.i,function(g,E){c.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}s=_s.prototype,s.add=function(c,g){on(this),this.i=null,c=ys(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(g),this.h+=1,this};function Hu(c,g){on(c),g=ys(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Xo(c,g){return on(c),g=ys(c,g),c.g.has(g)}s.forEach=function(c,g){on(this),this.g.forEach(function(E,S){E.forEach(function(L){c.call(g,L,S,this)},this)},this)};function Jo(c,g){on(c);let E=[];if(typeof g=="string")Xo(c,g)&&(E=E.concat(c.g.get(ys(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)E=E.concat(c[g]);return E}s.set=function(c,g){return on(this),this.i=null,c=ys(this,c),Xo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},s.get=function(c,g){return c?(c=Jo(this,c),c.length>0?String(c[0]):g):g};function Aa(c,g,E){Hu(c,g),E.length>0&&(c.i=null,c.g.set(ys(c,g),B(E)),c.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var E=g[S];const L=Li(E);E=Jo(this,E);for(let F=0;F<E.length;F++){let se=L;E[F]!==""&&(se+="="+Li(E[F])),c.push(se)}}return this.i=c.join("&")};function Fu(c){const g=new _s;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function ys(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ba(c,g){g&&!c.j&&(on(c),c.i=null,c.g.forEach(function(E,S){const L=S.toLowerCase();S!=L&&(Hu(this,S),Aa(this,L,E))},c)),c.j=g}function Fn(c,g){const E=new Bn;if(f.Image){const S=new Image;S.onload=T(In,E,"TestLoadImage: loaded",!0,g,S),S.onerror=T(In,E,"TestLoadImage: error",!1,g,S),S.onabort=T(In,E,"TestLoadImage: abort",!1,g,S),S.ontimeout=T(In,E,"TestLoadImage: timeout",!1,g,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Zo(c,g){const E=new Bn,S=new AbortController,L=setTimeout(()=>{S.abort(),In(E,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(F=>{clearTimeout(L),F.ok?In(E,"TestPingServer: ok",!0,g):In(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),In(E,"TestPingServer: error",!1,g)})}function In(c,g,E,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(E)}catch{}}function vs(){this.g=new Du}function pi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(pi,Ou),pi.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(c,g){Et.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Cr,Et),s=Cr.prototype,s.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Gn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Es(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Es(this):Gn(this),this.readyState==3&&Sa(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Es(this))},s.Na=function(c){this.g&&(this.response=c,Es(this))},s.ga=function(){this.g&&Es(this)};function Es(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Gn(c)}s.setRequestHeader=function(c,g){this.A.append(c,g)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=g.next();return c.join(`\r
`)};function Gn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let g="";return Be(c,function(E,S){g+=S,g+=":",g+=E,g+=`\r
`}),g}function Ir(c,g,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=Nn(E),typeof c=="string"?E!=null&&Li(E):Ye(c,g,E))}function Je(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Je,Et);var gi=/^https?$/i,Wo=["POST","PUT"];s=Je.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,g,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qo.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){Nr(this,F);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)E.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())E.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Wo,g,void 0)>=0)||S||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,se]of E)this.g.setRequestHeader(F,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Nr(this,F)}};function Nr(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,el(c),Ui(c)}function el(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),Ui(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),Je.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?xr(this):this.Xa())},s.Xa=function(){xr(this)};function xr(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var S;if(S=F===0){let se=String(c.D).match(zu)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),S=!gi.test(se?se.toLowerCase():"")}E=S}if(E)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var L=Kn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",el(c)}}finally{Ui(c)}}}}function Ui(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,g||kt(c,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),mf(g)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(c){const g={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var E=Pu(c[S]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=g[L]||[];g[L]=F,F.push(E)}Qe(g,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||g}function Ts(c){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(c&&c.concurrentRequestLimit),this.Ba=new vs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ts.prototype,s.ka=8,s.I=1,s.connect=function(c,g,E,S){Tt(0),this.W=c,this.H=g||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=Ju(this,null,this.W),yi(this)};function tl(c){if(wa(c),c.I==3){var g=c.V++,E=St(c.J);if(Ye(E,"SID",c.M),Ye(E,"RID",g),Ye(E,"TYPE","terminate"),Dr(c,E),g=new qn(c,c.j,g),g.M=2,g.A=wr(St(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=g.A,E=!0),E||(g.g=Zu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ui(g)}Xu(c)}function As(c){c.g&&(il(c),c.g.cancel(),c.g=null)}function wa(c){As(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ca(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function yi(c){if(!Fo(c.h)&&!c.m){c.m=!0;var g=c.Ea;Se||R(),Ne||(Se(),Ne=!0),N.add(g,c),c.D=0}}function Ra(c,g){return fi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ai(y(c.Ea,c,g),$u(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new qn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=M(F),ae(F,this.U)):F=this.U),this.u!==null||this.R||(L.J=F,F=null),this.S)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=Gu(this,L,g),E=St(this.J),Ye(E,"RID",c),Ye(E,"CVER",22),this.G&&Ye(E,"X-HTTP-Session-Id",this.G),Dr(this,E),F&&(this.R?g="headers="+Li(Nn(F))+"&"+g:this.u&&Ir(E,this.u,F)),Go(this.h,L),this.Ra&&Ye(E,"TYPE","init"),this.S?(Ye(E,"$req",g),Ye(E,"SID","null"),L.U=!0,li(L,E,null)):li(L,E,g),this.I=2}}else this.I==3&&(c?nl(this,c):this.i.length==0||Fo(this.h)||nl(this))};function nl(c,g){var E;g?E=g.l:E=c.V++;const S=St(c.J);Ye(S,"SID",c.M),Ye(S,"RID",E),Ye(S,"AID",c.K),Dr(c,S),c.u&&c.o&&Ir(S,c.u,c.o),E=new qn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Gu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Go(c.h,E),li(E,S,g)}function Dr(c,g){c.H&&Be(c.H,function(E,S){Ye(g,S,E)}),c.l&&Be({},function(E,S){Ye(g,S,E)})}function Gu(c,g,E){E=Math.min(c.i.length,E);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var L=c.i;let we=-1;for(;;){const mt=["count="+E];we==-1?E>0?(we=L[0].g,mt.push("ofs="+we)):we=0:mt.push("ofs="+we);let Fe=!0;for(let lt=0;lt<E;lt++){var F=L[lt].g;const xn=L[lt].map;if(F-=we,F<0)we=Math.max(0,L[lt].g-100),Fe=!1;else try{F="req"+F+"_"||"";try{var se=xn instanceof Map?xn:Object.entries(xn);for(const[Ei,Qn]of se){let Yn=Qn;m(Qn)&&(Yn=ms(Qn)),mt.push(F+Ei+"="+encodeURIComponent(Yn))}}catch(Ei){throw mt.push(F+"type="+encodeURIComponent("_badmap")),Ei}}catch{S&&S(xn)}}if(Fe){se=mt.join("&");break e}}se=void 0}return c=c.i.splice(0,E),g.G=c,se}function Ku(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;Se||R(),Ne||(Se(),Ne=!0),N.add(g,c),c.A=0}}function Or(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ai(y(c.Da,c),$u(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ai(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),As(this),Qu(this))};function il(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Qu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=St(c.na);Ye(g,"RID","rpc"),Ye(g,"SID",c.M),Ye(g,"AID",c.K),Ye(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(g,"TO",c.ia),Ye(g,"TYPE","xmlhttp"),Dr(c,g),c.u&&c.o&&Ir(g,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=wr(St(g)),E.u=null,E.R=!0,ya(E,c)}s.Va=function(){this.C!=null&&(this.C=null,As(this),Or(this),Tt(19))};function Ca(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Yu(c,g){var E=null;if(c.g==g){Ca(c),il(c),c.g=null;var S=2}else if(di(c.h,g))E=g.G,Ko(c.h,g),S=1;else return;if(c.I!=0){if(g.o)if(S==1){E=g.u?g.u.length:0,g=Date.now()-g.F;var L=c.D;S=_a(),kt(S,new ri(S,E)),yi(c)}else Ku(c);else if(L=g.m,L==3||L==0&&g.X>0||!(S==1&&Ra(c,g)||S==2&&Or(c)))switch(E&&E.length>0&&(g=c.h,g.i=g.i.concat(E)),L){case 1:vi(c,5);break;case 4:vi(c,10);break;case 3:vi(c,6);break;default:vi(c,2)}}}function $u(c,g){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*g}function vi(c,g){if(c.j.info("Error code "+g),g==2){var E=y(c.bb,c),S=c.Ua;const L=!S;S=new gn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ut(S,"https"),wr(S),L?Fn(S.toString(),E):Zo(S.toString(),E)}else Tt(2);c.I=0,c.l&&c.l.pa(g),Xu(c),wa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Xu(c){if(c.I=0,c.ja=[],c.l){const g=Qo(c.h);(g.length!=0||c.i.length!=0)&&($(c.ja,g),$(c.ja,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.oa()}}function Ju(c,g,E){var S=E instanceof gn?St(E):new gn(E);if(S.g!="")g&&(S.g=g+"."+S.g),ps(S,S.u);else{var L=f.location;S=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;const F=new gn(null);S&&Ut(F,S),g&&(F.g=g),L&&ps(F,L),E&&(F.h=E),S=F}return E=c.G,g=c.wa,E&&g&&Ye(S,E,g),Ye(S,"VER",c.ka),Dr(c,S),S}function Zu(c,g,E){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Je(new pi({ab:E})):new Je(c.ma),g.Fa(c.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}s=Wu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function bs(){}bs.prototype.g=function(c,g){return new sn(c,g)};function sn(c,g){Et.call(this),this.g=new Ts(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!C(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!C(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Bi(this)}b(sn,Et),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){tl(this.g)},sn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=ms(c),c=E);g.i.push(new bt(g.Ya++,c)),g.I==3&&yi(g)},sn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,sn.Z.N.call(this)};function ec(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const E in g){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}b(ec,qt);function tc(){Rn.call(this),this.status=1}b(tc,Rn);function Bi(c){this.g=c}b(Bi,Wu),Bi.prototype.ra=function(){kt(this.g,"a")},Bi.prototype.qa=function(c){kt(this.g,new ec(c))},Bi.prototype.pa=function(c){kt(this.g,new tc)},Bi.prototype.oa=function(){kt(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,WE=function(){return new bs},ZE=function(){return _a()},JE=dt,Fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,yh=br,Bo.COMPLETE="complete",XE=Bo,Mu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Gl=Mu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,$E=Je}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Do="12.8.0";function xI(s){Do=s}const sa=new _p("@firebase/firestore");function ao(){return sa.logLevel}function ue(s,...e){if(sa.logLevel<=ke.DEBUG){const n=e.map(Ip);sa.debug(`Firestore (${Do}): ${s}`,...n)}}function us(s,...e){if(sa.logLevel<=ke.ERROR){const n=e.map(Ip);sa.error(`Firestore (${Do}): ${s}`,...n)}}function vo(s,...e){if(sa.logLevel<=ke.WARN){const n=e.map(Ip);sa.warn(`Firestore (${Do}): ${s}`,...n)}}function Ip(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function ve(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,eT(s,r,n)}function eT(s,e,n){let r=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw us(r),new Error(r)}function Ke(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||eT(e,o,r)}function be(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class as{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class tT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class OI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class MI{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new as;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new as,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new as)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new tT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class VI{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class kI{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new VI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const r=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new x0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new x0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class Np{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=PI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function je(s,e){return s<e?-1:s>e?1:0}function Gm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return wm(o)===wm(u)?je(o,u):wm(o)?1:-1}return je(s.length,e.length)}const LI=55296,UI=57343;function wm(s){const e=s.charCodeAt(0);return e>=LI&&e<=UI}function Eo(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const D0="__name__";class Ri{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Ri.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return je(e.length,n.length)}static compareSegments(e,n){const r=Ri.isNumericId(e),o=Ri.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):Gm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sr.fromString(e.substring(4,e.length-2))}}class nt extends Ri{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const zI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Ri{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return zI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D0}static keyField(){return new $t([D0])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(nt.fromString(e))}static fromName(e){return new me(nt.fromString(e).popFirst(5))}static empty(){return new me(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new nt(e.slice()))}}function nT(s,e,n){if(!n)throw new le(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function BI(s,e,n,r){if(e===!0&&r===!0)throw new le(J.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function O0(s){if(!me.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function M0(s){if(me.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function iT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Jh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function cs(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jh(s);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Dt(s,e){const n={typeString:s};return e&&(n.value=e),n}function bu(s,e){if(!iT(s))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new le(J.INVALID_ARGUMENT,n);return!0}const V0=-62135596800,k0=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*k0);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<V0)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k0}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Dt("string",rt._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new rt(0,0))}static max(){return new Te(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const lu=-1;function qI(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new or(o,me.empty(),e)}function HI(s){return new or(s.readTime,s.key,lu)}class or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new or(Te.min(),me.empty(),lu)}static max(){return new or(Te.max(),me.empty(),lu)}}function FI(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(s.documentKey,e.documentKey),n!==0?n:je(s.largestBatchId,e.largestBatchId))}const GI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Oo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==GI)throw s;ue("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,r)=>{n(e)}))}static reject(e){return new ee(((n,r)=>{r(e)}))}static waitFor(e){return new ee(((n,r)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>r(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next((o=>o?ee.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new ee(((r,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((T=>{f[y]=T,++m,m===u&&r(f)}),(T=>o(T)))}}))}static doWhile(e,n){return new ee(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function QI(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(s){return s.name==="IndexedDbTransactionError"}class Zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zh.ce=-1;const xp=-1;function Wh(s){return s==null}function Mh(s){return s===0&&1/s==-1/0}function YI(s){return typeof s=="number"&&Number.isInteger(s)&&!Mh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const sT="";function $I(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=j0(e)),e=XI(s.get(n),e);return j0(e)}function XI(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case sT:n+="";break;default:n+=u}}return n}function j0(s){return s+sT+""}function P0(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function gr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function rT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Yt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L0(this.data.getIterator())}getIteratorFrom(e){return new L0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class L0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Pt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class aT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new aT("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const JI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(s){if(Ke(!!s,39018),typeof s=="string"){let e=0;const n=JI.exec(s);if(Ke(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(s.seconds),nanos:_t(s.nanos)}}function _t(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ur(s){return typeof s=="string"?Xt.fromBase64String(s):Xt.fromUint8Array(s)}const oT="server_timestamp",lT="__type__",uT="__previous_value__",cT="__local_write_time__";function Dp(s){return(s?.mapValue?.fields||{})[lT]?.stringValue===oT}function ef(s){const e=s.mapValue.fields[uT];return Dp(e)?ef(e):e}function uu(s){const e=lr(s.mapValue.fields[cT].timestampValue);return new rt(e.seconds,e.nanos)}class ZI{constructor(e,n,r,o,u,f,m,p,y,T,b){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=b}}const Vh="(default)";class cu{constructor(e,n){this.projectId=e,this.database=n||Vh}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===Vh}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}function WI(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(s.options.projectId,e)}const hT="__type__",eN="__max__",lh={mapValue:{}},fT="__vector__",kh="value";function cr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Dp(s)?4:nN(s)?9007199254740991:tN(s)?10:11:ve(28295,{value:s})}function Vi(s,e){if(s===e)return!0;const n=cr(s);if(n!==cr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return uu(s).isEqual(uu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=lr(o.timestampValue),m=lr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return ur(o.bytesValue).isEqual(ur(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?Mh(f)===Mh(m):isNaN(f)&&isNaN(m)}return!1})(s,e);case 9:return Eo(s.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(P0(f)!==P0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Vi(f[p],m[p])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function hu(s,e){return(s.values||[]).find((n=>Vi(n,e)))!==void 0}function To(s,e){if(s===e)return 0;const n=cr(s),r=cr(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(s,e);case 3:return U0(s.timestampValue,e.timestampValue);case 4:return U0(uu(s),uu(e));case 5:return Gm(s.stringValue,e.stringValue);case 6:return(function(u,f){const m=ur(u),p=ur(f);return m.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=je(m[y],p[y]);if(T!==0)return T}return je(m.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=je(_t(u.latitude),_t(f.latitude));return m!==0?m:je(_t(u.longitude),_t(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return z0(s.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[kh]?.arrayValue,T=p[kh]?.arrayValue,b=je(y?.values?.length||0,T?.values?.length||0);return b!==0?b:z0(y,T)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===lh.mapValue&&f===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(f===lh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const w=Gm(p[b],T[b]);if(w!==0)return w;const B=To(m[p[b]],y[T[b]]);if(B!==0)return B}return je(p.length,T.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function U0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return je(s,e);const n=lr(s),r=lr(e),o=je(n.seconds,r.seconds);return o!==0?o:je(n.nanos,r.nanos)}function z0(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=To(n[o],r[o]);if(u)return u}return je(n.length,r.length)}function Ao(s){return Km(s)}function Km(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=lr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return ur(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return me.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Km(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Km(n.fields[f])}`;return o+"}"})(s.mapValue):ve(61005,{value:s})}function vh(s){switch(cr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ef(s);return e?16+vh(e):16;case 5:return 2*s.stringValue.length;case 6:return ur(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+vh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return gr(r.fields,((u,f)=>{o+=u.length+vh(f)})),o})(s.mapValue);default:throw ve(13486,{value:s})}}function B0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Qm(s){return!!s&&"integerValue"in s}function Op(s){return!!s&&"arrayValue"in s}function q0(s){return!!s&&"nullValue"in s}function H0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Eh(s){return!!s&&"mapValue"in s}function tN(s){return(s?.mapValue?.fields||{})[hT]?.stringValue===fT}function Wl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return gr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Wl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wl(s.arrayValue.values[n]);return e}return{...s}}function nN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===eN}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(n)}setAll(e){let n=$t.emptyPath(),r={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=Wl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());Eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){gr(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new mn(Wl(this.value))}}function dT(s){const e=[];return gr(s.fields,((n,r)=>{const o=new $t([n]);if(Eh(r)){const u=dT(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new wn(e)}class en{constructor(e,n,r,o,u,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Te.min(),Te.min(),Te.min(),mn.empty(),0)}static newFoundDocument(e,n,r,o){return new en(e,1,n,Te.min(),r,o,0)}static newNoDocument(e,n){return new en(e,2,n,Te.min(),Te.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Te.min(),Te.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jh{constructor(e,n){this.position=e,this.inclusive=n}}function F0(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],f=s.position[o];if(u.field.isKeyField()?r=me.comparator(me.fromName(f.referenceValue),n.key):r=To(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function G0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Vi(s.position[n],e.position[n]))return!1;return!0}class fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function iN(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class mT{}class xt extends mT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rN(e,n,r):n==="array-contains"?new lN(e,r):n==="in"?new uN(e,r):n==="not-in"?new cN(e,r):n==="array-contains-any"?new hN(e,r):new xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aN(e,r):new oN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(To(n,this.value)):n!==null&&cr(this.value)===cr(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends mT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ni(e,n)}matches(e){return pT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pT(s){return s.op==="and"}function gT(s){return sN(s)&&pT(s)}function sN(s){for(const e of s.filters)if(e instanceof ni)return!1;return!0}function Ym(s){if(s instanceof xt)return s.field.canonicalString()+s.op.toString()+Ao(s.value);if(gT(s))return s.filters.map((e=>Ym(e))).join(",");{const e=s.filters.map((n=>Ym(n))).join(",");return`${s.op}(${e})`}}function _T(s,e){return s instanceof xt?(function(r,o){return o instanceof xt&&r.op===o.op&&r.field.isEqual(o.field)&&Vi(r.value,o.value)})(s,e):s instanceof ni?(function(r,o){return o instanceof ni&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,m)=>u&&_T(f,o.filters[m])),!0):!1})(s,e):void ve(19439)}function yT(s){return s instanceof xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`})(s):s instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(yT).join(" ,")+"}"})(s):"Filter"}class rN extends xt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class aN extends xt{constructor(e,n){super(e,"in",n),this.keys=vT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class oN extends xt{constructor(e,n){super(e,"not-in",n),this.keys=vT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function vT(s,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class lN extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Op(n)&&hu(n.arrayValue,this.value)}}class uN extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class cN extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hu(this.value.arrayValue,n)}}class hN extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>hu(this.value.arrayValue,r)))}}class fN{constructor(e,n=null,r=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function K0(s,e=null,n=[],r=[],o=null,u=null,f=null){return new fN(s,e,n,r,o,u,f)}function Mp(s){const e=be(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ym(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ao(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ao(r))).join(",")),e.Te=n}return e.Te}function Vp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!iN(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!_T(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!G0(s.startAt,e.startAt)&&G0(s.endAt,e.endAt)}function $m(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Vo{constructor(e,n=null,r=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function dN(s,e,n,r,o,u,f,m){return new Vo(s,e,n,r,o,u,f,m)}function kp(s){return new Vo(s)}function Q0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function mN(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function ET(s){return s.collectionGroup!==null}function eu(s){const e=be(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pt($t.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new fu(u,r))})),n.has($t.keyField().canonicalString())||e.Ie.push(new fu($t.keyField(),r))}return e.Ie}function xi(s){const e=be(s);return e.Ee||(e.Ee=pN(e,eu(s))),e.Ee}function pN(s,e){if(s.limitType==="F")return K0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new fu(o.field,u)}));const n=s.endAt?new jh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new jh(s.startAt.position,s.startAt.inclusive):null;return K0(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Xm(s,e){const n=s.filters.concat([e]);return new Vo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function gN(s,e){const n=s.explicitOrderBy.concat([e]);return new Vo(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Jm(s,e,n){return new Vo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function tf(s,e){return Vp(xi(s),xi(e))&&s.limitType===e.limitType}function TT(s){return`${Mp(xi(s))}|lt:${s.limitType}`}function oo(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>yT(o))).join(", ")}]`),Wh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Ao(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Ao(o))).join(",")),`Target(${r})`})(xi(s))}; limitType=${s.limitType})`}function nf(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):me.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of eu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,m,p){const y=F0(f,m,p);return f.inclusive?y<=0:y<0})(r.startAt,eu(r),o)||r.endAt&&!(function(f,m,p){const y=F0(f,m,p);return f.inclusive?y>=0:y>0})(r.endAt,eu(r),o))})(s,e)}function _N(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function AT(s){return(e,n)=>{let r=!1;for(const o of eu(s)){const u=yN(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function yN(s,e,n){const r=s.field.isKeyField()?me.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?To(p,y):ve(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ve(19790,{direction:s.dir})}}class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gr(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return rT(this.inner)}size(){return this.innerSize}}const vN=new ct(me.comparator);function hs(){return vN}const bT=new ct(me.comparator);function Kl(...s){let e=bT;for(const n of s)e=e.insert(n.key,n);return e}function ST(s){let e=bT;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Jr(){return tu()}function wT(){return tu()}function tu(){return new ca((s=>s.toString()),((s,e)=>s.isEqual(e)))}const EN=new ct(me.comparator),TN=new Pt(me.comparator);function Pe(...s){let e=TN;for(const n of s)e=e.add(n);return e}const AN=new Pt(je);function bN(){return AN}function jp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function RT(s){return{integerValue:""+s}}function SN(s,e){return YI(e)?RT(e):jp(s,e)}class sf{constructor(){this._=void 0}}function wN(s,e,n){return s instanceof du?(function(o,u){const f={fields:{[lT]:{stringValue:oT},[cT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Dp(u)&&(u=ef(u)),u&&(f.fields[uT]=u),{mapValue:f}})(n,e):s instanceof mu?IT(s,e):s instanceof pu?NT(s,e):(function(o,u){const f=CT(o,u),m=Y0(f)+Y0(o.Ae);return Qm(f)&&Qm(o.Ae)?RT(m):jp(o.serializer,m)})(s,e)}function RN(s,e,n){return s instanceof mu?IT(s,e):s instanceof pu?NT(s,e):n}function CT(s,e){return s instanceof Ph?(function(r){return Qm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class du extends sf{}class mu extends sf{constructor(e){super(),this.elements=e}}function IT(s,e){const n=xT(e);for(const r of s.elements)n.some((o=>Vi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class pu extends sf{constructor(e){super(),this.elements=e}}function NT(s,e){let n=xT(e);for(const r of s.elements)n=n.filter((o=>!Vi(o,r)));return{arrayValue:{values:n}}}class Ph extends sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Y0(s){return _t(s.integerValue||s.doubleValue)}function xT(s){return Op(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class CN{constructor(e,n){this.field=e,this.transform=n}}function IN(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof mu&&o instanceof mu||r instanceof pu&&o instanceof pu?Eo(r.elements,o.elements,Vi):r instanceof Ph&&o instanceof Ph?Vi(r.Ae,o.Ae):r instanceof du&&o instanceof du})(s.transform,e.transform)}class NN{constructor(e,n){this.version=e,this.transformResults=n}}class Di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class rf{}function DT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new MT(s.key,Di.none()):new Su(s.key,s.data,Di.none());{const n=s.data,r=mn.empty();let o=new Pt($t.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new _r(s.key,r,new wn(o.toArray()),Di.none())}}function xN(s,e,n){s instanceof Su?(function(o,u,f){const m=o.value.clone(),p=X0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,e,n):s instanceof _r?(function(o,u,f){if(!Th(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=X0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(OT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function nu(s,e,n,r){return s instanceof Su?(function(u,f,m,p){if(!Th(u.precondition,f))return m;const y=u.value.clone(),T=J0(u.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof _r?(function(u,f,m,p){if(!Th(u.precondition,f))return m;const y=J0(u.fieldTransforms,p,f),T=f.data;return T.setAll(OT(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(s,e,n,r):(function(u,f,m){return Th(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,e,n)}function DN(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=CT(r.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(r.field,u))}return n||null}function $0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Eo(r,o,((u,f)=>IN(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Su extends rf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _r extends rf{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function OT(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function X0(s,e,n){const r=new Map;Ke(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,m=e.data.field(u.field);r.set(u.field,RN(f,m,n[o]))}return r}function J0(s,e,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,wN(u,f,e))}return r}class MT extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ON extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MN{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&xN(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=DT(f,m);p!==null&&r.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Te.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,((n,r)=>$0(n,r)))&&Eo(this.baseMutations,e.baseMutations,((n,r)=>$0(n,r)))}}class Pp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return EN})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new Pp(e,n,r,o)}}class VN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,ze;function jN(s){switch(s){case J.OK:return ve(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function VT(s){if(s===void 0)return us("GRPC error has no .code"),J.UNKNOWN;switch(s){case Nt.OK:return J.OK;case Nt.CANCELLED:return J.CANCELLED;case Nt.UNKNOWN:return J.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return J.INTERNAL;case Nt.UNAVAILABLE:return J.UNAVAILABLE;case Nt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Nt.NOT_FOUND:return J.NOT_FOUND;case Nt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Nt.ABORTED:return J.ABORTED;case Nt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Nt.DATA_LOSS:return J.DATA_LOSS;default:return ve(39323,{code:s})}}(ze=Nt||(Nt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function PN(){return new TextEncoder}const LN=new sr([4294967295,4294967295],0);function Z0(s){const e=PN().encode(s),n=new YE;return n.update(e),new Uint8Array(n.digest())}function W0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new sr([n,r],0),new sr([o,u],0)]}class Lp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(r<0)throw new Ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=sr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(sr.fromNumber(r)));return o.compare(LN)===1&&(o=new sr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Z0(e),[r,o]=W0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Lp(u,o,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=Z0(e),[r,o]=W0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class af{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new af(Te.min(),o,new ct(je),hs(),Pe())}}class wu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wu(r,n,Pe(),Pe(),Pe())}}class Ah{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class kT{constructor(e,n){this.targetId=e,this.Ce=n}}class jT{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class e1{constructor(){this.ve=0,this.Fe=t1(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),r=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:ve(38017,{changeType:u})}})),new wu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=t1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class UN{constructor(e){this.Ge=e,this.ze=new Map,this.je=hs(),this.He=uh(),this.Je=uh(),this.Ze=new ct(je)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if($m(u))if(r===0){const f=new me(u.path);this.et(n,f,en.newNoDocument(f,Te.min()))}else Ke(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ur(r).toUint8Array()}catch(p){if(p instanceof aT)return vo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Lp(f,o,u)}catch(p){return vo(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&$m(m.target)){const p=new me(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,en.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=Pe();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new af(e,n,this.Ze,this.je,r);return this.je=hs(),this.He=uh(),this.Je=uh(),this.Ze=new ct(je),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new e1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Pt(je),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Pt(je),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new e1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uh(){return new ct(me.comparator)}function t1(){return new ct(me.comparator)}const zN={asc:"ASCENDING",desc:"DESCENDING"},BN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qN={and:"AND",or:"OR"};class HN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zm(s,e){return s.useProto3Json||Wh(e)?e:{value:e}}function Lh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function FN(s,e){return Lh(s,e.toTimestamp())}function Oi(s){return Ke(!!s,49232),Te.fromTimestamp((function(n){const r=lr(n);return new rt(r.seconds,r.nanos)})(s))}function Up(s,e){return Wm(s,e).canonicalString()}function Wm(s,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function LT(s){const e=nt.fromString(s);return Ke(HT(e),10190,{key:e.toString()}),e}function ep(s,e){return Up(s.databaseId,e.path)}function Rm(s,e){const n=LT(e);if(n.get(1)!==s.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new me(zT(n))}function UT(s,e){return Up(s.databaseId,e)}function GN(s){const e=LT(s);return e.length===4?nt.emptyPath():zT(e)}function tp(s){return new nt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function zT(s){return Ke(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function n1(s,e,n){return{name:ep(s,e),fields:n.value.mapValue.fields}}function KN(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(Ke(T===void 0||typeof T=="string",58123),Xt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Xt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const T=y.code===void 0?J.UNKNOWN:VT(y.code);return new le(T,y.message||"")})(f);n=new jT(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Rm(s,r.document.name),u=Oi(r.document.updateTime),f=r.document.createTime?Oi(r.document.createTime):Te.min(),m=new mn({mapValue:{fields:r.document.fields}}),p=en.newFoundDocument(o,u,f,m),y=r.targetIds||[],T=r.removedTargetIds||[];n=new Ah(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Rm(s,r.document),u=r.readTime?Oi(r.readTime):Te.min(),f=en.newNoDocument(o,u),m=r.removedTargetIds||[];n=new Ah([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Rm(s,r.document),u=r.removedTargetIds||[];n=new Ah([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new kN(o,u),m=r.targetId;n=new kT(m,f)}}return n}function QN(s,e){let n;if(e instanceof Su)n={update:n1(s,e.key,e.value)};else if(e instanceof MT)n={delete:ep(s,e.key)};else if(e instanceof _r)n={update:n1(s,e.key,e.data),updateMask:nx(e.fieldMask)};else{if(!(e instanceof ON))return ve(16599,{dt:e.type});n={verify:ep(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof du)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ph)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:FN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(s,e.precondition)),n}function YN(s,e){return s&&s.length>0?(Ke(e!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Oi(o.updateTime):Oi(u);return f.isEqual(Te.min())&&(f=Oi(u)),new NN(f,o.transformResults||[])})(n,e)))):[]}function $N(s,e){return{documents:[UT(s,e.path)]}}function XN(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UT(s,o);const u=(function(y){if(y.length!==0)return qT(ni.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((T=>(function(w){return{field:lo(w.field),direction:WN(w.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Zm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function JN(s){let e=GN(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ke(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(b){const w=BT(b);return w instanceof ni&&gT(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((w=>(function($){return new fu(uo($.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let w;return w=typeof b=="object"?b.value:b,Wh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(b){const w=!!b.before,B=b.values||[];return new jh(B,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const w=!b.before,B=b.values||[];return new jh(B,w)})(n.endAt)),dN(e,o,f,u,m,"F",p,y)}function ZN(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BT(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uo(n.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=uo(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=uo(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=uo(n.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(n){return xt.create(uo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((r=>BT(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(s):ve(30097,{filter:s})}function WN(s){return zN[s]}function ex(s){return BN[s]}function tx(s){return qN[s]}function lo(s){return{fieldPath:s.canonicalString()}}function uo(s){return $t.fromServerFormat(s.fieldPath)}function qT(s){return s instanceof xt?(function(n){if(n.op==="=="){if(H0(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(q0(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(H0(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(q0(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:ex(n.op),value:n.value}}})(s):s instanceof ni?(function(n){const r=n.getFilters().map((o=>qT(o)));return r.length===1?r[0]:{compositeFilter:{op:tx(n.op),filters:r}}})(s):ve(54877,{filter:s})}function nx(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function HT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function FT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class er{constructor(e,n,r,o,u=Te.min(),f=Te.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ix{constructor(e){this.yt=e}}function sx(s){const e=JN({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Jm(e,e.limit,"L"):e}class rx{constructor(){this.Sn=new ax}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(or.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(or.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class ax{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Pt(nt.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Pt(nt.comparator)).toArray()}}const i1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GT=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(GT,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class bo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new bo(0)}static ar(){return new bo(-1)}}const s1="LruGarbageCollector",ox=1048576;function r1([s,e],[n,r]){const o=je(s,n);return o===0?je(e,r):o}class lx{constructor(e){this.Pr=e,this.buffer=new Pt(r1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();r1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ux{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(s1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?ue(s1,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.Ar(3e5)}))}}class cx{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Zh.ce);const r=new lx(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(i1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,u,f,m,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,m=Date.now(),this.removeTargets(e,r,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(y=Date.now(),ao()<=ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function hx(s,e){return new cx(s,e)}class fx{constructor(){this.changes=new ca((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class mx{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&nu(r.mutation,o,wn.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Pe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Pe()){const o=Jr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let f=Kl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=Jr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Pe())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,o){let u=hs();const f=tu(),m=(function(){return tu()})();return n.forEach(((p,y)=>{const T=r.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof _r)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),nu(T.mutation,y,T.mutation.getFieldMask(),rt.now())):f.set(y.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,T)=>f.set(y,T))),n.forEach(((y,T)=>m.set(y,new dx(T,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=tu();let o=new ct(((f,m)=>f-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let T=r.get(p)||wn.empty();T=m.applyToLocalView(y,T),r.set(p,T);const b=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,b=wT();T.forEach((w=>{if(!u.has(w)){const B=DT(n.get(w),r.get(w));B!==null&&b.set(w,B),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return ee.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return mN(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ET(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):ee.resolve(Jr());let m=lu,p=u;return f.next((y=>ee.forEach(y,((T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next((w=>{p=p.insert(T,w)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Pe()))).next((T=>({batchId:m,changes:ST(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((r=>{let o=Kl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let f=Kl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const y=(function(b,w){return new Vo(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((T=>{T.forEach(((b,w)=>{f=f.insert(b,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((f=>{u.forEach(((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,en.newInvalidDocument(T)))}));let m=Kl();return f.forEach(((p,y)=>{const T=u.get(p);T!==void 0&&nu(T.mutation,y,wn.empty(),rt.now()),nf(n,y)&&(m=m.insert(p,y))})),m}))}}class px{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:sx(o.bundledQuery),readTime:Oi(o.readTime)}})(n)),ee.resolve()}}class gx{constructor(){this.overlays=new ct(me.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jr();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.bt(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const o=Jr(),u=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new ct(((y,T)=>y-T));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=u.get(y.largestBatchId);T===null&&(T=Jr(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Jr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,T)=>m.set(y,T))),!(m.size()>=o)););return ee.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new VN(n,r));let u=this.Lr.get(n);u===void 0&&(u=Pe(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class _x{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class zp{constructor(){this.kr=new Pt(Bt.Kr),this.qr=new Pt(Bt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Bt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Bt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new me(new nt([])),r=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new me(new nt([])),r=new Bt(n,e),o=new Bt(n,e+1);let u=Pe();return this.qr.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Bt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return me.comparator(e.key,n.key)||je(e.Hr,n.Hr)}static Ur(e,n){return je(e.Hr,n.Hr)||me.comparator(e.key,n.key)}}class yx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Pt(Bt.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new MN(u,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?xp:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(je);return n.forEach((o=>{const u=new Bt(o,0),f=new Bt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{r=r.add(m.Hr)}))})),ee.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;me.isDocumentKey(u)||(u=u.child(""));const f=new Bt(new me(u),0);let m=new Pt(je);return this.Jr.forEachWhile((p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)}),f),ee.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ee.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Bt(n,0),o=this.Jr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class vx{constructor(e){this.ti=e,this.docs=(function(){return new ct(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=hs();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=hs();const f=n.path,m=new me(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||FI(HI(T),r)<=0||(o.has(T.key)||nf(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,r,o){ve(9500)}ni(e,n){return ee.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Ex(this)}getSize(e){return ee.resolve(this.size)}}class Ex extends fx{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class Tx{constructor(e){this.persistence=e,this.ri=new ca((n=>Mp(n)),Vp),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new zp,this.targetCount=0,this.oi=bo._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}class KT{constructor(e,n){this._i={},this.overlays={},this.ai=new Zh(0),this.ui=!1,this.ui=!0,this.ci=new _x,this.referenceDelegate=e(this),this.li=new Tx(this),this.indexManager=new rx,this.remoteDocumentCache=(function(o){return new vx(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new ix(n),this.Pi=new px(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new yx(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const o=new Ax(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ee.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class Ax extends KI{constructor(e){super(),this.currentSequenceNumber=e}}class Bp{constructor(e){this.persistence=e,this.Ri=new zp,this.Ai=null}static Vi(e){return new Bp(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(r=>{const o=me.fromPath(r);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Uh{constructor(e,n){this.persistence=e,this.fi=new ca((r=>$I(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=hx(this,n)}static Vi(e,n){return new Uh(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ee.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(r++,u.removeEntry(f,Te.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}wr(e,n,r){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ee.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class qp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new qp(e,n.fromCache,r,o)}}class bx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Sx{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return X2()?8:QI(tn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new bx;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(ao()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(ao()<=ke.DEBUG&&ue("QueryEngine","Query:",oo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(ao()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(n))):ee.resolve())}gs(e,n){if(Q0(n))return ee.resolve(null);let r=xi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Jm(n,null,"F"),r=xi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Pe(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((p=>{const y=this.bs(n,m);return this.Ss(n,y,f,p.readTime)?this.gs(e,Jm(n,null,"F")):this.Ds(e,y,n,p)}))))})))))}ps(e,n,r,o){return Q0(n)||o.isEqual(Te.min())?ee.resolve(null):this.fs.getDocuments(e,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,o)?ee.resolve(null):(ao()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oo(n)),this.Ds(e,f,n,qI(o,lu)).next((m=>m)))}))}bs(e,n){let r=new Pt(AT(e));return n.forEach(((o,u)=>{nf(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,r){return ao()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",oo(n)),this.fs.getDocumentsMatchingQuery(e,n,or.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Hp="LocalStore",wx=3e8;class Rx{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ct(je),this.Fs=new ca((u=>Mp(u)),Vp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Cx(s,e,n,r){return new Rx(s,e,n,r)}async function QT(s,e){const n=be(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let p=Pe();for(const y of o){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(r,p).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function Ix(s,e){const n=be(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,T){const b=y.batch,w=b.keys();let B=ee.resolve();return w.forEach(($=>{B=B.next((()=>T.getEntry(p,$))).next((H=>{const P=y.docVersions.get($);Ke(P!==null,48541),H.version.compareTo(P)<0&&(b.applyToRemoteDocument(H,y),H.isValidDocument()&&(H.setReadTime(y.commitVersion),T.addEntry(H)))}))})),B.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Pe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function YT(s){const e=be(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Nx(s,e){const n=be(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((T,b)=>{const w=o.get(b);if(!w)return;m.push(n.li.removeMatchingKeys(u,T.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,b))));let B=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?B=B.withResumeToken(Xt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,r)),o=o.insert(b,B),(function(H,P,K){return H.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=wx?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(w,B,T)&&m.push(n.li.updateTargetData(u,B))}));let p=hs(),y=Pe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(xx(u,f,e.documentUpdates).next((T=>{p=T.Bs,y=T.Ls}))),!r.isEqual(Te.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(T)}return ee.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.vs=o,u)))}function xx(s,e,n){let r=Pe(),o=Pe();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=hs();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(Hp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Bs:f,Ls:o}}))}function Dx(s,e){const n=be(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=xp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Ox(s,e){const n=be(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((u=>u?(o=u,ee.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new er(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function np(s,e,n){const r=be(s),o=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Mo(f))throw f;ue(Hp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function a1(s,e,n){const r=be(s);let o=Te.min(),u=Pe();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,T){const b=be(p),w=b.Fs.get(T);return w!==void 0?ee.resolve(b.vs.get(w)):b.li.getTargetData(y,T)})(r,f,xi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?o:Te.min(),n?u:Pe()))).next((m=>(Mx(r,_N(e),m),{documents:m,ks:u})))))}function Mx(s,e,n){let r=s.Ms.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class o1{constructor(){this.activeTargetIds=bN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vx{constructor(){this.vo=new o1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new o1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kx{Mo(e){}shutdown(){}}const l1="ConnectivityMonitor";class u1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(l1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(l1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ch=null;function ip(){return ch===null?ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():ch++,"0x"+ch.toString(16)}const Cm="RestConnection",jx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Px{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Vh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,u){const f=ip(),m=this.Qo(e,n.toUriEncodedString());ue(Cm,`Sending RPC '${e}' ${f}:`,m,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:y}=new URL(m),T=oa(y);return this.zo(e,m,p,r,T).then((b=>(ue(Cm,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw vo(Cm,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",r),b}))}jo(e,n,r,o,u,f){return this.Wo(e,n,r,o,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const r=jx[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class Lx{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Zt="WebChannelConnection",ql=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class po extends Px{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!po.c_){const e=ZE();ql(e,JE.STAT_EVENT,(n=>{n.stat===Fm.PROXY?ue(Zt,"STAT_EVENT: detected buffering proxy"):n.stat===Fm.NOPROXY&&ue(Zt,"STAT_EVENT: detected no buffering proxy")})),po.c_=!0}}zo(e,n,r,o,u){const f=ip();return new Promise(((m,p)=>{const y=new $E;y.setWithCredentials(!0),y.listenOnce(XE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case yh.NO_ERROR:const b=y.getResponseJson();ue(Zt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case yh.TIMEOUT:ue(Zt,`RPC '${e}' ${f} timed out`),p(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const w=y.getStatus();if(ue(Zt,`RPC '${e}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const $=B?.error;if($&&$.status&&$.message){const H=(function(K){const oe=K.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(oe)>=0?oe:J.UNKNOWN})($.status);p(new le(H,$.message))}else p(new le(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new le(J.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(Zt,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(o);ue(Zt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",T,r,15)}))}T_(e,n,r){const o=ip(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=u.join("");ue(Zt,`Creating RPC '${e}' stream ${o}: ${y}`,m);const T=f.createWebChannel(y,m);this.I_(T);let b=!1,w=!1;const B=new Lx({Ho:$=>{w?ue(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(b||(ue(Zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),ue(Zt,`RPC '${e}' stream ${o} sending:`,$),T.send($))},Jo:()=>T.close()});return ql(T,Gl.EventType.OPEN,(()=>{w||(ue(Zt,`RPC '${e}' stream ${o} transport opened.`),B.i_())})),ql(T,Gl.EventType.CLOSE,(()=>{w||(w=!0,ue(Zt,`RPC '${e}' stream ${o} transport closed`),B.o_(),this.E_(T))})),ql(T,Gl.EventType.ERROR,($=>{w||(w=!0,vo(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),B.o_(new le(J.UNAVAILABLE,"The operation could not be completed")))})),ql(T,Gl.EventType.MESSAGE,($=>{if(!w){const H=$.data[0];Ke(!!H,16349);const P=H,K=P?.error||P[0]?.error;if(K){ue(Zt,`RPC '${e}' stream ${o} received error:`,K);const oe=K.status;let ne=(function(Ne){const N=Nt[Ne];if(N!==void 0)return VT(N)})(oe),ie=K.message;ne===void 0&&(ne=J.INTERNAL,ie="Unknown error status: "+oe+" with message "+K.message),w=!0,B.o_(new le(ne,ie)),T.close()}else ue(Zt,`RPC '${e}' stream ${o} received:`,H),B.__(H)}})),po.u_(),setTimeout((()=>{B.s_()}),0),B}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return WE()}}function Ux(s){return new po(s)}function Im(){return typeof document<"u"?document:null}function of(s){return new HN(s,!0)}po.c_=!1;class $T{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const c1="PersistentStream";class XT{constructor(e,n,r,o,u,f,m,p){this.Ci=e,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $T(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(us(n.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new le(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(c1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ue(c1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zx extends XT{constructor(e,n,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=KN(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?Oi(f.readTime):Te.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=tp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=$m(p)?{documents:$N(u,p)}:{query:XN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=PT(u,f.resumeToken);const y=Zm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Te.min())>0){m.readTime=Lh(u,f.snapshotVersion.toTimestamp());const y=Zm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=ZN(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=tp(this.serializer),n.removeTarget=e,this.K_(n)}}class Bx extends XT{constructor(e,n,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=YN(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=tp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>QN(this.serializer,r)))};this.K_(n)}}class qx{}class Hx extends qx{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Wm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(J.UNKNOWN,u.toString())}))}jo(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Wm(n,r),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Fx(s,e,n,r){return new Hx(s,e,n,r)}class Gx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class Kx{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{ha(this)&&(ue(ra,"Restarting streams for network reachability change."),await(async function(p){const y=be(p);y.Ea.add(4),await Ru(y),y.Va.set("Unknown"),y.Ea.delete(4),await lf(y)})(this))}))})),this.Va=new Gx(r,o)}}async function lf(s){if(ha(s))for(const e of s.Ra)await e(!0)}async function Ru(s){for(const e of s.Ra)await e(!1)}function JT(s,e){const n=be(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Qp(n)?Kp(n):ko(n).O_()&&Gp(n,e))}function Fp(s,e){const n=be(s),r=ko(n);n.Ia.delete(e),r.O_()&&ZT(n,e),n.Ia.size===0&&(r.O_()?r.L_():ha(n)&&n.Va.set("Unknown"))}function Gp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(s).Z_(e)}function ZT(s,e){s.da.$e(e),ko(s).X_(e)}function Kp(s){s.da=new UN({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ko(s).start(),s.Va.ua()}function Qp(s){return ha(s)&&!ko(s).x_()&&s.Ia.size>0}function ha(s){return be(s).Ea.size===0}function WT(s){s.da=void 0}async function Qx(s){s.Va.set("Online")}async function Yx(s){s.Ia.forEach(((e,n)=>{Gp(s,e)}))}async function $x(s,e){WT(s),Qp(s)?(s.Va.ha(e),Kp(s)):s.Va.set("Unknown")}async function Xx(s,e,n){if(s.Va.set("Online"),e instanceof jT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(s,e)}catch(r){ue(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zh(s,r)}else if(e instanceof Ah?s.da.Xe(e):e instanceof kT?s.da.st(e):s.da.tt(e),!n.isEqual(Te.min()))try{const r=await YT(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(Xt.EMPTY_BYTE_STRING,T.snapshotVersion)),ZT(u,p);const b=new er(T.target,p,y,T.sequenceNumber);Gp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){ue(ra,"Failed to raise snapshot:",r),await zh(s,r)}}async function zh(s,e,n){if(!Mo(e))throw e;s.Ea.add(1),await Ru(s),s.Va.set("Offline"),n||(n=()=>YT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(ra,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await lf(s)}))}function eA(s,e){return e().catch((n=>zh(s,n,e)))}async function uf(s){const e=be(s),n=hr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xp;for(;Jx(e);)try{const o=await Dx(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,Zx(e,o)}catch(o){await zh(e,o)}tA(e)&&nA(e)}function Jx(s){return ha(s)&&s.Ta.length<10}function Zx(s,e){s.Ta.push(e);const n=hr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function tA(s){return ha(s)&&!hr(s).x_()&&s.Ta.length>0}function nA(s){hr(s).start()}async function Wx(s){hr(s).ra()}async function e4(s){const e=hr(s);for(const n of s.Ta)e.ea(n.mutations)}async function t4(s,e,n){const r=s.Ta.shift(),o=Pp.from(r,e,n);await eA(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await uf(s)}async function n4(s,e){e&&hr(s).Y_&&await(async function(r,o){if((function(f){return jN(f)&&f!==J.ABORTED})(o.code)){const u=r.Ta.shift();hr(r).B_(),await eA(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await uf(r)}})(s,e),tA(s)&&nA(s)}async function h1(s,e){const n=be(s);n.asyncQueue.verifyOperationInProgress(),ue(ra,"RemoteStore received new credentials");const r=ha(n);n.Ea.add(3),await Ru(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lf(n)}async function i4(s,e){const n=be(s);e?(n.Ea.delete(2),await lf(n)):e||(n.Ea.add(2),await Ru(n),n.Va.set("Unknown"))}function ko(s){return s.ma||(s.ma=(function(n,r,o){const u=be(n);return u.sa(),new zx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:Qx.bind(null,s),Yo:Yx.bind(null,s),t_:$x.bind(null,s),J_:Xx.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Qp(s)?Kp(s):s.Va.set("Unknown")):(await s.ma.stop(),WT(s))}))),s.ma}function hr(s){return s.fa||(s.fa=(function(n,r,o){const u=be(n);return u.sa(),new Bx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Wx.bind(null,s),t_:n4.bind(null,s),ta:e4.bind(null,s),na:t4.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await uf(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(ra,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Yp{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const f=Date.now()+r,m=new Yp(e,n,f,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(s,e){if(us("AsyncQueue",`${e}: ${s}`),Mo(s))return new le(J.UNAVAILABLE,`${e}: ${s}`);throw s}class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=Kl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class f1{constructor(){this.ga=new ct(me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class So{constructor(e,n,r,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new So(e,n,go.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class s4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class r4{constructor(){this.queries=d1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=be(n),u=o.queries;o.queries=d1(),u.forEach(((f,m)=>{for(const p of m.ba)p.onError(r)}))})(this,new le(J.ABORTED,"Firestore shutting down"))}}function d1(){return new ca((s=>TT(s)),tf)}async function iA(s,e){const n=be(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(r=2):(u=new s4,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=$p(f,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Xp(n)}async function sA(s,e){const n=be(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function a4(s,e){const n=be(s);let r=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(r=!0);f.wa=o}}r&&Xp(n)}function o4(s,e,n){const r=be(s),o=r.queries.get(e);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(e)}function Xp(s){s.Ca.forEach((e=>{e.next()}))}var sp,m1;(m1=sp||(sp={})).Ma="default",m1.Cache="cache";class rA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new So(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sp.Cache}}class aA{constructor(e){this.key=e}}class oA{constructor(e){this.key=e}}class l4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.eu=AT(e),this.tu=new go(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new f1,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,b)=>{const w=o.get(T),B=nf(this.query,b)?b:null,$=!!w&&this.mutatedKeys.has(w.key),H=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let P=!1;w&&B?w.data.isEqual(B.data)?$!==H&&(r.track({type:3,doc:B}),P=!0):this.su(w,B)||(r.track({type:2,doc:B}),P=!0,(p&&this.eu(B,p)>0||y&&this.eu(B,y)<0)&&(m=!0)):!w&&B?(r.track({type:0,doc:B}),P=!0):w&&!B&&(r.track({type:1,doc:w}),P=!0,(p||y)&&(m=!0)),P&&(B?(f=f.add(B),u=H?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:f,iu:r,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,b)=>(function(B,$){const H=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:P})}};return H(B)-H($)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Xa;return this.Xa=p,f.length!==0||y?{snapshot:new So(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new f1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new oA(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new aA(r))})),n}cu(e){this.Za=e.ks,this.Ya=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Jp="SyncEngine";class u4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class c4{constructor(e){this.key=e,this.hu=!1}}class h4{constructor(e,n,r,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ca((m=>TT(m)),tf),this.Iu=new Map,this.Eu=new Set,this.Ru=new ct(me.comparator),this.Au=new Map,this.Vu=new zp,this.du={},this.mu=new Map,this.fu=bo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function f4(s,e,n=!0){const r=dA(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await lA(r,e,n,!0),o}async function d4(s,e){const n=dA(s);await lA(n,e,!0,!1)}async function lA(s,e,n,r){const o=await Ox(s.localStore,xi(e)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await m4(s,e,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&JT(s.remoteStore,o),m}async function m4(s,e,n,r,o){s.pu=(b,w,B)=>(async function(H,P,K,oe){let ne=P.view.ru(K);ne.Ss&&(ne=await a1(H.localStore,P.query,!1).then((({documents:N})=>P.view.ru(N,ne))));const ie=oe&&oe.targetChanges.get(P.targetId),Se=oe&&oe.targetMismatches.get(P.targetId)!=null,Ne=P.view.applyChanges(ne,H.isPrimaryClient,ie,Se);return g1(H,P.targetId,Ne.au),Ne.snapshot})(s,b,w,B);const u=await a1(s.localStore,e,!0),f=new l4(e,u.ks),m=f.ru(u.documents),p=wu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(m,s.isPrimaryClient,p);g1(s,n,y.au);const T=new u4(e,n,f);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function p4(s,e,n){const r=be(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!tf(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await np(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Fp(r.remoteStore,o.targetId),rp(r,o.targetId)})).catch(Oo)):(rp(r,o.targetId),await np(r.localStore,o.targetId,!0))}async function g4(s,e){const n=be(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fp(n.remoteStore,r.targetId))}async function _4(s,e,n){const r=S4(s);try{const o=await(function(f,m){const p=be(f),y=rt.now(),T=m.reduce(((B,$)=>B.add($.key)),Pe());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let $=hs(),H=Pe();return p.xs.getEntries(B,T).next((P=>{$=P,$.forEach(((K,oe)=>{oe.isValidDocument()||(H=H.add(K))}))})).next((()=>p.localDocuments.getOverlayedDocuments(B,$))).next((P=>{b=P;const K=[];for(const oe of m){const ne=DN(oe,b.get(oe.key).overlayedDocument);ne!=null&&K.push(new _r(oe.key,ne,dT(ne.value.mapValue),Di.exists(!0)))}return p.mutationQueue.addMutationBatch(B,y,K,m)})).next((P=>{w=P;const K=P.applyToLocalDocumentSet(b,H);return p.documentOverlayCache.saveOverlays(B,P.batchId,K)}))})).then((()=>({batchId:w.batchId,changes:ST(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.du[f.currentUser.toKey()];y||(y=new ct(je)),y=y.insert(m,p),f.du[f.currentUser.toKey()]=y})(r,o.batchId,n),await Cu(r,o.changes),await uf(r.remoteStore)}catch(o){const u=$p(o,"Failed to persist write");n.reject(u)}}async function uA(s,e){const n=be(s);try{const r=await Nx(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ke(f.hu,14607):o.removedDocuments.size>0&&(Ke(f.hu,42227),f.hu=!1))})),await Cu(n,r,e)}catch(r){await Oo(r)}}function p1(s,e,n){const r=be(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=be(f);p.onlineState=m;let y=!1;p.queries.forEach(((T,b)=>{for(const w of b.ba)w.va(m)&&(y=!0)})),y&&Xp(p)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function y4(s,e,n){const r=be(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new ct(me.comparator);f=f.insert(u,en.newNoDocument(u,Te.min()));const m=Pe().add(u),p=new af(Te.min(),new Map,new ct(je),f,m);await uA(r,p),r.Ru=r.Ru.remove(u),r.Au.delete(e),Zp(r)}else await np(r.localStore,e,!1).then((()=>rp(r,e,n))).catch(Oo)}async function v4(s,e){const n=be(s),r=e.batch.batchId;try{const o=await Ix(n.localStore,e);hA(n,r,null),cA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cu(n,o)}catch(o){await Oo(o)}}async function E4(s,e,n){const r=be(s);try{const o=await(function(f,m){const p=be(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return p.mutationQueue.lookupMutationBatch(y,m).next((b=>(Ke(b!==null,37113),T=b.keys(),p.mutationQueue.removeMutationBatch(y,b)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>p.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);hA(r,e,n),cA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cu(r,o)}catch(o){await Oo(o)}}function cA(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function hA(s,e,n){const r=be(s);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function rp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||fA(s,r)}))}function fA(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(Fp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),Zp(s))}function g1(s,e,n){for(const r of n)r instanceof aA?(s.Vu.addReference(r.key,e),T4(s,r)):r instanceof oA?(ue(Jp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||fA(s,r.key)):ve(19791,{wu:r})}function T4(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(ue(Jp,"New document in limbo: "+n),s.Eu.add(r),Zp(s))}function Zp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new me(nt.fromString(e)),r=s.fu.next();s.Au.set(r,new c4(n)),s.Ru=s.Ru.insert(n,r),JT(s.remoteStore,new er(xi(kp(n.path)),r,"TargetPurposeLimboResolution",Zh.ce))}}async function Cu(s,e,n){const r=be(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{f.push(r.pu(p,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=qp.Es(p.targetId,y);u.push(T)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(p,y){const T=be(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ee.forEach(y,(w=>ee.forEach(w.Ts,(B=>T.persistence.referenceDelegate.addReference(b,w.targetId,B))).next((()=>ee.forEach(w.Is,(B=>T.persistence.referenceDelegate.removeReference(b,w.targetId,B)))))))))}catch(b){if(!Mo(b))throw b;ue(Hp,"Failed to update sequence numbers: "+b)}for(const b of y){const w=b.targetId;if(!b.fromCache){const B=T.vs.get(w),$=B.snapshotVersion,H=B.withLastLimboFreeSnapshotVersion($);T.vs=T.vs.insert(w,H)}}})(r.localStore,u))}async function A4(s,e){const n=be(s);if(!n.currentUser.isEqual(e)){ue(Jp,"User change. New user:",e.toKey());const r=await QT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cu(n,r.Ns)}}function b4(s,e){const n=be(s),r=n.Au.get(e);if(r&&r.hu)return Pe().add(r.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function dA(s){const e=be(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=uA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y4.bind(null,e),e.Pu.J_=a4.bind(null,e.eventManager),e.Pu.yu=o4.bind(null,e.eventManager),e}function S4(s){const e=be(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E4.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Cx(this.persistence,new Sx,e.initialUser,this.serializer)}Cu(e){return new KT(Bp.Vi,this.serializer)}Du(e){return new Vx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class w4 extends Bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Uh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ux(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new KT((r=>Uh.Vi(r,n)),this.serializer)}}class ap{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>p1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=A4.bind(null,this.syncEngine),await i4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new r4})()}createDatastore(e){const n=of(e.databaseInfo.databaseId),r=Ux(e.databaseInfo);return Fx(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,f,m){return new Kx(r,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>p1(this.syncEngine,n,0)),(function(){return u1.v()?new u1:new kx})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,T){const b=new h4(o,u,f,m,p,y);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=be(n);ue(ra,"RemoteStore shutting down."),r.Ea.add(5),await Ru(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ap.provider={build:()=>new ap};class mA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fr="FirestoreClient";class R4{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Np.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ue(fr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ue(fr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$p(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Nm(s,e){s.asyncQueue.verifyOperationInProgress(),ue(fr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await QT(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function _1(s,e){s.asyncQueue.verifyOperationInProgress();const n=await C4(s);ue(fr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>h1(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>h1(e.remoteStore,o))),s._onlineComponents=e}async function C4(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(fr,"Using user provided OfflineComponentProvider");try{await Nm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await Nm(s,new Bh)}}else ue(fr,"Using default OfflineComponentProvider"),await Nm(s,new w4(void 0));return s._offlineComponents}async function pA(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(fr,"Using user provided OnlineComponentProvider"),await _1(s,s._uninitializedComponentsProvider._online)):(ue(fr,"Using default OnlineComponentProvider"),await _1(s,new ap))),s._onlineComponents}function I4(s){return pA(s).then((e=>e.syncEngine))}async function gA(s){const e=await pA(s),n=e.eventManager;return n.onListen=f4.bind(null,e.syncEngine),n.onUnlisten=p4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=g4.bind(null,e.syncEngine),n}function N4(s,e,n={}){const r=new as;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const T=new mA({next:w=>{T.Nu(),f.enqueueAndForget((()=>sA(u,b)));const B=w.docs.has(m);!B&&w.fromCache?y.reject(new le(J.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&w.fromCache&&p&&p.source==="server"?y.reject(new le(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new rA(kp(m.path),T,{includeMetadataChanges:!0,Ka:!0});return iA(u,b)})(await gA(s),s.asyncQueue,e,n,r))),r.promise}function x4(s,e,n={}){const r=new as;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const T=new mA({next:w=>{T.Nu(),f.enqueueAndForget((()=>sA(u,b))),w.fromCache&&p.source==="server"?y.reject(new le(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new rA(m,T,{includeMetadataChanges:!0,Ka:!0});return iA(u,b)})(await gA(s),s.asyncQueue,e,n,r))),r.promise}function D4(s,e){const n=new as;return s.asyncQueue.enqueueAndForget((async()=>_4(await I4(s),e,n))),n.promise}function _A(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const O4="ComponentProvider",y1=new Map;function M4(s,e,n,r,o){return new ZI(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,_A(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const yA="firestore.googleapis.com",v1=!0;class E1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yA,this.ssl=v1}else this.host=e.host,this.ssl=e.ssl??v1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ox)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_A(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new DI;switch(r.type){case"firstParty":return new kI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=y1.get(n);r&&(ue(O4,"Removing Datastore"),y1.delete(n),r.terminate())})(this),Promise.resolve()}}function V4(s,e,n,r={}){s=cs(s,cf);const o=oa(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(pp(`https://${m}`),gp("Firestore",!0)),u.host!==yA&&u.host!==m&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!ea(p,f)&&(s._setSettings(p),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=Wt.MOCK_USER;else{y=lE(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Wt(b)}s._authCredentials=new OI(new tT(y,T))}}class fa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fa(this.firestore,e,this._query)}}class yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bu(n,yt._jsonSchema))return new yt(e,r||null,new me(nt.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Dt("string",yt._jsonSchemaVersion),referencePath:Dt("string")};class rr extends fa{constructor(e,n,r){super(e,n,kp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new me(e))}withConverter(e){return new rr(this.firestore,e,this._path)}}function k4(s,e,...n){if(s=Ot(s),nT("collection","path",e),s instanceof cf){const r=nt.fromString(e,...n);return M0(r),new rr(s,null,r)}{if(!(s instanceof yt||s instanceof rr))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(nt.fromString(e,...n));return M0(r),new rr(s.firestore,null,r)}}function hh(s,e,...n){if(s=Ot(s),arguments.length===1&&(e=Np.newId()),nT("doc","path",e),s instanceof cf){const r=nt.fromString(e,...n);return O0(r),new yt(s,null,new me(r))}{if(!(s instanceof yt||s instanceof rr))throw new le(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(nt.fromString(e,...n));return O0(r),new yt(s.firestore,s instanceof rr?s.converter:null,new me(r))}}const T1="AsyncQueue";class A1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $T(this,"async_queue_retry"),this._c=()=>{const r=Im();r&&ue(T1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new as;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;ue(T1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",b1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Yp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:b1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function b1(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Iu extends cf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new A1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A1(e),this._firestoreClient=void 0,await e}}}function j4(s,e){const n=typeof s=="object"?s:vp(),r=typeof s=="string"?s:Vh,o=Qh(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=rE("firestore");u&&V4(o,...u)}return o}function Wp(s){if(s._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||P4(s),s._firestoreClient}function P4(s){const e=s._freezeSettings(),n=M4(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new R4(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Xt.fromBase64String(e))}catch(n){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Dt("string",Un._jsonSchemaVersion),bytes:Dt("string")};class eg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hf{constructor(e){this._methodName=e}}class Mi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(bu(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Dt("string",Mi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class ei{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ei(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Dt("string",ei._jsonSchemaVersion),vectorValues:Dt("object")};const L4=/^__.*__$/;class U4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}class vA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _r(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function EA(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:s})}}class tg{constructor(e,n,r,o,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new tg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return qh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(EA(this.dataSource)&&L4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class z4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||of(e)}createContext(e,n,r,o=!1){return new tg({dataSource:e,methodName:n,targetDoc:r,path:$t.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ng(s){const e=s._freezeSettings(),n=of(s._databaseId);return new z4(s._databaseId,!!e.ignoreUndefinedProperties,n)}function B4(s,e,n,r,o,u={}){const f=s.createContext(u.merge||u.mergeFields?2:0,e,n,o);sg("Data must be an object, but it was:",f,r);const m=TA(r,f);let p,y;if(u.merge)p=new wn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const w=wo(e,b,n);if(!f.contains(w))throw new le(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);SA(T,w)||T.push(w)}p=new wn(T),y=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,y=f.fieldTransforms;return new U4(new mn(m),p,y)}class ff extends hf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ff}}class ig extends hf{_toFieldTransform(e){return new CN(e.path,new du)}isEqual(e){return e instanceof ig}}function q4(s,e,n,r){const o=s.createContext(1,e,n);sg("Data must be an object, but it was:",o,r);const u=[],f=mn.empty();gr(r,((p,y)=>{const T=bA(e,p,n);y=Ot(y);const b=o.childContextForFieldPath(T);if(y instanceof ff)u.push(T);else{const w=Nu(y,b);w!=null&&(u.push(T),f.set(T,w))}}));const m=new wn(u);return new vA(f,m,o.fieldTransforms)}function H4(s,e,n,r,o,u){const f=s.createContext(1,e,n),m=[wo(e,r,n)],p=[o];if(u.length%2!=0)throw new le(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(wo(e,u[w])),p.push(u[w+1]);const y=[],T=mn.empty();for(let w=m.length-1;w>=0;--w)if(!SA(y,m[w])){const B=m[w];let $=p[w];$=Ot($);const H=f.childContextForFieldPath(B);if($ instanceof ff)y.push(B);else{const P=Nu($,H);P!=null&&(y.push(B),T.set(B,P))}}const b=new wn(y);return new vA(T,b,f.fieldTransforms)}function F4(s,e,n,r=!1){return Nu(n,s.createContext(r?4:3,e))}function Nu(s,e){if(AA(s=Ot(s)))return sg("Unsupported field value:",e,s),TA(s,e);if(s instanceof hf)return(function(r,o){if(!EA(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const m of r){let p=Nu(m,o.childContextForArray(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=rt.fromDate(r);return{timestampValue:Lh(o.serializer,u)}}if(r instanceof rt){const u=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lh(o.serializer,u)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:PT(o.serializer,r._byteString)};if(r instanceof yt){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Up(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ei)return(function(f,m){const p=f instanceof ei?f.toArray():f;return{mapValue:{fields:{[hT]:{stringValue:fT},[kh]:{arrayValue:{values:p.map((T=>{if(typeof T!="number")throw m.createError("VectorValues must only contain numeric values.");return jp(m.serializer,T)}))}}}}}})(r,o);if(FT(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Jh(r)}`)})(s,e)}function TA(s,e){const n={};return rT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gr(s,((r,o)=>{const u=Nu(o,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function AA(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof rt||s instanceof Mi||s instanceof Un||s instanceof yt||s instanceof hf||s instanceof ei||FT(s))}function sg(s,e,n){if(!AA(n)||!iT(n)){const r=Jh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function wo(s,e,n){if((e=Ot(e))instanceof eg)return e._internalPath;if(typeof e=="string")return bA(s,e);throw qh("Field path arguments must be of type string or ",s,!1,void 0,n)}const G4=new RegExp("[~\\*/\\[\\]]");function bA(s,e,n){if(e.search(G4)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new eg(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function qh(s,e,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${r}`),f&&(p+=` in document ${o}`),p+=")"),new le(J.INVALID_ARGUMENT,m+s+p)}function SA(s,e){return s.some((n=>n.isEqual(e)))}class K4{convertValue(e,n="none"){switch(cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gr(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[kh].arrayValue?.values?.map((r=>_t(r.doubleValue)));return new ei(n)}convertGeoPoint(e){return new Mi(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ef(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const n=lr(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);Ke(HT(r),9688,{name:e});const o=new cu(r.get(1),r.get(3)),u=new me(r.popFirst(5));return o.isEqual(n)||us(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class wA extends K4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function so(){return new ig("serverTimestamp")}const S1="@firebase/firestore",w1="4.10.0";class RA{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(wo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Q4 extends RA{data(){return super.data()}}function Y4(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rg{}class CA extends rg{}function $4(s,e,...n){let r=[];e instanceof rg&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((p=>p instanceof og)).length,m=u.filter((p=>p instanceof ag)).length;if(f>1||f>0&&m>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class ag extends CA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ag(e,n,r)}_apply(e){const n=this._parse(e);return IA(e._query,n),new fa(e.firestore,e.converter,Xm(e._query,n))}_parse(e){const n=ng(e.firestore);return(function(u,f,m,p,y,T,b){let w;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){C1(b,T);const $=[];for(const H of b)$.push(R1(p,u,H));w={arrayValue:{values:$}}}else w=R1(p,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||C1(b,T),w=F4(m,f,b,T==="in"||T==="not-in");return xt.create(y,T,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class og extends rg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new og(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)IA(f,p),f=Xm(f,p)})(e._query,n),new fa(e.firestore,e.converter,Xm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lg extends CA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lg(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(u,f)})(e._query,this._field,this._direction);return new fa(e.firestore,e.converter,gN(e._query,n))}}function X4(s,e="asc"){const n=e,r=wo("orderBy",s);return lg._create(r,n)}function R1(s,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ET(e)&&n.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!me.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return B0(s,new me(r))}if(n instanceof yt)return B0(s,n._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(n)}.`)}function C1(s,e){if(!Array.isArray(s)||s.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IA(s,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function J4(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wr extends RA{constructor(e,n,r,o,u,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wo("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:Dt("string",Wr._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class bh extends Wr{data(e={}){return super.data(e)}}class _o{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new bh(this._firestore,this._userDataWriter,r.key,r,new Yl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:Z4(m.type),doc:p,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Np.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z4(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}_o._jsonSchemaVersion="firestore/querySnapshot/1.0",_o._jsonSchema={type:Dt("string",_o._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};function W4(s){s=cs(s,yt);const e=cs(s.firestore,Iu),n=Wp(e);return N4(n,s._key).then((r=>tD(e,s,r)))}function eD(s){s=cs(s,fa);const e=cs(s.firestore,Iu),n=Wp(e),r=new wA(e);return Y4(s._query),x4(n,s._query).then((o=>new _o(e,r,s,o)))}function I1(s,e,n){s=cs(s,yt);const r=cs(s.firestore,Iu),o=J4(s.converter,e),u=ng(r);return NA(r,[B4(u,"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Di.none())])}function N1(s,e,n,...r){s=cs(s,yt);const o=cs(s.firestore,Iu),u=ng(o);let f;return f=typeof(e=Ot(e))=="string"||e instanceof eg?H4(u,"updateDoc",s._key,e,n,r):q4(u,"updateDoc",s._key,e),NA(o,[f.toMutation(s._key,Di.exists(!0))])}function NA(s,e){const n=Wp(s);return D4(n,e)}function tD(s,e,n){const r=n.docs.get(e._key),o=new wA(s);return new Wr(s,o,e._key,r,new Yl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){xI(la),ta(new ar("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new Iu(new MI(r.getProvider("auth-internal")),new jI(f,r.getProvider("app-check-internal")),WI(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ci(S1,w1,e),Ci(S1,w1,"esm2020")})();var nD="firebase",iD="12.8.0";Ci(nD,iD,"app");const xA="firebasestorage.googleapis.com",sD="storageBucket",rD=120*1e3,aD=600*1e3;class Pi extends ji{constructor(e,n,r=0){super(xm(e),`Firebase Storage: ${n} (${xm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ki;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ki||(ki={}));function xm(s){return"storage/"+s}function oD(){const s="An unknown error occurred, please check the error payload for server response.";return new Pi(ki.UNKNOWN,s)}function lD(){return new Pi(ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uD(){return new Pi(ki.CANCELED,"User canceled the upload/download.")}function cD(s){return new Pi(ki.INVALID_URL,"Invalid URL '"+s+"'.")}function hD(s){return new Pi(ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function x1(s){return new Pi(ki.INVALID_ARGUMENT,s)}function DA(){return new Pi(ki.APP_DELETED,"The Firebase app was deleted.")}function fD(s){return new Pi(ki.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Wn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Wn.makeFromUrl(e,n)}catch{return new Wn(e,"")}if(r.path==="")return r;throw hD(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function y(ie){ie.path_=decodeURIComponent(ie.path)}const T="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",B=new RegExp(`^https?://${b}/${T}/b/${o}/o${w}`,"i"),$={bucket:1,path:3},H=n===xA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",K=new RegExp(`^https?://${H}/${o}/${P}`,"i"),ne=[{regex:m,indices:p,postModify:u},{regex:B,indices:$,postModify:y},{regex:K,indices:{bucket:1,path:2},postModify:y}];for(let ie=0;ie<ne.length;ie++){const Se=ne[ie],Ne=Se.regex.exec(e);if(Ne){const N=Ne[Se.indices.bucket];let R=Ne[Se.indices.path];R||(R=""),r=new Wn(N,R),Se.postModify(r);break}}if(r==null)throw cD(e);return r}}class dD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function mD(s,e,n){let r=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let y=!1;function T(...P){y||(y=!0,e.apply(null,P))}function b(P){o=setTimeout(()=>{o=null,s(B,p())},P)}function w(){u&&clearTimeout(u)}function B(P,...K){if(y){w();return}if(P){w(),T.call(null,P,...K);return}if(p()||f){w(),T.call(null,P,...K);return}r<64&&(r*=2);let ne;m===1?(m=2,ne=0):ne=(r+Math.random())*1e3,b(ne)}let $=!1;function H(P){$||($=!0,w(),!y&&(o!==null?(P||(m=2),clearTimeout(o),b(0)):P||(m=1)))}return b(0),u=setTimeout(()=>{f=!0,H(!0)},n),H}function pD(s){s(!1)}function gD(s){return s!==void 0}function D1(s,e,n,r){if(r<e)throw x1(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>n)throw x1(`Invalid value for '${s}'. Expected ${n} or less.`)}function _D(s){const e=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=e(r)+"="+e(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Hh;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Hh||(Hh={}));function yD(s,e){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=e.indexOf(s)!==-1;return n||o||u}class vD{constructor(e,n,r,o,u,f,m,p,y,T,b,w=!0,B=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=T,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=B,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,H)=>{this.resolve_=$,this.reject_=H,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new fh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Hh.NO_ERROR,p=u.getStatus();if(!m||yD(p,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===Hh.ABORT;r(!1,new fh(!1,null,T));return}const y=this.successCodes_.indexOf(p)!==-1;r(!0,new fh(y,u))})},n=(r,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());gD(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=oD();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?DA():uD();f(p)}else{const p=lD();f(p)}};this.canceled_?n(!1,new fh(!1,null,!0)):this.backoffId_=mD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ED(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function TD(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function AD(s,e){e&&(s["X-Firebase-GMPID"]=e)}function bD(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function SD(s,e,n,r,o,u,f=!0,m=!1){const p=_D(s.urlParams),y=s.url+p,T=Object.assign({},s.headers);return AD(T,e),ED(T,n),TD(T,u),bD(T,r),new vD(y,s.method,T,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,f,m)}function wD(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function RD(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}class Fh{constructor(e,n){this._service=e,n instanceof Wn?this._location=n:this._location=Wn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Fh(e,n)}get root(){const e=new Wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RD(this._location.path)}get storage(){return this._service}get parent(){const e=wD(this._location.path);if(e===null)return null;const n=new Wn(this._location.bucket,e);return new Fh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw fD(e)}}function O1(s,e){const n=e?.[sD];return n==null?null:Wn.makeFromBucketSpec(n,s)}function CD(s,e,n,r={}){s.host=`${e}:${n}`;const o=oa(e);o&&(pp(`https://${s.host}/b`),gp("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:lE(u,s.app.options.projectId))}class ID{constructor(e,n,r,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=xA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rD,this._maxUploadRetryTime=aD,this._requests=new Set,o!=null?this._bucket=Wn.makeFromBucketSpec(o,this._host):this._bucket=O1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wn.makeFromBucketSpec(this._url,e):this._bucket=O1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){D1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){D1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fh(this,e)}_makeRequest(e,n,r,o,u=!0){if(this._deleted)return new dD(DA());{const f=SD(e,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const M1="@firebase/storage",V1="0.14.0";const OA="storage";function ND(s=vp(),e){s=Ot(s);const r=Qh(s,OA).getImmediate({identifier:e}),o=rE("storage");return o&&xD(r,...o),r}function xD(s,e,n,r={}){CD(s,e,n,r)}function DD(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new ID(n,r,o,e,la)}function OD(){ta(new ar(OA,DD,"PUBLIC").setMultipleInstances(!0)),Ci(M1,V1,""),Ci(M1,V1,"esm2020")}OD();const MD={apiKey:"AIzaSyDgk_1graNBFkIURTJnyLZTZ1nyxi7slUo",authDomain:"pedaclic.firebaseapp.com",projectId:"pedaclic",storageBucket:"pedaclic.firebasestorage.app",messagingSenderId:"863649621890",appId:"1:863649621890:web:6ab56a8c8db111e3a9119b"},ug=hE(MD),Qs=II(ug),$l=j4(ug);ND(ug);const MA=te.createContext(null),VD=({children:s})=>{const[e,n]=te.useState(null),[r,o]=te.useState(!0),[u,f]=te.useState(null),m=async H=>{try{const P=hh($l,"users",H.uid),K=await W4(P);if(K.exists()){const ne=K.data();return{uid:H.uid,email:H.email||"",displayName:ne.displayName||H.displayName,photoURL:ne.photoURL||H.photoURL,role:ne.role||"eleve",isPremium:ne.isPremium||!1,subscriptionEnd:ne.subscriptionEnd?.toDate()||null,createdAt:ne.createdAt?.toDate()||new Date,lastLogin:ne.lastLogin?.toDate()||new Date}}const oe={uid:H.uid,email:H.email||"",displayName:H.displayName,photoURL:H.photoURL,role:"eleve",isPremium:!1,subscriptionEnd:null,createdAt:new Date,lastLogin:new Date};return await I1(P,{...oe,createdAt:so(),lastLogin:so()}),oe}catch(P){return console.error("Erreur lors de la rcupration des donnes utilisateur:",P),null}},p=H=>({"auth/email-already-in-use":"Cette adresse email est dj utilise.","auth/invalid-email":"Adresse email invalide.","auth/operation-not-allowed":"Opration non autorise.","auth/weak-password":"Le mot de passe doit contenir au moins 6 caractres.","auth/user-disabled":"Ce compte a t dsactiv.","auth/user-not-found":"Aucun compte trouv avec cette adresse email.","auth/wrong-password":"Mot de passe incorrect.","auth/invalid-credential":"Email ou mot de passe incorrect.","auth/too-many-requests":"Trop de tentatives. Veuillez ressayer plus tard.","auth/network-request-failed":"Erreur de connexion. Vrifiez votre connexion internet."})[H]||"Une erreur est survenue. Veuillez ressayer.";te.useEffect(()=>{const H=gC(Qs,async P=>{try{if(P){const K=await m(P);if(n(K),K){const oe=hh($l,"users",P.uid);await N1(oe,{lastLogin:so()})}}else n(null)}catch(K){console.error("Erreur lors de l'coute de l'authentification:",K),n(null)}finally{o(!1)}});return()=>H()},[]);const $={currentUser:e,loading:r,error:u,login:async(H,P)=>{try{f(null),o(!0),await fC(Qs,H,P)}catch(K){const oe=p(K.code);throw f(oe),new Error(oe)}finally{o(!1)}},register:async H=>{try{f(null),o(!0);const P=await hC(Qs,H.email,H.password);await v0(P.user,{displayName:H.displayName});const K=hh($l,"users",P.user.uid);await I1(K,{uid:P.user.uid,email:H.email,displayName:H.displayName,photoURL:null,role:H.role,isPremium:!1,subscriptionEnd:null,createdAt:so(),lastLogin:so()})}catch(P){const K=p(P.code);throw f(K),new Error(K)}finally{o(!1)}},logout:async()=>{try{f(null),await _C(Qs)}catch{const P="Erreur lors de la dconnexion.";throw f(P),new Error(P)}},updateProfile:async H=>{if(!e)throw new Error("Aucun utilisateur connect.");try{f(null);const P=hh($l,"users",e.uid);await N1(P,{...H,updatedAt:so()}),Qs.currentUser&&(H.displayName||H.photoURL)&&await v0(Qs.currentUser,{displayName:H.displayName||Qs.currentUser.displayName,photoURL:H.photoURL||Qs.currentUser.photoURL}),n(K=>K?{...K,...H}:null)}catch{const K="Erreur lors de la mise  jour du profil.";throw f(K),new Error(K)}},clearError:()=>{f(null)}};return _.jsx(MA.Provider,{value:$,children:s})},da=()=>{const s=te.useContext(MA);if(!s)throw new Error("useAuth doit tre utilis  l'intrieur d'un AuthProvider");return s};const kD=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jD=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),k1=s=>{const e=jD(s);return e.charAt(0).toUpperCase()+e.slice(1)},VA=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),PD=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var LD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const UD=te.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:f,...m},p)=>te.createElement("svg",{ref:p,...LD,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:VA("lucide",o),...!u&&!PD(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,T])=>te.createElement(y,T)),...Array.isArray(u)?u:[u]]));const pe=(s,e)=>{const n=te.forwardRef(({className:r,...o},u)=>te.createElement(UD,{ref:u,iconNode:e,className:VA(`lucide-${kD(k1(s))}`,`lucide-${s}`,r),...o}));return n.displayName=k1(s),n};const zD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],BD=pe("arrow-left",zD);const qD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ro=pe("arrow-right",qD);const HD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]],FD=pe("atom",HD);const GD=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],KD=pe("award",GD);const QD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],aa=pe("book-open",QD);const YD=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]],$D=pe("book-text",YD);const XD=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],JD=pe("calculator",XD);const ZD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],WD=pe("chevron-down",ZD);const eO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],iu=pe("chevron-right",eO);const tO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],cg=pe("circle-alert",tO);const nO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wi=pe("circle-check-big",nO);const iO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sO=pe("circle-question-mark",iO);const rO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kA=pe("clock",rO);const aO=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Zr=pe("crown",aO);const oO=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],j1=pe("dumbbell",oO);const lO=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],jA=pe("eye-off",lO);const uO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],PA=pe("eye",uO);const cO=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],hO=pe("facebook",cO);const fO=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dO=pe("file-text",fO);const mO=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],P1=pe("flask-conical",mO);const pO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],gO=pe("funnel",pO);const _O=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],L1=pe("globe",_O);const yO=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ro=pe("graduation-cap",yO);const vO=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],EO=pe("heart",vO);const TO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],AO=pe("history",TO);const bO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],LA=pe("house",bO);const SO=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],wO=pe("instagram",SO);const RO=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],CO=pe("languages",RO);const IO=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],U1=pe("layout-dashboard",IO);const NO=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],xO=pe("lightbulb",NO);const DO=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],OO=pe("linkedin",DO);const MO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],op=pe("lock",MO);const VO=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],kO=pe("log-in",VO);const jO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],z1=pe("log-out",jO);const PO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],hg=pe("mail",PO);const LO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],UO=pe("map-pin",LO);const zO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],BO=pe("menu",zO);const qO=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],HO=pe("music",qO);const FO=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],GO=pe("palette",FO);const KO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],QO=pe("phone",KO);const YO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],$O=pe("play",YO);const XO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],JO=pe("refresh-cw",XO);const ZO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],UA=pe("search",ZO);const WO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zA=pe("settings",WO);const e6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],BA=pe("shield",e6);const t6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Xl=pe("star",t6);const n6=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],lp=pe("trophy",n6);const i6=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],s6=pe("twitter",i6);const r6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],a6=pe("user-plus",r6);const o6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fg=pe("user",o6);const l6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],u6=pe("users",l6);const c6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],h6=pe("x",c6);const f6=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],d6=pe("youtube",f6);const m6=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],p6=pe("zap",m6),g6=()=>{const{currentUser:s,logout:e,loading:n}=da(),r=gu(),o=No(),[u,f]=te.useState(!1),[m,p]=te.useState(!1),[y,T]=te.useState(!1),b=te.useRef(null),w=[{path:"/",label:"Accueil",icon:_.jsx(LA,{size:18})},{path:"/disciplines",label:"Disciplines",icon:_.jsx(aa,{size:18})},{path:"/quiz",label:"Quiz",icon:_.jsx(Ro,{size:18}),requireAuth:!0,requirePremium:!0},{path:"/dashboard",label:"Tableau de bord",icon:_.jsx(U1,{size:18}),requireAuth:!0}];te.useEffect(()=>{const ie=Se=>{b.current&&!b.current.contains(Se.target)&&p(!1)};return document.addEventListener("mousedown",ie),()=>document.removeEventListener("mousedown",ie)},[]),te.useEffect(()=>{f(!1),p(!1)},[o.pathname]),te.useEffect(()=>(u?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[u]);const B=async()=>{try{T(!0),await e(),p(!1),r("/")}catch(ie){console.error("Erreur lors de la dconnexion:",ie)}finally{T(!1)}},$=()=>{f(!u)},H=()=>{p(!m)},P=ie=>!(ie.requireAuth&&!s||ie.requirePremium&&s&&!s.isPremium||ie.requireRole&&s&&!ie.requireRole.includes(s.role)),K=ie=>ie==="/"?o.pathname==="/":o.pathname.startsWith(ie),oe=ie=>({admin:"Administrateur",prof:"Professeur",eleve:"lve"})[ie]||ie,ne=()=>s?s.displayName?s.displayName.split(" ").map(Se=>Se[0]).join("").toUpperCase().slice(0,2):s.email[0].toUpperCase():"?";return _.jsxs("header",{className:"header",children:[_.jsxs("div",{className:"header__container",children:[_.jsxs(Oe,{to:"/",className:"header__logo",children:[_.jsx(Ro,{className:"header__logo-icon",size:32}),_.jsxs("div",{className:"header__logo-text",children:[_.jsx("span",{className:"header__logo-name",children:"PedaClic"}),_.jsx("span",{className:"header__logo-tagline",children:"L'cole en un clic"})]})]}),_.jsx("nav",{className:"header__nav header__nav--desktop",children:_.jsx("ul",{className:"header__nav-list",children:w.map(ie=>P(ie)&&_.jsx("li",{className:"header__nav-item",children:_.jsxs(Oe,{to:ie.path,className:`header__nav-link ${K(ie.path)?"header__nav-link--active":""}`,children:[ie.icon,_.jsx("span",{children:ie.label}),ie.requirePremium&&_.jsx(Zr,{size:14,className:"header__premium-badge"})]})},ie.path))})}),_.jsxs("div",{className:"header__actions",children:[n?_.jsx("div",{className:"header__loading",children:_.jsx("div",{className:"header__spinner"})}):s?_.jsxs("div",{className:"header__user",ref:b,children:[s.isPremium&&_.jsxs("span",{className:"header__premium-tag",children:[_.jsx(Zr,{size:14}),"Premium"]}),_.jsxs("button",{className:"header__user-button",onClick:H,"aria-expanded":m,"aria-haspopup":"true",children:[_.jsx("div",{className:"header__avatar",children:s.photoURL?_.jsx("img",{src:s.photoURL,alt:s.displayName||"Avatar",className:"header__avatar-img"}):_.jsx("span",{className:"header__avatar-initials",children:ne()})}),_.jsx("span",{className:"header__user-name",children:s.displayName||s.email.split("@")[0]}),_.jsx(WD,{size:16,className:`header__chevron ${m?"header__chevron--open":""}`})]}),m&&_.jsxs("div",{className:"header__dropdown",children:[_.jsxs("div",{className:"header__dropdown-header",children:[_.jsx("p",{className:"header__dropdown-email",children:s.email}),_.jsx("span",{className:`header__dropdown-role header__dropdown-role--${s.role}`,children:oe(s.role)})]}),_.jsx("div",{className:"header__dropdown-divider"}),_.jsxs("nav",{className:"header__dropdown-nav",children:[_.jsxs(Oe,{to:"/dashboard",className:"header__dropdown-link",children:[_.jsx(U1,{size:18}),_.jsx("span",{children:"Tableau de bord"})]}),_.jsxs(Oe,{to:"/profil",className:"header__dropdown-link",children:[_.jsx(fg,{size:18}),_.jsx("span",{children:"Mon profil"})]}),s.role==="admin"&&_.jsxs(Oe,{to:"/admin",className:"header__dropdown-link",children:[_.jsx(zA,{size:18}),_.jsx("span",{children:"Administration"})]}),!s.isPremium&&_.jsxs(Oe,{to:"/premium",className:"header__dropdown-link header__dropdown-link--premium",children:[_.jsx(Zr,{size:18}),_.jsx("span",{children:"Passer Premium"})]})]}),_.jsx("div",{className:"header__dropdown-divider"}),_.jsxs("button",{className:"header__dropdown-logout",onClick:B,disabled:y,children:[_.jsx(z1,{size:18}),_.jsx("span",{children:y?"Dconnexion...":"Se dconnecter"})]})]})]}):_.jsxs("div",{className:"header__auth-buttons",children:[_.jsx(Oe,{to:"/login",className:"header__btn header__btn--outline",children:"Connexion"}),_.jsx(Oe,{to:"/register",className:"header__btn header__btn--primary",children:"S'inscrire"})]}),_.jsx("button",{className:"header__mobile-toggle",onClick:$,"aria-label":u?"Fermer le menu":"Ouvrir le menu","aria-expanded":u,children:u?_.jsx(h6,{size:24}):_.jsx(BO,{size:24})})]})]}),_.jsxs("div",{className:`header__mobile-menu ${u?"header__mobile-menu--open":""}`,children:[_.jsx("div",{className:"header__mobile-overlay",onClick:()=>f(!1)}),_.jsxs("div",{className:"header__mobile-content",children:[_.jsx("nav",{className:"header__mobile-nav",children:_.jsx("ul",{className:"header__mobile-list",children:w.map(ie=>P(ie)&&_.jsx("li",{className:"header__mobile-item",children:_.jsxs(Oe,{to:ie.path,className:`header__mobile-link ${K(ie.path)?"header__mobile-link--active":""}`,children:[ie.icon,_.jsx("span",{children:ie.label}),ie.requirePremium&&_.jsx(Zr,{size:14,className:"header__premium-badge"})]})},ie.path))})}),!s&&_.jsxs("div",{className:"header__mobile-auth",children:[_.jsx(Oe,{to:"/login",className:"header__btn header__btn--outline header__btn--block",children:"Connexion"}),_.jsx(Oe,{to:"/register",className:"header__btn header__btn--primary header__btn--block",children:"S'inscrire"})]}),s&&_.jsxs("div",{className:"header__mobile-user",children:[_.jsxs("div",{className:"header__mobile-user-info",children:[_.jsx("div",{className:"header__avatar header__avatar--large",children:s.photoURL?_.jsx("img",{src:s.photoURL,alt:s.displayName||"Avatar",className:"header__avatar-img"}):_.jsx("span",{className:"header__avatar-initials",children:ne()})}),_.jsxs("div",{className:"header__mobile-user-details",children:[_.jsx("p",{className:"header__mobile-user-name",children:s.displayName||s.email.split("@")[0]}),_.jsx("p",{className:"header__mobile-user-email",children:s.email})]})]}),_.jsxs("button",{className:"header__mobile-logout",onClick:B,disabled:y,children:[_.jsx(z1,{size:18}),_.jsx("span",{children:y?"Dconnexion...":"Se dconnecter"})]})]})]})]})]})},_6=()=>{const s=new Date().getFullYear(),e=[{label:"Accueil",path:"/"},{label:"Disciplines",path:"/disciplines"},{label:"Quiz Premium",path:"/quiz"},{label:"Tarifs",path:"/premium"},{label:"Tableau de bord",path:"/dashboard"}],n=[{label:"Cours en ligne",path:"/disciplines"},{label:"Exercices corrigs",path:"/disciplines"},{label:"Annales examens",path:"/disciplines"},{label:"Fiches de rvision",path:"/disciplines"}],r=[{name:"Facebook",url:"https://facebook.com/pedaclic",icon:_.jsx(hO,{size:20})},{name:"Twitter",url:"https://twitter.com/pedaclic",icon:_.jsx(s6,{size:20})},{name:"Instagram",url:"https://instagram.com/pedaclic",icon:_.jsx(wO,{size:20})},{name:"LinkedIn",url:"https://linkedin.com/company/pedaclic",icon:_.jsx(OO,{size:20})},{name:"YouTube",url:"https://youtube.com/@pedaclic",icon:_.jsx(d6,{size:20})}];return _.jsxs("footer",{className:"footer",children:[_.jsx("div",{className:"footer__main",children:_.jsxs("div",{className:"footer__container",children:[_.jsxs("div",{className:"footer__column footer__column--about",children:[_.jsxs(Oe,{to:"/",className:"footer__logo",children:[_.jsx(Ro,{className:"footer__logo-icon",size:36}),_.jsxs("div",{className:"footer__logo-text",children:[_.jsx("span",{className:"footer__logo-name",children:"PedaClic"}),_.jsx("span",{className:"footer__logo-tagline",children:"L'cole en un clic"})]})]}),_.jsx("p",{className:"footer__description",children:"PedaClic est la plateforme ducative de rfrence au Sngal. Nous accompagnons les lves du collge au lyce avec des cours, exercices et quiz de qualit."}),_.jsxs("div",{className:"footer__stats",children:[_.jsxs("div",{className:"footer__stat",children:[_.jsx(aa,{size:18}),_.jsx("span",{children:"500+ cours"})]}),_.jsxs("div",{className:"footer__stat",children:[_.jsx(u6,{size:18}),_.jsx("span",{children:"10 000+ lves"})]})]})]}),_.jsxs("div",{className:"footer__column",children:[_.jsxs("h3",{className:"footer__title",children:[_.jsx("span",{className:"footer__title-icon",children:""}),"Plateforme"]}),_.jsx("nav",{className:"footer__nav",children:_.jsx("ul",{className:"footer__list",children:e.map((o,u)=>_.jsx("li",{className:"footer__item",children:_.jsx(Oe,{to:o.path,className:"footer__link",children:o.label})},u))})})]}),_.jsxs("div",{className:"footer__column",children:[_.jsxs("h3",{className:"footer__title",children:[_.jsx("span",{className:"footer__title-icon",children:""}),"Ressources"]}),_.jsx("nav",{className:"footer__nav",children:_.jsx("ul",{className:"footer__list",children:n.map((o,u)=>_.jsx("li",{className:"footer__item",children:_.jsx(Oe,{to:o.path,className:"footer__link",children:o.label})},u))})})]}),_.jsxs("div",{className:"footer__column",children:[_.jsxs("h3",{className:"footer__title",children:[_.jsx("span",{className:"footer__title-icon",children:""}),"Contact"]}),_.jsxs("div",{className:"footer__contact",children:[_.jsxs("a",{href:"mailto:contact@pedaclic.sn",className:"footer__contact-item",children:[_.jsx(hg,{size:16,className:"footer__contact-icon"}),_.jsx("span",{children:"contact@pedaclic.sn"})]}),_.jsxs("a",{href:"tel:+221770000000",className:"footer__contact-item",children:[_.jsx(QO,{size:16,className:"footer__contact-icon"}),_.jsx("span",{children:"+221 77 000 00 00"})]}),_.jsxs("div",{className:"footer__contact-item",children:[_.jsx(UO,{size:16,className:"footer__contact-icon"}),_.jsx("span",{children:"Dakar, Sngal"})]})]}),_.jsxs("div",{className:"footer__social",children:[_.jsx("h4",{className:"footer__social-title",children:"Suivez-nous"}),_.jsx("div",{className:"footer__social-links",children:r.map((o,u)=>_.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"footer__social-link",title:o.name,children:o.icon},u))})]})]})]})}),_.jsx("div",{className:"footer__bottom",children:_.jsxs("div",{className:"footer__container footer__bottom-content",children:[_.jsxs("p",{className:"footer__copyright",children:[" ",s," PedaClic. Tous droits rservs."]}),_.jsxs("p",{className:"footer__made-with",children:["Fait avec ",_.jsx(EO,{size:14,className:"footer__heart"})," au Sngal "]}),_.jsxs("nav",{className:"footer__legal",children:[_.jsxs(Oe,{to:"/mentions-legales",className:"footer__legal-link",children:[_.jsx(dO,{size:14})," Mentions lgales"]}),_.jsxs(Oe,{to:"/confidentialite",className:"footer__legal-link",children:[_.jsx(BA,{size:14})," Confidentialit"]}),_.jsxs(Oe,{to:"/aide",className:"footer__legal-link",children:[_.jsx(sO,{size:14})," Aide"]})]})]})})]})},Ys=({children:s,hideHeader:e=!1,hideFooter:n=!1,className:r=""})=>_.jsxs("div",{className:"layout",children:[!e&&_.jsx(g6,{}),_.jsx("main",{className:`layout__main ${e?"":"layout__main--with-header"} ${r}`,children:s}),!n&&_.jsx(_6,{})]}),y6=()=>{const{currentUser:s}=da();return _.jsxs("div",{className:"home-page",children:[_.jsxs("section",{className:"home-page__hero",children:[_.jsxs("div",{className:"home-page__hero-content",children:[_.jsxs("div",{className:"home-page__hero-badge",children:[_.jsx(Xl,{size:14}),_.jsx("span",{children:"Plateforme N1 au Sngal"})]}),_.jsxs("h1",{className:"home-page__hero-title",children:["Russis tes examens avec",_.jsx("span",{className:"home-page__hero-highlight",children:" PedaClic"})]}),_.jsx("p",{className:"home-page__hero-subtitle",children:"La plateforme ducative qui accompagne les lves sngalais du collge au lyce avec des cours, exercices et quiz de qualit."}),_.jsx("div",{className:"home-page__hero-cta",children:s?_.jsxs(Oe,{to:"/dashboard",className:"home-page__btn home-page__btn--primary",children:["Accder  mon espace",_.jsx(ro,{size:20})]}):_.jsxs(_.Fragment,{children:[_.jsxs(Oe,{to:"/register",className:"home-page__btn home-page__btn--primary",children:["Commencer gratuitement",_.jsx(ro,{size:20})]}),_.jsxs(Oe,{to:"/disciplines",className:"home-page__btn home-page__btn--outline",children:[_.jsx($O,{size:18}),"Dcouvrir les cours"]})]})}),_.jsxs("div",{className:"home-page__hero-stats",children:[_.jsxs("div",{className:"home-page__hero-stat",children:[_.jsx("strong",{children:"10 000+"}),_.jsx("span",{children:"lves inscrits"})]}),_.jsxs("div",{className:"home-page__hero-stat",children:[_.jsx("strong",{children:"500+"}),_.jsx("span",{children:"Cours disponibles"})]}),_.jsxs("div",{className:"home-page__hero-stat",children:[_.jsx("strong",{children:"95%"}),_.jsx("span",{children:"Taux de russite"})]})]})]}),_.jsx("div",{className:"home-page__hero-image",children:_.jsxs("div",{className:"home-page__hero-illustration",children:[_.jsx(Ro,{size:120}),_.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--1",children:""}),_.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--2",children:""}),_.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--3",children:""})]})})]}),_.jsx("section",{className:"home-page__levels",children:_.jsxs("div",{className:"home-page__container",children:[_.jsx("h2",{className:"home-page__section-title",children:"Tous les niveaux, toutes les matires"}),_.jsx("p",{className:"home-page__section-subtitle",children:"Du collge au lyce, prpare tes examens avec confiance"}),_.jsxs("div",{className:"home-page__levels-grid",children:[_.jsxs(Oe,{to:"/disciplines?niveau=college",className:"home-page__level-card",children:[_.jsx("div",{className:"home-page__level-icon home-page__level-icon--college",children:""}),_.jsx("h3",{children:"Collge"}),_.jsx("p",{children:"6me  3me"}),_.jsxs("ul",{children:[_.jsxs("li",{children:[_.jsx(wi,{size:16})," Prparation au BFEM"]}),_.jsxs("li",{children:[_.jsx(wi,{size:16})," 9 matires disponibles"]}),_.jsxs("li",{children:[_.jsx(wi,{size:16})," Exercices corrigs"]})]}),_.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",_.jsx(ro,{size:16})]})]}),_.jsxs(Oe,{to:"/disciplines?niveau=lycee",className:"home-page__level-card",children:[_.jsx("div",{className:"home-page__level-icon home-page__level-icon--lycee",children:""}),_.jsx("h3",{children:"Lyce"}),_.jsx("p",{children:"2nde  Terminale"}),_.jsxs("ul",{children:[_.jsxs("li",{children:[_.jsx(wi,{size:16})," Prparation au BAC"]}),_.jsxs("li",{children:[_.jsx(wi,{size:16})," 12 matires disponibles"]}),_.jsxs("li",{children:[_.jsx(wi,{size:16})," Annales d'examens"]})]}),_.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",_.jsx(ro,{size:16})]})]})]})]})}),_.jsx("section",{className:"home-page__features",children:_.jsxs("div",{className:"home-page__container",children:[_.jsx("h2",{className:"home-page__section-title",children:"Pourquoi choisir PedaClic ?"}),_.jsx("p",{className:"home-page__section-subtitle",children:"Des outils modernes pour une ducation de qualit"}),_.jsxs("div",{className:"home-page__features-grid",children:[_.jsxs("div",{className:"home-page__feature-card",children:[_.jsx("div",{className:"home-page__feature-icon",children:_.jsx(aa,{size:28})}),_.jsx("h3",{children:"Cours complets"}),_.jsx("p",{children:"Des cours structurs et conformes au programme sngalais, rdigs par des enseignants expriments."})]}),_.jsxs("div",{className:"home-page__feature-card",children:[_.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--secondary",children:_.jsx(p6,{size:28})}),_.jsx("h3",{children:"Quiz interactifs"}),_.jsx("p",{children:"Testez vos connaissances avec des quiz adapts  chaque niveau et obtenez un feedback instantan."})]}),_.jsxs("div",{className:"home-page__feature-card",children:[_.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--warning",children:_.jsx(lp,{size:28})}),_.jsx("h3",{children:"Suivi de progression"}),_.jsx("p",{children:"Visualisez vos progrs et identifiez vos points faibles pour cibler vos rvisions."})]}),_.jsxs("div",{className:"home-page__feature-card",children:[_.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--success",children:_.jsx(BA,{size:28})}),_.jsx("h3",{children:"Contenu vrifi"}),_.jsx("p",{children:"Tous nos contenus sont valids par des professeurs certifis pour garantir leur qualit."})]}),_.jsxs("div",{className:"home-page__feature-card",children:[_.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--info",children:_.jsx(kA,{size:28})}),_.jsx("h3",{children:"Accessible 24/7"}),_.jsx("p",{children:"tudiez  votre rythme, o que vous soyez, sur ordinateur, tablette ou smartphone."})]}),_.jsxs("div",{className:"home-page__feature-card",children:[_.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--premium",children:_.jsx(KD,{size:28})}),_.jsx("h3",{children:"Certificats"}),_.jsx("p",{children:"Obtenez des certificats de russite pour valoriser vos comptences acquises."})]})]})]})}),_.jsx("section",{className:"home-page__premium",children:_.jsx("div",{className:"home-page__container",children:_.jsxs("div",{className:"home-page__premium-content",children:[_.jsxs("div",{className:"home-page__premium-text",children:[_.jsx("span",{className:"home-page__premium-badge",children:" Premium"}),_.jsx("h2",{children:"Passez  la vitesse suprieure"}),_.jsxs("p",{children:["Accdez  tous les quiz, exercices corrigs et ressources exclusives pour seulement ",_.jsx("strong",{children:"2 000 FCFA/mois"}),"."]}),_.jsxs("ul",{className:"home-page__premium-features",children:[_.jsxs("li",{children:[_.jsx(wi,{size:18})," Quiz illimits dans toutes les matires"]}),_.jsxs("li",{children:[_.jsx(wi,{size:18})," Corrections dtailles des exercices"]}),_.jsxs("li",{children:[_.jsx(wi,{size:18})," Annales des examens (BFEM, BAC)"]}),_.jsxs("li",{children:[_.jsx(wi,{size:18})," Support prioritaire"]})]}),_.jsxs(Oe,{to:"/premium",className:"home-page__btn home-page__btn--premium",children:["Dcouvrir Premium",_.jsx(ro,{size:20})]})]}),_.jsx("div",{className:"home-page__premium-pricing",children:_.jsxs("div",{className:"home-page__pricing-card",children:[_.jsx("span",{className:"home-page__pricing-popular",children:"Plus populaire"}),_.jsx("h3",{children:"Abonnement Annuel"}),_.jsxs("div",{className:"home-page__pricing-price",children:[_.jsx("span",{className:"home-page__pricing-amount",children:"20 000"}),_.jsx("span",{className:"home-page__pricing-currency",children:"FCFA"}),_.jsx("span",{className:"home-page__pricing-period",children:"/an"})]}),_.jsx("p",{className:"home-page__pricing-save",children:"conomisez 4 000 FCFA vs mensuel"}),_.jsx(Oe,{to:"/premium",className:"home-page__btn home-page__btn--primary home-page__btn--block",children:"Choisir ce plan"})]})})]})})}),_.jsx("section",{className:"home-page__testimonials",children:_.jsxs("div",{className:"home-page__container",children:[_.jsx("h2",{className:"home-page__section-title",children:"Ce qu'en disent nos lves"}),_.jsxs("div",{className:"home-page__testimonials-grid",children:[_.jsxs("div",{className:"home-page__testimonial-card",children:[_.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>_.jsx(Xl,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),_.jsx("p",{className:"home-page__testimonial-text",children:`"Grce  PedaClic, j'ai obtenu mon BFEM avec mention. Les quiz m'ont vraiment aid  me prparer !"`}),_.jsxs("div",{className:"home-page__testimonial-author",children:[_.jsx("div",{className:"home-page__testimonial-avatar",children:"FA"}),_.jsxs("div",{children:[_.jsx("strong",{children:"Fatou Adara"}),_.jsx("span",{children:"lve en 3me - Dakar"})]})]})]}),_.jsxs("div",{className:"home-page__testimonial-card",children:[_.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>_.jsx(Xl,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),_.jsx("p",{className:"home-page__testimonial-text",children:`"Les cours de maths sont trs bien expliqus. J'ai enfin compris les quations du second degr !"`}),_.jsxs("div",{className:"home-page__testimonial-author",children:[_.jsx("div",{className:"home-page__testimonial-avatar",children:"MD"}),_.jsxs("div",{children:[_.jsx("strong",{children:"Moussa Diallo"}),_.jsx("span",{children:"lve en Terminale S - This"})]})]})]}),_.jsxs("div",{className:"home-page__testimonial-card",children:[_.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(e=>_.jsx(Xl,{size:16,fill:"#f59e0b",color:"#f59e0b"},e))}),_.jsx("p",{className:"home-page__testimonial-text",children:`"Je recommande PedaClic  tous les parents. Ma fille a beaucoup progress depuis qu'elle l'utilise."`}),_.jsxs("div",{className:"home-page__testimonial-author",children:[_.jsx("div",{className:"home-page__testimonial-avatar",children:"AN"}),_.jsxs("div",{children:[_.jsx("strong",{children:"Aminata Ndiaye"}),_.jsx("span",{children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),_.jsx("section",{className:"home-page__final-cta",children:_.jsxs("div",{className:"home-page__container",children:[_.jsx("h2",{children:"Prt  russir ?"}),_.jsx("p",{children:"Rejoignez les milliers d'lves qui font confiance  PedaClic"}),!s&&_.jsxs(Oe,{to:"/register",className:"home-page__btn home-page__btn--large",children:["Crer mon compte gratuit",_.jsx(ro,{size:24})]})]})})]})},v6=()=>{const s=gu(),{login:e,error:n,clearError:r}=da(),[o,u]=te.useState(""),[f,m]=te.useState(""),[p,y]=te.useState(!1),[T,b]=te.useState(!1),[w,B]=te.useState(null),$=async P=>{if(P.preventDefault(),B(null),r(),!o||!f){B("Veuillez remplir tous les champs.");return}try{b(!0),await e(o,f),s("/dashboard")}catch(K){B(K.message)}finally{b(!1)}},H=w||n;return _.jsx("div",{className:"auth-page",children:_.jsxs("div",{className:"auth-page__card",children:[_.jsxs("div",{className:"auth-page__header",children:[_.jsx(kO,{size:40,className:"auth-page__icon"}),_.jsx("h1",{children:"Connexion"}),_.jsx("p",{children:"Accdez  votre espace PedaClic"})]}),H&&_.jsxs("div",{className:"auth-page__error",children:[_.jsx(cg,{size:18}),_.jsx("span",{children:H})]}),_.jsxs("form",{onSubmit:$,className:"auth-page__form",children:[_.jsxs("div",{className:"auth-page__field",children:[_.jsxs("label",{htmlFor:"email",children:[_.jsx(hg,{size:16}),"Adresse email"]}),_.jsx("input",{type:"email",id:"email",value:o,onChange:P=>u(P.target.value),placeholder:"exemple@email.com",disabled:T,autoComplete:"email"})]}),_.jsxs("div",{className:"auth-page__field",children:[_.jsxs("label",{htmlFor:"password",children:[_.jsx(op,{size:16}),"Mot de passe"]}),_.jsxs("div",{className:"auth-page__password-wrapper",children:[_.jsx("input",{type:p?"text":"password",id:"password",value:f,onChange:P=>m(P.target.value),placeholder:"",disabled:T,autoComplete:"current-password"}),_.jsx("button",{type:"button",className:"auth-page__password-toggle",onClick:()=>y(!p),tabIndex:-1,children:p?_.jsx(jA,{size:18}):_.jsx(PA,{size:18})})]})]}),_.jsx("button",{type:"submit",className:"auth-page__submit",disabled:T,children:T?"Connexion...":"Se connecter"})]}),_.jsxs("p",{className:"auth-page__footer",children:["Pas encore de compte ?"," ",_.jsx(Oe,{to:"/register",children:"S'inscrire"})]})]})})},E6=()=>{const s=gu(),{register:e,error:n,clearError:r}=da(),[o,u]=te.useState({displayName:"",email:"",password:"",confirmPassword:"",role:"eleve"}),[f,m]=te.useState(!1),[p,y]=te.useState(!1),[T,b]=te.useState(null),w=H=>{const{name:P,value:K}=H.target;u(oe=>({...oe,[P]:K}))},B=async H=>{if(H.preventDefault(),b(null),r(),!o.displayName||!o.email||!o.password){b("Veuillez remplir tous les champs obligatoires.");return}if(o.password.length<6){b("Le mot de passe doit contenir au moins 6 caractres.");return}if(o.password!==o.confirmPassword){b("Les mots de passe ne correspondent pas.");return}try{y(!0),await e({email:o.email,password:o.password,displayName:o.displayName,role:o.role}),s("/dashboard")}catch(P){b(P.message)}finally{y(!1)}},$=T||n;return _.jsx("div",{className:"auth-page",children:_.jsxs("div",{className:"auth-page__card auth-page__card--wide",children:[_.jsxs("div",{className:"auth-page__header",children:[_.jsx(a6,{size:40,className:"auth-page__icon"}),_.jsx("h1",{children:"Inscription"}),_.jsx("p",{children:"Crez votre compte PedaClic gratuit"})]}),$&&_.jsxs("div",{className:"auth-page__error",children:[_.jsx(cg,{size:18}),_.jsx("span",{children:$})]}),_.jsxs("form",{onSubmit:B,className:"auth-page__form",children:[_.jsxs("div",{className:"auth-page__field",children:[_.jsxs("label",{htmlFor:"displayName",children:[_.jsx(fg,{size:16}),"Nom complet *"]}),_.jsx("input",{type:"text",id:"displayName",name:"displayName",value:o.displayName,onChange:w,placeholder:"Prnom Nom",disabled:p,autoComplete:"name"})]}),_.jsxs("div",{className:"auth-page__field",children:[_.jsxs("label",{htmlFor:"email",children:[_.jsx(hg,{size:16}),"Adresse email *"]}),_.jsx("input",{type:"email",id:"email",name:"email",value:o.email,onChange:w,placeholder:"exemple@email.com",disabled:p,autoComplete:"email"})]}),_.jsxs("div",{className:"auth-page__field",children:[_.jsxs("label",{htmlFor:"role",children:[_.jsx(Ro,{size:16}),"Je suis *"]}),_.jsxs("select",{id:"role",name:"role",value:o.role,onChange:w,disabled:p,children:[_.jsx("option",{value:"eleve",children:"Un lve"}),_.jsx("option",{value:"prof",children:"Un professeur"})]})]}),_.jsxs("div",{className:"auth-page__field",children:[_.jsxs("label",{htmlFor:"password",children:[_.jsx(op,{size:16}),"Mot de passe *"]}),_.jsxs("div",{className:"auth-page__password-wrapper",children:[_.jsx("input",{type:f?"text":"password",id:"password",name:"password",value:o.password,onChange:w,placeholder:"Minimum 6 caractres",disabled:p,autoComplete:"new-password"}),_.jsx("button",{type:"button",className:"auth-page__password-toggle",onClick:()=>m(!f),tabIndex:-1,children:f?_.jsx(jA,{size:18}):_.jsx(PA,{size:18})})]})]}),_.jsxs("div",{className:"auth-page__field",children:[_.jsxs("label",{htmlFor:"confirmPassword",children:[_.jsx(op,{size:16}),"Confirmer le mot de passe *"]}),_.jsx("input",{type:f?"text":"password",id:"confirmPassword",name:"confirmPassword",value:o.confirmPassword,onChange:w,placeholder:"Rptez le mot de passe",disabled:p,autoComplete:"new-password"})]}),_.jsx("button",{type:"submit",className:"auth-page__submit",disabled:p,children:p?"Cration...":"Crer mon compte"})]}),_.jsxs("p",{className:"auth-page__footer",children:["Dj un compte ?"," ",_.jsx(Oe,{to:"/login",children:"Se connecter"})]})]})})},T6=()=>{const{currentUser:s}=da();if(!s)return null;const e={admin:"Administrateur",prof:"Professeur",eleve:"lve"};return _.jsx("div",{className:"dashboard-page",children:_.jsxs("div",{className:"dashboard-page__container",children:[_.jsxs("header",{className:"dashboard-page__header",children:[_.jsxs("div",{className:"dashboard-page__welcome",children:[_.jsxs("h1",{children:["Bienvenue, ",s.displayName||"Utilisateur"," ! "]}),_.jsxs("p",{children:[_.jsx("span",{className:`dashboard-page__role dashboard-page__role--${s.role}`,children:e[s.role]}),s.isPremium&&_.jsxs("span",{className:"dashboard-page__premium-badge",children:[_.jsx(Zr,{size:14}),"Premium"]})]})]}),_.jsxs("div",{className:"dashboard-page__actions",children:[_.jsxs(Oe,{to:"/profil",className:"dashboard-page__action-btn",children:[_.jsx(fg,{size:18}),"Mon profil"]}),s.role==="admin"&&_.jsxs(Oe,{to:"/admin",className:"dashboard-page__action-btn",children:[_.jsx(zA,{size:18}),"Administration"]})]})]}),_.jsxs("section",{className:"dashboard-page__stats",children:[_.jsxs("div",{className:"dashboard-page__stat-card",children:[_.jsx("div",{className:"dashboard-page__stat-icon dashboard-page__stat-icon--primary",children:_.jsx(aa,{size:24})}),_.jsxs("div",{className:"dashboard-page__stat-info",children:[_.jsx("span",{className:"dashboard-page__stat-value",children:"0"}),_.jsx("span",{className:"dashboard-page__stat-label",children:"Cours suivis"})]})]}),_.jsxs("div",{className:"dashboard-page__stat-card",children:[_.jsx("div",{className:"dashboard-page__stat-icon dashboard-page__stat-icon--success",children:_.jsx(lp,{size:24})}),_.jsxs("div",{className:"dashboard-page__stat-info",children:[_.jsx("span",{className:"dashboard-page__stat-value",children:"0"}),_.jsx("span",{className:"dashboard-page__stat-label",children:"Quiz russis"})]})]}),_.jsxs("div",{className:"dashboard-page__stat-card",children:[_.jsx("div",{className:"dashboard-page__stat-icon dashboard-page__stat-icon--warning",children:_.jsx(kA,{size:24})}),_.jsxs("div",{className:"dashboard-page__stat-info",children:[_.jsx("span",{className:"dashboard-page__stat-value",children:"0h"}),_.jsx("span",{className:"dashboard-page__stat-label",children:"Temps d'tude"})]})]}),_.jsxs("div",{className:"dashboard-page__stat-card",children:[_.jsx("div",{className:"dashboard-page__stat-icon dashboard-page__stat-icon--info",children:_.jsx(Xl,{size:24})}),_.jsxs("div",{className:"dashboard-page__stat-info",children:[_.jsx("span",{className:"dashboard-page__stat-value",children:"--"}),_.jsx("span",{className:"dashboard-page__stat-label",children:"Moyenne"})]})]})]}),_.jsxs("div",{className:"dashboard-page__content",children:[_.jsxs("section",{className:"dashboard-page__section",children:[_.jsx("h2",{children:"Accs rapide"}),_.jsxs("div",{className:"dashboard-page__quick-links",children:[_.jsxs(Oe,{to:"/disciplines",className:"dashboard-page__quick-link",children:[_.jsx(aa,{size:32}),_.jsx("span",{children:"Disciplines"}),_.jsx(iu,{size:18})]}),s.isPremium?_.jsxs(Oe,{to:"/quiz",className:"dashboard-page__quick-link",children:[_.jsx(lp,{size:32}),_.jsx("span",{children:"Quiz Premium"}),_.jsx(iu,{size:18})]}):_.jsxs(Oe,{to:"/premium",className:"dashboard-page__quick-link dashboard-page__quick-link--premium",children:[_.jsx(Zr,{size:32}),_.jsx("span",{children:"Passer Premium"}),_.jsx(iu,{size:18})]})]})]}),!s.isPremium&&_.jsx("section",{className:"dashboard-page__premium-cta",children:_.jsxs("div",{className:"dashboard-page__premium-cta-content",children:[_.jsx(Zr,{size:40}),_.jsxs("div",{children:[_.jsx("h3",{children:"Dbloquez tout le potentiel de PedaClic"}),_.jsx("p",{children:"Accdez aux quiz illimits, aux corrections dtailles et aux annales d'examens pour seulement 2 000 FCFA/mois."})]}),_.jsx(Oe,{to:"/premium",className:"dashboard-page__premium-cta-btn",children:"Dcouvrir Premium"})]})})]})]})})},B1={Franais:_.jsx($D,{size:28}),Mathmatiques:_.jsx(JD,{size:28}),Anglais:_.jsx(CO,{size:28}),"Histoire-Gographie":_.jsx(L1,{size:28}),Histoire:_.jsx(AO,{size:28}),Gographie:_.jsx(L1,{size:28}),SVT:_.jsx(P1,{size:28}),"Sciences de la Vie et de la Terre":_.jsx(P1,{size:28}),"Physique-Chimie":_.jsx(FD,{size:28}),Philosophie:_.jsx(xO,{size:28}),"ducation Physique":_.jsx(j1,{size:28}),EPS:_.jsx(j1,{size:28}),"Arts Plastiques":_.jsx(GO,{size:28}),Musique:_.jsx(HO,{size:28}),default:_.jsx(aa,{size:28})},A6={Franais:"#3b82f6",Mathmatiques:"#ef4444",Anglais:"#8b5cf6","Histoire-Gographie":"#f59e0b",SVT:"#10b981","Physique-Chimie":"#06b6d4",Philosophie:"#6366f1",EPS:"#22c55e","Arts Plastiques":"#ec4899",Musique:"#a855f7"},Dm={"6eme":"6me","5eme":"5me","4eme":"4me","3eme":"3me","2nde":"2nde","1ere":"1re",Terminale:"Terminale"},b6={college:["6eme","5eme","4eme","3eme"],lycee:["2nde","1ere","Terminale"]},S6=()=>{const[s,e]=te.useState([]),[n,r]=te.useState([]),[o,u]=te.useState(!0),[f,m]=te.useState(null),[p,y]=te.useState("college"),[T,b]=te.useState("all"),[w,B]=te.useState(""),$=async()=>{try{u(!0),m(null);const K=k4($l,"disciplines"),oe=$4(K,X4("ordre","asc")),ne=await eD(oe),ie=[];ne.forEach(Se=>{ie.push({id:Se.id,...Se.data()})}),e(ie)}catch(K){console.error("Erreur lors du chargement des disciplines:",K),m("Impossible de charger les disciplines. Veuillez ressayer.")}finally{u(!1)}};te.useEffect(()=>{$()},[]),te.useEffect(()=>{let K=s.filter(ne=>ne.niveau===p);if(T!=="all"&&(K=K.filter(ne=>ne.classe===T)),w.trim()){const ne=w.toLowerCase();K=K.filter(ie=>ie.nom.toLowerCase().includes(ne)||ie.description?.toLowerCase().includes(ne))}const oe=K.reduce((ne,ie)=>(ne.find(Ne=>Ne.nom===ie.nom)||ne.push(ie),ne),[]);r(oe)},[s,p,T,w]);const H=K=>B1[K]||B1.default,P=K=>K.couleur||A6[K.nom]||"#6b7280";return _.jsxs("div",{className:"disciplines-page",children:[_.jsx("section",{className:"disciplines-page__header",children:_.jsxs("div",{className:"disciplines-page__header-content",children:[_.jsxs("h1",{className:"disciplines-page__title",children:[_.jsx(Ro,{size:40}),"Nos Disciplines"]}),_.jsx("p",{className:"disciplines-page__subtitle",children:"Explorez toutes les matires disponibles sur PedaClic, du collge au lyce, avec des cours, exercices et quiz de qualit."})]})}),_.jsx("section",{className:"disciplines-page__filters",children:_.jsxs("div",{className:"disciplines-page__container",children:[_.jsxs("div",{className:"disciplines-page__niveau-tabs",children:[_.jsxs("button",{className:`disciplines-page__niveau-tab ${p==="college"?"disciplines-page__niveau-tab--active":""}`,onClick:()=>{y("college"),b("all")},children:[_.jsx("span",{className:"disciplines-page__niveau-icon",children:""}),"Collge",_.jsx("span",{className:"disciplines-page__niveau-badge",children:"6me - 3me"})]}),_.jsxs("button",{className:`disciplines-page__niveau-tab ${p==="lycee"?"disciplines-page__niveau-tab--active":""}`,onClick:()=>{y("lycee"),b("all")},children:[_.jsx("span",{className:"disciplines-page__niveau-icon",children:""}),"Lyce",_.jsx("span",{className:"disciplines-page__niveau-badge",children:"2nde - Terminale"})]})]}),_.jsxs("div",{className:"disciplines-page__secondary-filters",children:[_.jsxs("div",{className:"disciplines-page__filter-group",children:[_.jsxs("label",{className:"disciplines-page__filter-label",children:[_.jsx(gO,{size:16}),"Classe"]}),_.jsxs("select",{className:"disciplines-page__select",value:T,onChange:K=>b(K.target.value),children:[_.jsx("option",{value:"all",children:"Toutes les classes"}),b6[p].map(K=>_.jsx("option",{value:K,children:Dm[K]},K))]})]}),_.jsxs("div",{className:"disciplines-page__filter-group disciplines-page__filter-group--search",children:[_.jsxs("label",{className:"disciplines-page__filter-label",children:[_.jsx(UA,{size:16}),"Rechercher"]}),_.jsx("input",{type:"text",className:"disciplines-page__input",placeholder:"Nom de la matire...",value:w,onChange:K=>B(K.target.value)})]})]})]})}),_.jsx("section",{className:"disciplines-page__content",children:_.jsxs("div",{className:"disciplines-page__container",children:[o&&_.jsxs("div",{className:"disciplines-page__loading",children:[_.jsx("div",{className:"spinner"}),_.jsx("p",{children:"Chargement des disciplines..."})]}),f&&!o&&_.jsxs("div",{className:"disciplines-page__error",children:[_.jsx(cg,{size:48}),_.jsx("p",{children:f}),_.jsxs("button",{className:"disciplines-page__retry-btn",onClick:$,children:[_.jsx(JO,{size:18}),"Ressayer"]})]}),!o&&!f&&n.length===0&&_.jsxs("div",{className:"disciplines-page__empty",children:[_.jsx(aa,{size:48}),_.jsx("p",{children:"Aucune discipline trouve pour ces critres."}),w&&_.jsx("button",{className:"disciplines-page__clear-search",onClick:()=>B(""),children:"Effacer la recherche"})]}),!o&&!f&&n.length>0&&_.jsxs(_.Fragment,{children:[_.jsxs("p",{className:"disciplines-page__results-count",children:[n.length," discipline",n.length>1?"s":"",T!=="all"&&` en ${Dm[T]}`]}),_.jsx("div",{className:"disciplines-page__grid",children:n.map(K=>_.jsxs(Oe,{to:`/disciplines/${K.id}`,className:"discipline-card",style:{"--card-color":P(K)},children:[_.jsx("div",{className:"discipline-card__icon",style:{backgroundColor:P(K)},children:H(K.nom)}),_.jsxs("div",{className:"discipline-card__content",children:[_.jsx("h3",{className:"discipline-card__title",children:K.nom}),K.description&&_.jsx("p",{className:"discipline-card__description",children:K.description}),_.jsxs("div",{className:"discipline-card__meta",children:[K.coefficient&&_.jsxs("span",{className:"discipline-card__coef",children:["Coef. ",K.coefficient]}),_.jsx("span",{className:"discipline-card__classe",children:Dm[K.classe]})]})]}),_.jsx(iu,{className:"discipline-card__arrow",size:20})]},K.id))})]})]})}),_.jsx("section",{className:"disciplines-page__cta",children:_.jsx("div",{className:"disciplines-page__container",children:_.jsxs("div",{className:"disciplines-page__cta-content",children:[_.jsx("h2",{children:" Besoin de plus de contenu ?"}),_.jsx("p",{children:"Passez  Premium pour accder  tous les quiz, exercices corrigs et ressources exclusives pour russir vos examens !"}),_.jsxs(Oe,{to:"/premium",className:"disciplines-page__cta-btn",children:["Dcouvrir Premium",_.jsx(iu,{size:20})]})]})})})]})},w6=()=>_.jsx("div",{className:"not-found-page",children:_.jsxs("div",{className:"not-found-page__content",children:[_.jsxs("div",{className:"not-found-page__illustration",children:[_.jsx("span",{className:"not-found-page__404",children:"404"}),_.jsx("span",{className:"not-found-page__emoji",children:""})]}),_.jsx("h1",{children:"Page introuvable"}),_.jsx("p",{children:"Oups ! La page que vous recherchez n'existe pas ou a t dplace. Pas de panique, retournez  l'accueil pour continuer  apprendre !"}),_.jsxs("div",{className:"not-found-page__actions",children:[_.jsxs(Oe,{to:"/",className:"not-found-page__btn not-found-page__btn--primary",children:[_.jsx(LA,{size:18}),"Retour  l'accueil"]}),_.jsxs(Oe,{to:"/disciplines",className:"not-found-page__btn not-found-page__btn--outline",children:[_.jsx(UA,{size:18}),"Explorer les cours"]})]}),_.jsxs("button",{className:"not-found-page__back",onClick:()=>window.history.back(),children:[_.jsx(BD,{size:16}),"Revenir en arrire"]})]})}),R6=({children:s,requirePremium:e=!1,requireRole:n=[]})=>{const{currentUser:r,loading:o}=da();return o?_.jsx(Ys,{children:_.jsxs("div",{className:"loading-container",children:[_.jsx("div",{className:"spinner"}),_.jsx("p",{children:"Chargement..."})]})}):r?e&&!r.isPremium?_.jsx(dh,{to:"/premium",replace:!0}):n.length>0&&!n.includes(r.role)?_.jsx(dh,{to:"/dashboard",replace:!0}):_.jsx(_.Fragment,{children:s}):_.jsx(dh,{to:"/login",replace:!0})},q1=({children:s})=>{const{currentUser:e,loading:n}=da();return n?_.jsx(Ys,{children:_.jsxs("div",{className:"loading-container",children:[_.jsx("div",{className:"spinner"}),_.jsx("p",{children:"Chargement..."})]})}):e?_.jsx(dh,{to:"/dashboard",replace:!0}):_.jsx(_.Fragment,{children:s})},C6=()=>_.jsxs(A2,{children:[_.jsx($r,{path:"/",element:_.jsx(Ys,{children:_.jsx(y6,{})})}),_.jsx($r,{path:"/disciplines",element:_.jsx(Ys,{children:_.jsx(S6,{})})}),_.jsx($r,{path:"/login",element:_.jsx(q1,{children:_.jsx(Ys,{children:_.jsx(v6,{})})})}),_.jsx($r,{path:"/register",element:_.jsx(q1,{children:_.jsx(Ys,{children:_.jsx(E6,{})})})}),_.jsx($r,{path:"/dashboard",element:_.jsx(R6,{children:_.jsx(Ys,{children:_.jsx(T6,{})})})}),_.jsx($r,{path:"*",element:_.jsx(Ys,{children:_.jsx(w6,{})})})]}),I6=()=>_.jsx(N2,{children:_.jsx(VD,{children:_.jsx(C6,{})})}),qA=document.getElementById("root");if(!qA)throw new Error("L'lment #root n'existe pas");const N6=xS.createRoot(qA);N6.render(_.jsx(F1.StrictMode,{children:_.jsx(I6,{})}));
//# sourceMappingURL=index-DUxyyLif.js.map
