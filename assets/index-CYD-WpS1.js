import{a as Mf,b as HP,g as La,r as j,u as Zr,c as Df,L as ke,d as Tf,e as GP,f as VC,R as QP,h as FP,i as ft,N as __,j as VP,B as YP}from"./vendor-react-BMsfgiGx.js";import{i as KP,g as XP,a as WP,p as ZP,b as JP,c as ek,o as tk,d as De,u as _t,s as jt,e as rk,f as nk,h as ak,j as ik,k as yr,l as Pf,q as Ke,m as Pt,n as Te,r as YC,t as js,v as Lr,w as Be,x as $e,y as sc,z as S_,A as sk,B as lk,C as ok,D as Wn,T as Mt,E as KC}from"./vendor-firebase-BJitAc4y.js";import{H as Rg,B as Mn,G as Ol,L as w_,S as ck,C as os,a as Zo,b as Md,U as uk,c as dk,d as A_,X as Si,M as fk,e as _d,f as mk,P as pk,g as hk,h as vk,F as gk,i as Hy,j as Sd,k as yk,T as xk,I as bk,l as jk,Y as Nk,m as Yr,A as es,n as ac,o as Et,Z as XC,p as WC,q as zl,r as Ci,s as Dd,t as Jo,u as ZC,v as Gy,w as Lg,E as Al,x as _k,y as C_,z as Sk,D as wk,J as Ak,R as Ck,K as Ek,N as Ok,O as ec,Q as Ig,V as Gh,W as zk,_ as Mk,$ as Bg,a0 as Qh,a1 as Fh,a2 as Dk,a3 as Tk,a4 as Pk,a5 as kk,a6 as qk,a7 as Rk}from"./vendor-icons-hkj4svf_.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=r(l);fetch(l.href,o)}})();var Vh={exports:{}},Io={};var E_;function Lk(){if(E_)return Io;E_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,l,o){var u=null;if(o!==void 0&&(u=""+o),l.key!==void 0&&(u=""+l.key),"key"in l){o={};for(var f in l)f!=="key"&&(o[f]=l[f])}else o=l;return l=o.ref,{$$typeof:e,type:n,key:u,ref:l!==void 0?l:null,props:o}}return Io.Fragment=t,Io.jsx=r,Io.jsxs=r,Io}var O_;function Ik(){return O_||(O_=1,Vh.exports=Lk()),Vh.exports}var i=Ik(),Yh={exports:{}},Bo={},Kh={exports:{}},Xh={};var z_;function Bk(){return z_||(z_=1,(function(e){function t(k,J){var G=k.length;k.push(J);e:for(;0<G;){var me=G-1>>>1,I=k[me];if(0<l(I,J))k[me]=J,k[G]=I,G=me;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var J=k[0],G=k.pop();if(G!==J){k[0]=G;e:for(var me=0,I=k.length,ve=I>>>1;me<ve;){var xe=2*(me+1)-1,pe=k[xe],ye=xe+1,fe=k[ye];if(0>l(pe,G))ye<I&&0>l(fe,pe)?(k[me]=fe,k[ye]=G,me=ye):(k[me]=pe,k[xe]=G,me=xe);else if(ye<I&&0>l(fe,G))k[me]=fe,k[ye]=G,me=ye;else break e}}return J}function l(k,J){var G=k.sortIndex-J.sortIndex;return G!==0?G:k.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var m=[],p=[],h=1,v=null,x=3,b=!1,_=!1,N=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function E(k){for(var J=r(p);J!==null;){if(J.callback===null)n(p);else if(J.startTime<=k)n(p),J.sortIndex=J.expirationTime,t(m,J);else break;J=r(p)}}function z(k){if(N=!1,E(k),!_)if(r(m)!==null)_=!0,D||(D=!0,$());else{var J=r(p);J!==null&&V(z,J.startTime-k)}}var D=!1,L=-1,T=5,q=-1;function Y(){return S?!0:!(e.unstable_now()-q<T)}function X(){if(S=!1,D){var k=e.unstable_now();q=k;var J=!0;try{e:{_=!1,N&&(N=!1,O(L),L=-1),b=!0;var G=x;try{t:{for(E(k),v=r(m);v!==null&&!(v.expirationTime>k&&Y());){var me=v.callback;if(typeof me=="function"){v.callback=null,x=v.priorityLevel;var I=me(v.expirationTime<=k);if(k=e.unstable_now(),typeof I=="function"){v.callback=I,E(k),J=!0;break t}v===r(m)&&n(m),E(k)}else n(m);v=r(m)}if(v!==null)J=!0;else{var ve=r(p);ve!==null&&V(z,ve.startTime-k),J=!1}}break e}finally{v=null,x=G,b=!1}J=void 0}}finally{J?$():D=!1}}}var $;if(typeof C=="function")$=function(){C(X)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ue=oe.port2;oe.port1.onmessage=X,$=function(){ue.postMessage(null)}}else $=function(){A(X,0)};function V(k,J){L=A(function(){k(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(k){switch(x){case 1:case 2:case 3:var J=3;break;default:J=x}var G=x;x=J;try{return k()}finally{x=G}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(k,J){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var G=x;x=k;try{return J()}finally{x=G}},e.unstable_scheduleCallback=function(k,J,G){var me=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?me+G:me):G=me,k){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=G+I,k={id:h++,callback:J,priorityLevel:k,startTime:G,expirationTime:I,sortIndex:-1},G>me?(k.sortIndex=G,t(p,k),r(m)===null&&k===r(p)&&(N?(O(L),L=-1):N=!0,V(z,G-me))):(k.sortIndex=I,t(m,k),_||b||(_=!0,D||(D=!0,$()))),k},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(k){var J=x;return function(){var G=x;x=J;try{return k.apply(this,arguments)}finally{x=G}}}})(Xh)),Xh}var M_;function $k(){return M_||(M_=1,Kh.exports=Bk()),Kh.exports}var D_;function Uk(){if(D_)return Bo;D_=1;var e=$k(),t=Mf(),r=HP();function n(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function u(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function m(a){if(o(a)!==a)throw Error(n(188))}function p(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(n(188));return s!==a?null:a}for(var c=a,d=s;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(d=g.return,d!==null){c=d;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return m(g),a;if(y===d)return m(g),s;y=y.sibling}throw Error(n(188))}if(c.return!==d.return)c=g,d=y;else{for(var w=!1,M=g.child;M;){if(M===c){w=!0,c=g,d=y;break}if(M===d){w=!0,d=g,c=y;break}M=M.sibling}if(!w){for(M=y.child;M;){if(M===c){w=!0,c=y,d=g;break}if(M===d){w=!0,d=y,c=g;break}M=M.sibling}if(!w)throw Error(n(189))}}if(c.alternate!==d)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?a:s}function h(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=h(a),s!==null)return s;a=a.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function $(a){return a===null||typeof a!="object"?null:(a=X&&a[X]||a["@@iterator"],typeof a=="function"?a:null)}var oe=Symbol.for("react.client.reference");function ue(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===oe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case N:return"Fragment";case A:return"Profiler";case S:return"StrictMode";case z:return"Suspense";case D:return"SuspenseList";case q:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case C:return a.displayName||"Context";case O:return(a._context.displayName||"Context")+".Consumer";case E:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case L:return s=a.displayName||null,s!==null?s:ue(a.type)||"Memo";case T:s=a._payload,a=a._init;try{return ue(a(s))}catch{}}return null}var V=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},me=[],I=-1;function ve(a){return{current:a}}function xe(a){0>I||(a.current=me[I],me[I]=null,I--)}function pe(a,s){I++,me[I]=a.current,a.current=s}var ye=ve(null),fe=ve(null),U=ve(null),le=ve(null);function we(a,s){switch(pe(U,s),pe(fe,a),pe(ye,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?FN(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=FN(s),a=VN(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}xe(ye),pe(ye,a)}function re(){xe(ye),xe(fe),xe(U)}function Q(a){a.memoizedState!==null&&pe(le,a);var s=ye.current,c=VN(s,a.type);s!==c&&(pe(fe,a),pe(ye,c))}function R(a){fe.current===a&&(xe(ye),xe(fe)),le.current===a&&(xe(le),ko._currentValue=G)}var ne,H;function ge(a){if(ne===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);ne=s&&s[1]||"",H=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+a+H}var Pe=!1;function qe(a,s){if(!a||Pe)return"";Pe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ae){var ee=ae}Reflect.construct(a,[],de)}else{try{de.call()}catch(ae){ee=ae}a.call(de.prototype)}}else{try{throw Error()}catch(ae){ee=ae}(de=a())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ae){if(ae&&ee&&typeof ae.stack=="string")return[ae.stack,ee.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),w=y[0],M=y[1];if(w&&M){var P=w.split(`
`),Z=M.split(`
`);for(g=d=0;d<P.length&&!P[d].includes("DetermineComponentFrameRoot");)d++;for(;g<Z.length&&!Z[g].includes("DetermineComponentFrameRoot");)g++;if(d===P.length||g===Z.length)for(d=P.length-1,g=Z.length-1;1<=d&&0<=g&&P[d]!==Z[g];)g--;for(;1<=d&&0<=g;d--,g--)if(P[d]!==Z[g]){if(d!==1||g!==1)do if(d--,g--,0>g||P[d]!==Z[g]){var se=`
`+P[d].replace(" at new "," at ");return a.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",a.displayName)),se}while(1<=d&&0<=g);break}}}finally{Pe=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?ge(c):""}function Ge(a,s){switch(a.tag){case 26:case 27:case 5:return ge(a.type);case 16:return ge("Lazy");case 13:return a.child!==s&&s!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return qe(a.type,!1);case 11:return qe(a.type.render,!1);case 1:return qe(a.type,!0);case 31:return ge("Activity");default:return""}}function Gt(a){try{var s="",c=null;do s+=Ge(a,c),c=a,a=a.return;while(a);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var jn=Object.prototype.hasOwnProperty,Jr=e.unstable_scheduleCallback,ra=e.unstable_cancelCallback,ie=e.unstable_shouldYield,Se=e.unstable_requestPaint,ze=e.unstable_now,Re=e.unstable_getCurrentPriorityLevel,yt=e.unstable_ImmediatePriority,mr=e.unstable_UserBlockingPriority,Rn=e.unstable_NormalPriority,Es=e.unstable_LowPriority,en=e.unstable_IdlePriority,Va=e.log,zm=e.unstable_setDisableYieldValue,pr=null,pt=null;function Ln(a){if(typeof Va=="function"&&zm(a),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(pr,a)}catch{}}var br=Math.clz32?Math.clz32:Dm,Uc=Math.log,Mm=Math.LN2;function Dm(a){return a>>>=0,a===0?32:31-(Uc(a)/Mm|0)|0}var Os=256,zs=262144,Ms=4194304;function na(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function In(a,s,c){var d=a.pendingLanes;if(d===0)return 0;var g=0,y=a.suspendedLanes,w=a.pingedLanes;a=a.warmLanes;var M=d&134217727;return M!==0?(d=M&~y,d!==0?g=na(d):(w&=M,w!==0?g=na(w):c||(c=M&~a,c!==0&&(g=na(c))))):(M=d&~y,M!==0?g=na(M):w!==0?g=na(w):c||(c=d&~a,c!==0&&(g=na(c)))),g===0?0:s!==0&&s!==g&&(s&y)===0&&(y=g&-g,c=s&-s,y>=c||y===32&&(c&4194048)!==0)?s:g}function Ti(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function K(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ee(){var a=Ms;return Ms<<=1,(Ms&62914560)===0&&(Ms=4194304),a}function ct(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function hr(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Yl(a,s,c,d,g,y){var w=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var M=a.entanglements,P=a.expirationTimes,Z=a.hiddenUpdates;for(c=w&~c;0<c;){var se=31-br(c),de=1<<se;M[se]=0,P[se]=-1;var ee=Z[se];if(ee!==null)for(Z[se]=null,se=0;se<ee.length;se++){var ae=ee[se];ae!==null&&(ae.lane&=-536870913)}c&=~de}d!==0&&Pi(a,d,0),y!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=y&~(w&~s))}function Pi(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var d=31-br(s);a.entangledLanes|=s,a.entanglements[d]=a.entanglements[d]|1073741824|c&261930}function Ob(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var d=31-br(c),g=1<<d;g&s|a[d]&s&&(a[d]|=s),c&=~g}}function zb(a,s){var c=s&-s;return c=(c&42)!==0?1:Tm(c),(c&(a.suspendedLanes|s))!==0?0:c}function Tm(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Pm(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Mb(){var a=J.p;return a!==0?a:(a=window.event,a===void 0?32:v_(a.type))}function Db(a,s){var c=J.p;try{return J.p=a,s()}finally{J.p=c}}var Ya=Math.random().toString(36).slice(2),ir="__reactFiber$"+Ya,Er="__reactProps$"+Ya,Ds="__reactContainer$"+Ya,km="__reactEvents$"+Ya,DD="__reactListeners$"+Ya,TD="__reactHandles$"+Ya,Tb="__reactResources$"+Ya,Kl="__reactMarker$"+Ya;function qm(a){delete a[ir],delete a[Er],delete a[km],delete a[DD],delete a[TD]}function Ts(a){var s=a[ir];if(s)return s;for(var c=a.parentNode;c;){if(s=c[Ds]||c[ir]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=e_(a);a!==null;){if(c=a[ir])return c;a=e_(a)}return s}a=c,c=a.parentNode}return null}function Ps(a){if(a=a[ir]||a[Ds]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Xl(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(n(33))}function ks(a){var s=a[Tb];return s||(s=a[Tb]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Kt(a){a[Kl]=!0}var Pb=new Set,kb={};function ki(a,s){qs(a,s),qs(a+"Capture",s)}function qs(a,s){for(kb[a]=s,a=0;a<s.length;a++)Pb.add(s[a])}var PD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qb={},Rb={};function kD(a){return jn.call(Rb,a)?!0:jn.call(qb,a)?!1:PD.test(a)?Rb[a]=!0:(qb[a]=!0,!1)}function Hc(a,s,c){if(kD(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function Gc(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function aa(a,s,c,d){if(d===null)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+d)}}function tn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Lb(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function qD(a,s,c){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,y=d.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return g.call(this)},set:function(w){c=""+w,y.call(this,w)}}),Object.defineProperty(a,s,{enumerable:d.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Rm(a){if(!a._valueTracker){var s=Lb(a)?"checked":"value";a._valueTracker=qD(a,s,""+a[s])}}function Ib(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return a&&(d=Lb(a)?a.checked?"true":"false":a.value),a=d,a!==c?(s.setValue(a),!0):!1}function Qc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var RD=/[\n"\\]/g;function rn(a){return a.replace(RD,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Lm(a,s,c,d,g,y,w,M){a.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?a.type=w:a.removeAttribute("type"),s!=null?w==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+tn(s)):a.value!==""+tn(s)&&(a.value=""+tn(s)):w!=="submit"&&w!=="reset"||a.removeAttribute("value"),s!=null?Im(a,w,tn(s)):c!=null?Im(a,w,tn(c)):d!=null&&a.removeAttribute("value"),g==null&&y!=null&&(a.defaultChecked=!!y),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.name=""+tn(M):a.removeAttribute("name")}function Bb(a,s,c,d,g,y,w,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),s!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){Rm(a);return}c=c!=null?""+tn(c):"",s=s!=null?""+tn(s):c,M||s===a.value||(a.value=s),a.defaultValue=s}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=M?a.checked:!!d,a.defaultChecked=!!d,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.name=w),Rm(a)}function Im(a,s,c){s==="number"&&Qc(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function Rs(a,s,c,d){if(a=a.options,s){s={};for(var g=0;g<c.length;g++)s["$"+c[g]]=!0;for(c=0;c<a.length;c++)g=s.hasOwnProperty("$"+a[c].value),a[c].selected!==g&&(a[c].selected=g),g&&d&&(a[c].defaultSelected=!0)}else{for(c=""+tn(c),s=null,g=0;g<a.length;g++){if(a[g].value===c){a[g].selected=!0,d&&(a[g].defaultSelected=!0);return}s!==null||a[g].disabled||(s=a[g])}s!==null&&(s.selected=!0)}}function $b(a,s,c){if(s!=null&&(s=""+tn(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+tn(c):""}function Ub(a,s,c,d){if(s==null){if(d!=null){if(c!=null)throw Error(n(92));if(V(d)){if(1<d.length)throw Error(n(93));d=d[0]}c=d}c==null&&(c=""),s=c}c=tn(s),a.defaultValue=c,d=a.textContent,d===c&&d!==""&&d!==null&&(a.value=d),Rm(a)}function Ls(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var LD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hb(a,s,c){var d=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":d?a.setProperty(s,c):typeof c!="number"||c===0||LD.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function Gb(a,s,c){if(s!=null&&typeof s!="object")throw Error(n(62));if(a=a.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var g in s)d=s[g],s.hasOwnProperty(g)&&c[g]!==d&&Hb(a,g,d)}else for(var y in s)s.hasOwnProperty(y)&&Hb(a,y,s[y])}function Bm(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ID=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),BD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fc(a){return BD.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ia(){}var $m=null;function Um(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Is=null,Bs=null;function Qb(a){var s=Ps(a);if(s&&(a=s.stateNode)){var c=a[Er]||null;e:switch(a=s.stateNode,s.type){case"input":if(Lm(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+rn(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==a&&d.form===a.form){var g=d[Er]||null;if(!g)throw Error(n(90));Lm(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<c.length;s++)d=c[s],d.form===a.form&&Ib(d)}break e;case"textarea":$b(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Rs(a,!!c.multiple,s,!1)}}}var Hm=!1;function Fb(a,s,c){if(Hm)return a(s,c);Hm=!0;try{var d=a(s);return d}finally{if(Hm=!1,(Is!==null||Bs!==null)&&(Tu(),Is&&(s=Is,a=Bs,Bs=Is=null,Qb(s),a)))for(s=0;s<a.length;s++)Qb(a[s])}}function Wl(a,s){var c=a.stateNode;if(c===null)return null;var d=c[Er]||null;if(d===null)return null;c=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(n(231,s,typeof c));return c}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gm=!1;if(sa)try{var Zl={};Object.defineProperty(Zl,"passive",{get:function(){Gm=!0}}),window.addEventListener("test",Zl,Zl),window.removeEventListener("test",Zl,Zl)}catch{Gm=!1}var Ka=null,Qm=null,Vc=null;function Vb(){if(Vc)return Vc;var a,s=Qm,c=s.length,d,g="value"in Ka?Ka.value:Ka.textContent,y=g.length;for(a=0;a<c&&s[a]===g[a];a++);var w=c-a;for(d=1;d<=w&&s[c-d]===g[y-d];d++);return Vc=g.slice(a,1<d?1-d:void 0)}function Yc(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Kc(){return!0}function Yb(){return!1}function Or(a){function s(c,d,g,y,w){this._reactName=c,this._targetInst=g,this.type=d,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(c=a[M],this[M]=c?c(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Kc:Yb,this.isPropagationStopped=Yb,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Kc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Kc)},persist:function(){},isPersistent:Kc}),s}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xc=Or(qi),Jl=v({},qi,{view:0,detail:0}),$D=Or(Jl),Fm,Vm,eo,Wc=v({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Km,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==eo&&(eo&&a.type==="mousemove"?(Fm=a.screenX-eo.screenX,Vm=a.screenY-eo.screenY):Vm=Fm=0,eo=a),Fm)},movementY:function(a){return"movementY"in a?a.movementY:Vm}}),Kb=Or(Wc),UD=v({},Wc,{dataTransfer:0}),HD=Or(UD),GD=v({},Jl,{relatedTarget:0}),Ym=Or(GD),QD=v({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),FD=Or(QD),VD=v({},qi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),YD=Or(VD),KD=v({},qi,{data:0}),Xb=Or(KD),XD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JD(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=ZD[a])?!!s[a]:!1}function Km(){return JD}var eT=v({},Jl,{key:function(a){if(a.key){var s=XD[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Yc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?WD[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Km,charCode:function(a){return a.type==="keypress"?Yc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Yc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),tT=Or(eT),rT=v({},Wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wb=Or(rT),nT=v({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Km}),aT=Or(nT),iT=v({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),sT=Or(iT),lT=v({},Wc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),oT=Or(lT),cT=v({},qi,{newState:0,oldState:0}),uT=Or(cT),dT=[9,13,27,32],Xm=sa&&"CompositionEvent"in window,to=null;sa&&"documentMode"in document&&(to=document.documentMode);var fT=sa&&"TextEvent"in window&&!to,Zb=sa&&(!Xm||to&&8<to&&11>=to),Jb=" ",e0=!1;function t0(a,s){switch(a){case"keyup":return dT.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r0(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var $s=!1;function mT(a,s){switch(a){case"compositionend":return r0(s);case"keypress":return s.which!==32?null:(e0=!0,Jb);case"textInput":return a=s.data,a===Jb&&e0?null:a;default:return null}}function pT(a,s){if($s)return a==="compositionend"||!Xm&&t0(a,s)?(a=Vb(),Vc=Qm=Ka=null,$s=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Zb&&s.locale!=="ko"?null:s.data;default:return null}}var hT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n0(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!hT[a.type]:s==="textarea"}function a0(a,s,c,d){Is?Bs?Bs.push(d):Bs=[d]:Is=d,s=Bu(s,"onChange"),0<s.length&&(c=new Xc("onChange","change",null,c,d),a.push({event:c,listeners:s}))}var ro=null,no=null;function vT(a){BN(a,0)}function Zc(a){var s=Xl(a);if(Ib(s))return a}function i0(a,s){if(a==="change")return s}var s0=!1;if(sa){var Wm;if(sa){var Zm="oninput"in document;if(!Zm){var l0=document.createElement("div");l0.setAttribute("oninput","return;"),Zm=typeof l0.oninput=="function"}Wm=Zm}else Wm=!1;s0=Wm&&(!document.documentMode||9<document.documentMode)}function o0(){ro&&(ro.detachEvent("onpropertychange",c0),no=ro=null)}function c0(a){if(a.propertyName==="value"&&Zc(no)){var s=[];a0(s,no,a,Um(a)),Fb(vT,s)}}function gT(a,s,c){a==="focusin"?(o0(),ro=s,no=c,ro.attachEvent("onpropertychange",c0)):a==="focusout"&&o0()}function yT(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Zc(no)}function xT(a,s){if(a==="click")return Zc(s)}function bT(a,s){if(a==="input"||a==="change")return Zc(s)}function jT(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Br=typeof Object.is=="function"?Object.is:jT;function ao(a,s){if(Br(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var g=c[d];if(!jn.call(s,g)||!Br(a[g],s[g]))return!1}return!0}function u0(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function d0(a,s){var c=u0(a);a=0;for(var d;c;){if(c.nodeType===3){if(d=a+c.textContent.length,a<=s&&d>=s)return{node:c,offset:s-a};a=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=u0(c)}}function f0(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?f0(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function m0(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Qc(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=Qc(a.document)}return s}function Jm(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var NT=sa&&"documentMode"in document&&11>=document.documentMode,Us=null,ep=null,io=null,tp=!1;function p0(a,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;tp||Us==null||Us!==Qc(d)||(d=Us,"selectionStart"in d&&Jm(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),io&&ao(io,d)||(io=d,d=Bu(ep,"onSelect"),0<d.length&&(s=new Xc("onSelect","select",null,s,c),a.push({event:s,listeners:d}),s.target=Us)))}function Ri(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var Hs={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionrun:Ri("Transition","TransitionRun"),transitionstart:Ri("Transition","TransitionStart"),transitioncancel:Ri("Transition","TransitionCancel"),transitionend:Ri("Transition","TransitionEnd")},rp={},h0={};sa&&(h0=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Li(a){if(rp[a])return rp[a];if(!Hs[a])return a;var s=Hs[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in h0)return rp[a]=s[c];return a}var v0=Li("animationend"),g0=Li("animationiteration"),y0=Li("animationstart"),_T=Li("transitionrun"),ST=Li("transitionstart"),wT=Li("transitioncancel"),x0=Li("transitionend"),b0=new Map,np="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");np.push("scrollEnd");function Nn(a,s){b0.set(a,s),ki(s,[a])}var Jc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},nn=[],Gs=0,ap=0;function eu(){for(var a=Gs,s=ap=Gs=0;s<a;){var c=nn[s];nn[s++]=null;var d=nn[s];nn[s++]=null;var g=nn[s];nn[s++]=null;var y=nn[s];if(nn[s++]=null,d!==null&&g!==null){var w=d.pending;w===null?g.next=g:(g.next=w.next,w.next=g),d.pending=g}y!==0&&j0(c,g,y)}}function tu(a,s,c,d){nn[Gs++]=a,nn[Gs++]=s,nn[Gs++]=c,nn[Gs++]=d,ap|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function ip(a,s,c,d){return tu(a,s,c,d),ru(a)}function Ii(a,s){return tu(a,null,null,s),ru(a)}function j0(a,s,c){a.lanes|=c;var d=a.alternate;d!==null&&(d.lanes|=c);for(var g=!1,y=a.return;y!==null;)y.childLanes|=c,d=y.alternate,d!==null&&(d.childLanes|=c),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(g=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,g&&s!==null&&(g=31-br(c),a=y.hiddenUpdates,d=a[g],d===null?a[g]=[s]:d.push(s),s.lane=c|536870912),y):null}function ru(a){if(50<Eo)throw Eo=0,ph=null,Error(n(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Qs={};function AT(a,s,c,d){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(a,s,c,d){return new AT(a,s,c,d)}function sp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function la(a,s){var c=a.alternate;return c===null?(c=$r(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function N0(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function nu(a,s,c,d,g,y){var w=0;if(d=a,typeof a=="function")sp(a)&&(w=1);else if(typeof a=="string")w=MP(a,c,ye.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case q:return a=$r(31,c,s,g),a.elementType=q,a.lanes=y,a;case N:return Bi(c.children,g,y,s);case S:w=8,g|=24;break;case A:return a=$r(12,c,s,g|2),a.elementType=A,a.lanes=y,a;case z:return a=$r(13,c,s,g),a.elementType=z,a.lanes=y,a;case D:return a=$r(19,c,s,g),a.elementType=D,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:w=10;break e;case O:w=9;break e;case E:w=11;break e;case L:w=14;break e;case T:w=16,d=null;break e}w=29,c=Error(n(130,a===null?"null":typeof a,"")),d=null}return s=$r(w,c,s,g),s.elementType=a,s.type=d,s.lanes=y,s}function Bi(a,s,c,d){return a=$r(7,a,d,s),a.lanes=c,a}function lp(a,s,c){return a=$r(6,a,null,s),a.lanes=c,a}function _0(a){var s=$r(18,null,null,0);return s.stateNode=a,s}function op(a,s,c){return s=$r(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var S0=new WeakMap;function an(a,s){if(typeof a=="object"&&a!==null){var c=S0.get(a);return c!==void 0?c:(s={value:a,source:s,stack:Gt(s)},S0.set(a,s),s)}return{value:a,source:s,stack:Gt(s)}}var Fs=[],Vs=0,au=null,so=0,sn=[],ln=0,Xa=null,Bn=1,$n="";function oa(a,s){Fs[Vs++]=so,Fs[Vs++]=au,au=a,so=s}function w0(a,s,c){sn[ln++]=Bn,sn[ln++]=$n,sn[ln++]=Xa,Xa=a;var d=Bn;a=$n;var g=32-br(d)-1;d&=~(1<<g),c+=1;var y=32-br(s)+g;if(30<y){var w=g-g%5;y=(d&(1<<w)-1).toString(32),d>>=w,g-=w,Bn=1<<32-br(s)+g|c<<g|d,$n=y+a}else Bn=1<<y|c<<g|d,$n=a}function cp(a){a.return!==null&&(oa(a,1),w0(a,1,0))}function up(a){for(;a===au;)au=Fs[--Vs],Fs[Vs]=null,so=Fs[--Vs],Fs[Vs]=null;for(;a===Xa;)Xa=sn[--ln],sn[ln]=null,$n=sn[--ln],sn[ln]=null,Bn=sn[--ln],sn[ln]=null}function A0(a,s){sn[ln++]=Bn,sn[ln++]=$n,sn[ln++]=Xa,Bn=s.id,$n=s.overflow,Xa=a}var sr=null,ht=null,Ve=!1,Wa=null,on=!1,dp=Error(n(519));function Za(a){var s=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lo(an(s,a)),dp}function C0(a){var s=a.stateNode,c=a.type,d=a.memoizedProps;switch(s[ir]=a,s[Er]=d,c){case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":case"embed":He("load",s);break;case"video":case"audio":for(c=0;c<zo.length;c++)He(zo[c],s);break;case"source":He("error",s);break;case"img":case"image":case"link":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"input":He("invalid",s),Bb(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":He("invalid",s);break;case"textarea":He("invalid",s),Ub(s,d.value,d.defaultValue,d.children)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||d.suppressHydrationWarning===!0||GN(s.textContent,c)?(d.popover!=null&&(He("beforetoggle",s),He("toggle",s)),d.onScroll!=null&&He("scroll",s),d.onScrollEnd!=null&&He("scrollend",s),d.onClick!=null&&(s.onclick=ia),s=!0):s=!1,s||Za(a,!0)}function E0(a){for(sr=a.return;sr;)switch(sr.tag){case 5:case 31:case 13:on=!1;return;case 27:case 3:on=!0;return;default:sr=sr.return}}function Ys(a){if(a!==sr)return!1;if(!Ve)return E0(a),Ve=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Oh(a.type,a.memoizedProps)),c=!c),c&&ht&&Za(a),E0(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));ht=JN(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));ht=JN(a)}else s===27?(s=ht,fi(a.type)?(a=Ph,Ph=null,ht=a):ht=s):ht=sr?un(a.stateNode.nextSibling):null;return!0}function $i(){ht=sr=null,Ve=!1}function fp(){var a=Wa;return a!==null&&(Tr===null?Tr=a:Tr.push.apply(Tr,a),Wa=null),a}function lo(a){Wa===null?Wa=[a]:Wa.push(a)}var mp=ve(null),Ui=null,ca=null;function Ja(a,s,c){pe(mp,s._currentValue),s._currentValue=c}function ua(a){a._currentValue=mp.current,xe(mp)}function pp(a,s,c){for(;a!==null;){var d=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),a===c)break;a=a.return}}function hp(a,s,c,d){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var y=g.dependencies;if(y!==null){var w=g.child;y=y.firstContext;e:for(;y!==null;){var M=y;y=g;for(var P=0;P<s.length;P++)if(M.context===s[P]){y.lanes|=c,M=y.alternate,M!==null&&(M.lanes|=c),pp(y.return,c,a),d||(w=null);break e}y=M.next}}else if(g.tag===18){if(w=g.return,w===null)throw Error(n(341));w.lanes|=c,y=w.alternate,y!==null&&(y.lanes|=c),pp(w,c,a),w=null}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===a){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}}function Ks(a,s,c,d){a=null;for(var g=s,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var w=g.alternate;if(w===null)throw Error(n(387));if(w=w.memoizedProps,w!==null){var M=g.type;Br(g.pendingProps.value,w.value)||(a!==null?a.push(M):a=[M])}}else if(g===le.current){if(w=g.alternate,w===null)throw Error(n(387));w.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(ko):a=[ko])}g=g.return}a!==null&&hp(s,a,c,d),s.flags|=262144}function iu(a){for(a=a.firstContext;a!==null;){if(!Br(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Hi(a){Ui=a,ca=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function lr(a){return O0(Ui,a)}function su(a,s){return Ui===null&&Hi(a),O0(a,s)}function O0(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},ca===null){if(a===null)throw Error(n(308));ca=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else ca=ca.next=s;return c}var CT=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,d){a.push(d)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},ET=e.unstable_scheduleCallback,OT=e.unstable_NormalPriority,qt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vp(){return{controller:new CT,data:new Map,refCount:0}}function oo(a){a.refCount--,a.refCount===0&&ET(OT,function(){a.controller.abort()})}var co=null,gp=0,Xs=0,Ws=null;function zT(a,s){if(co===null){var c=co=[];gp=0,Xs=bh(),Ws={status:"pending",value:void 0,then:function(d){c.push(d)}}}return gp++,s.then(z0,z0),s}function z0(){if(--gp===0&&co!==null){Ws!==null&&(Ws.status="fulfilled");var a=co;co=null,Xs=0,Ws=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function MT(a,s){var c=[],d={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return a.then(function(){d.status="fulfilled",d.value=s;for(var g=0;g<c.length;g++)(0,c[g])(s)},function(g){for(d.status="rejected",d.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),d}var M0=k.S;k.S=function(a,s){pN=ze(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&zT(a,s),M0!==null&&M0(a,s)};var Gi=ve(null);function yp(){var a=Gi.current;return a!==null?a:ut.pooledCache}function lu(a,s){s===null?pe(Gi,Gi.current):pe(Gi,s.pool)}function D0(){var a=yp();return a===null?null:{parent:qt._currentValue,pool:a}}var Zs=Error(n(460)),xp=Error(n(474)),ou=Error(n(542)),cu={then:function(){}};function T0(a){return a=a.status,a==="fulfilled"||a==="rejected"}function P0(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(ia,ia),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,q0(a),a;default:if(typeof s.status=="string")s.then(ia,ia);else{if(a=ut,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=s,a.status="pending",a.then(function(d){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=d}},function(d){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,q0(a),a}throw Fi=s,Zs}}function Qi(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Fi=c,Zs):c}}var Fi=null;function k0(){if(Fi===null)throw Error(n(459));var a=Fi;return Fi=null,a}function q0(a){if(a===Zs||a===ou)throw Error(n(483))}var Js=null,uo=0;function uu(a){var s=uo;return uo+=1,Js===null&&(Js=[]),P0(Js,a,s)}function fo(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function du(a,s){throw s.$$typeof===x?Error(n(525)):(a=Object.prototype.toString.call(s),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function R0(a){function s(F,B){if(a){var W=F.deletions;W===null?(F.deletions=[B],F.flags|=16):W.push(B)}}function c(F,B){if(!a)return null;for(;B!==null;)s(F,B),B=B.sibling;return null}function d(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function g(F,B){return F=la(F,B),F.index=0,F.sibling=null,F}function y(F,B,W){return F.index=W,a?(W=F.alternate,W!==null?(W=W.index,W<B?(F.flags|=67108866,B):W):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function w(F){return a&&F.alternate===null&&(F.flags|=67108866),F}function M(F,B,W,ce){return B===null||B.tag!==6?(B=lp(W,F.mode,ce),B.return=F,B):(B=g(B,W),B.return=F,B)}function P(F,B,W,ce){var Ce=W.type;return Ce===N?se(F,B,W.props.children,ce,W.key):B!==null&&(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===T&&Qi(Ce)===B.type)?(B=g(B,W.props),fo(B,W),B.return=F,B):(B=nu(W.type,W.key,W.props,null,F.mode,ce),fo(B,W),B.return=F,B)}function Z(F,B,W,ce){return B===null||B.tag!==4||B.stateNode.containerInfo!==W.containerInfo||B.stateNode.implementation!==W.implementation?(B=op(W,F.mode,ce),B.return=F,B):(B=g(B,W.children||[]),B.return=F,B)}function se(F,B,W,ce,Ce){return B===null||B.tag!==7?(B=Bi(W,F.mode,ce,Ce),B.return=F,B):(B=g(B,W),B.return=F,B)}function de(F,B,W){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=lp(""+B,F.mode,W),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return W=nu(B.type,B.key,B.props,null,F.mode,W),fo(W,B),W.return=F,W;case _:return B=op(B,F.mode,W),B.return=F,B;case T:return B=Qi(B),de(F,B,W)}if(V(B)||$(B))return B=Bi(B,F.mode,W,null),B.return=F,B;if(typeof B.then=="function")return de(F,uu(B),W);if(B.$$typeof===C)return de(F,su(F,B),W);du(F,B)}return null}function ee(F,B,W,ce){var Ce=B!==null?B.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Ce!==null?null:M(F,B,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return W.key===Ce?P(F,B,W,ce):null;case _:return W.key===Ce?Z(F,B,W,ce):null;case T:return W=Qi(W),ee(F,B,W,ce)}if(V(W)||$(W))return Ce!==null?null:se(F,B,W,ce,null);if(typeof W.then=="function")return ee(F,B,uu(W),ce);if(W.$$typeof===C)return ee(F,B,su(F,W),ce);du(F,W)}return null}function ae(F,B,W,ce,Ce){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return F=F.get(W)||null,M(B,F,""+ce,Ce);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:return F=F.get(ce.key===null?W:ce.key)||null,P(B,F,ce,Ce);case _:return F=F.get(ce.key===null?W:ce.key)||null,Z(B,F,ce,Ce);case T:return ce=Qi(ce),ae(F,B,W,ce,Ce)}if(V(ce)||$(ce))return F=F.get(W)||null,se(B,F,ce,Ce,null);if(typeof ce.then=="function")return ae(F,B,W,uu(ce),Ce);if(ce.$$typeof===C)return ae(F,B,W,su(B,ce),Ce);du(B,ce)}return null}function je(F,B,W,ce){for(var Ce=null,Xe=null,_e=B,Ie=B=0,Fe=null;_e!==null&&Ie<W.length;Ie++){_e.index>Ie?(Fe=_e,_e=null):Fe=_e.sibling;var We=ee(F,_e,W[Ie],ce);if(We===null){_e===null&&(_e=Fe);break}a&&_e&&We.alternate===null&&s(F,_e),B=y(We,B,Ie),Xe===null?Ce=We:Xe.sibling=We,Xe=We,_e=Fe}if(Ie===W.length)return c(F,_e),Ve&&oa(F,Ie),Ce;if(_e===null){for(;Ie<W.length;Ie++)_e=de(F,W[Ie],ce),_e!==null&&(B=y(_e,B,Ie),Xe===null?Ce=_e:Xe.sibling=_e,Xe=_e);return Ve&&oa(F,Ie),Ce}for(_e=d(_e);Ie<W.length;Ie++)Fe=ae(_e,F,Ie,W[Ie],ce),Fe!==null&&(a&&Fe.alternate!==null&&_e.delete(Fe.key===null?Ie:Fe.key),B=y(Fe,B,Ie),Xe===null?Ce=Fe:Xe.sibling=Fe,Xe=Fe);return a&&_e.forEach(function(gi){return s(F,gi)}),Ve&&oa(F,Ie),Ce}function Me(F,B,W,ce){if(W==null)throw Error(n(151));for(var Ce=null,Xe=null,_e=B,Ie=B=0,Fe=null,We=W.next();_e!==null&&!We.done;Ie++,We=W.next()){_e.index>Ie?(Fe=_e,_e=null):Fe=_e.sibling;var gi=ee(F,_e,We.value,ce);if(gi===null){_e===null&&(_e=Fe);break}a&&_e&&gi.alternate===null&&s(F,_e),B=y(gi,B,Ie),Xe===null?Ce=gi:Xe.sibling=gi,Xe=gi,_e=Fe}if(We.done)return c(F,_e),Ve&&oa(F,Ie),Ce;if(_e===null){for(;!We.done;Ie++,We=W.next())We=de(F,We.value,ce),We!==null&&(B=y(We,B,Ie),Xe===null?Ce=We:Xe.sibling=We,Xe=We);return Ve&&oa(F,Ie),Ce}for(_e=d(_e);!We.done;Ie++,We=W.next())We=ae(_e,F,Ie,We.value,ce),We!==null&&(a&&We.alternate!==null&&_e.delete(We.key===null?Ie:We.key),B=y(We,B,Ie),Xe===null?Ce=We:Xe.sibling=We,Xe=We);return a&&_e.forEach(function(UP){return s(F,UP)}),Ve&&oa(F,Ie),Ce}function st(F,B,W,ce){if(typeof W=="object"&&W!==null&&W.type===N&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case b:e:{for(var Ce=W.key;B!==null;){if(B.key===Ce){if(Ce=W.type,Ce===N){if(B.tag===7){c(F,B.sibling),ce=g(B,W.props.children),ce.return=F,F=ce;break e}}else if(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===T&&Qi(Ce)===B.type){c(F,B.sibling),ce=g(B,W.props),fo(ce,W),ce.return=F,F=ce;break e}c(F,B);break}else s(F,B);B=B.sibling}W.type===N?(ce=Bi(W.props.children,F.mode,ce,W.key),ce.return=F,F=ce):(ce=nu(W.type,W.key,W.props,null,F.mode,ce),fo(ce,W),ce.return=F,F=ce)}return w(F);case _:e:{for(Ce=W.key;B!==null;){if(B.key===Ce)if(B.tag===4&&B.stateNode.containerInfo===W.containerInfo&&B.stateNode.implementation===W.implementation){c(F,B.sibling),ce=g(B,W.children||[]),ce.return=F,F=ce;break e}else{c(F,B);break}else s(F,B);B=B.sibling}ce=op(W,F.mode,ce),ce.return=F,F=ce}return w(F);case T:return W=Qi(W),st(F,B,W,ce)}if(V(W))return je(F,B,W,ce);if($(W)){if(Ce=$(W),typeof Ce!="function")throw Error(n(150));return W=Ce.call(W),Me(F,B,W,ce)}if(typeof W.then=="function")return st(F,B,uu(W),ce);if(W.$$typeof===C)return st(F,B,su(F,W),ce);du(F,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,B!==null&&B.tag===6?(c(F,B.sibling),ce=g(B,W),ce.return=F,F=ce):(c(F,B),ce=lp(W,F.mode,ce),ce.return=F,F=ce),w(F)):c(F,B)}return function(F,B,W,ce){try{uo=0;var Ce=st(F,B,W,ce);return Js=null,Ce}catch(_e){if(_e===Zs||_e===ou)throw _e;var Xe=$r(29,_e,null,F.mode);return Xe.lanes=ce,Xe.return=F,Xe}}}var Vi=R0(!0),L0=R0(!1),ei=!1;function bp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jp(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ti(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ri(a,s,c){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Je&2)!==0){var g=d.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),d.pending=s,s=ru(a),j0(a,null,c),s}return tu(a,d,s,c),ru(a)}function mo(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var d=s.lanes;d&=a.pendingLanes,c|=d,s.lanes=c,Ob(a,c)}}function Np(a,s){var c=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var w={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?g=y=w:y=y.next=w,c=c.next}while(c!==null);y===null?g=y=s:y=y.next=s}else g=y=s;c={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var _p=!1;function po(){if(_p){var a=Ws;if(a!==null)throw a}}function ho(a,s,c,d){_p=!1;var g=a.updateQueue;ei=!1;var y=g.firstBaseUpdate,w=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var P=M,Z=P.next;P.next=null,w===null?y=Z:w.next=Z,w=P;var se=a.alternate;se!==null&&(se=se.updateQueue,M=se.lastBaseUpdate,M!==w&&(M===null?se.firstBaseUpdate=Z:M.next=Z,se.lastBaseUpdate=P))}if(y!==null){var de=g.baseState;w=0,se=Z=P=null,M=y;do{var ee=M.lane&-536870913,ae=ee!==M.lane;if(ae?(Qe&ee)===ee:(d&ee)===ee){ee!==0&&ee===Xs&&(_p=!0),se!==null&&(se=se.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var je=a,Me=M;ee=s;var st=c;switch(Me.tag){case 1:if(je=Me.payload,typeof je=="function"){de=je.call(st,de,ee);break e}de=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Me.payload,ee=typeof je=="function"?je.call(st,de,ee):je,ee==null)break e;de=v({},de,ee);break e;case 2:ei=!0}}ee=M.callback,ee!==null&&(a.flags|=64,ae&&(a.flags|=8192),ae=g.callbacks,ae===null?g.callbacks=[ee]:ae.push(ee))}else ae={lane:ee,tag:M.tag,payload:M.payload,callback:M.callback,next:null},se===null?(Z=se=ae,P=de):se=se.next=ae,w|=ee;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;ae=M,M=ae.next,ae.next=null,g.lastBaseUpdate=ae,g.shared.pending=null}}while(!0);se===null&&(P=de),g.baseState=P,g.firstBaseUpdate=Z,g.lastBaseUpdate=se,y===null&&(g.shared.lanes=0),li|=w,a.lanes=w,a.memoizedState=de}}function I0(a,s){if(typeof a!="function")throw Error(n(191,a));a.call(s)}function B0(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)I0(c[a],s)}var el=ve(null),fu=ve(0);function $0(a,s){a=xa,pe(fu,a),pe(el,s),xa=a|s.baseLanes}function Sp(){pe(fu,xa),pe(el,el.current)}function wp(){xa=fu.current,xe(el),xe(fu)}var Ur=ve(null),cn=null;function ni(a){var s=a.alternate;pe(Dt,Dt.current&1),pe(Ur,a),cn===null&&(s===null||el.current!==null||s.memoizedState!==null)&&(cn=a)}function Ap(a){pe(Dt,Dt.current),pe(Ur,a),cn===null&&(cn=a)}function U0(a){a.tag===22?(pe(Dt,Dt.current),pe(Ur,a),cn===null&&(cn=a)):ai()}function ai(){pe(Dt,Dt.current),pe(Ur,Ur.current)}function Hr(a){xe(Ur),cn===a&&(cn=null),xe(Dt)}var Dt=ve(0);function mu(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Dh(c)||Th(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var da=0,Le=null,at=null,Rt=null,pu=!1,tl=!1,Yi=!1,hu=0,vo=0,rl=null,DT=0;function wt(){throw Error(n(321))}function Cp(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!Br(a[c],s[c]))return!1;return!0}function Ep(a,s,c,d,g,y){return da=y,Le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,k.H=a===null||a.memoizedState===null?wj:Hp,Yi=!1,y=c(d,g),Yi=!1,tl&&(y=G0(s,c,d,g)),H0(a),y}function H0(a){k.H=xo;var s=at!==null&&at.next!==null;if(da=0,Rt=at=Le=null,pu=!1,vo=0,rl=null,s)throw Error(n(300));a===null||Lt||(a=a.dependencies,a!==null&&iu(a)&&(Lt=!0))}function G0(a,s,c,d){Le=a;var g=0;do{if(tl&&(rl=null),vo=0,tl=!1,25<=g)throw Error(n(301));if(g+=1,Rt=at=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}k.H=Aj,y=s(c,d)}while(tl);return y}function TT(){var a=k.H,s=a.useState()[0];return s=typeof s.then=="function"?go(s):s,a=a.useState()[0],(at!==null?at.memoizedState:null)!==a&&(Le.flags|=1024),s}function Op(){var a=hu!==0;return hu=0,a}function zp(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function Mp(a){if(pu){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}pu=!1}da=0,Rt=at=Le=null,tl=!1,vo=hu=0,rl=null}function jr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Le.memoizedState=Rt=a:Rt=Rt.next=a,Rt}function Tt(){if(at===null){var a=Le.alternate;a=a!==null?a.memoizedState:null}else a=at.next;var s=Rt===null?Le.memoizedState:Rt.next;if(s!==null)Rt=s,at=a;else{if(a===null)throw Le.alternate===null?Error(n(467)):Error(n(310));at=a,a={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Rt===null?Le.memoizedState=Rt=a:Rt=Rt.next=a}return Rt}function vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function go(a){var s=vo;return vo+=1,rl===null&&(rl=[]),a=P0(rl,a,s),s=Le,(Rt===null?s.memoizedState:Rt.next)===null&&(s=s.alternate,k.H=s===null||s.memoizedState===null?wj:Hp),a}function gu(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return go(a);if(a.$$typeof===C)return lr(a)}throw Error(n(438,String(a)))}function Dp(a){var s=null,c=Le.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var d=Le.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=vu(),Le.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),d=0;d<a;d++)c[d]=Y;return s.index++,c}function fa(a,s){return typeof s=="function"?s(a):s}function yu(a){var s=Tt();return Tp(s,at,a)}function Tp(a,s,c){var d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=c;var g=a.baseQueue,y=d.pending;if(y!==null){if(g!==null){var w=g.next;g.next=y.next,y.next=w}s.baseQueue=g=y,d.pending=null}if(y=a.baseState,g===null)a.memoizedState=y;else{s=g.next;var M=w=null,P=null,Z=s,se=!1;do{var de=Z.lane&-536870913;if(de!==Z.lane?(Qe&de)===de:(da&de)===de){var ee=Z.revertLane;if(ee===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),de===Xs&&(se=!0);else if((da&ee)===ee){Z=Z.next,ee===Xs&&(se=!0);continue}else de={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},P===null?(M=P=de,w=y):P=P.next=de,Le.lanes|=ee,li|=ee;de=Z.action,Yi&&c(y,de),y=Z.hasEagerState?Z.eagerState:c(y,de)}else ee={lane:de,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},P===null?(M=P=ee,w=y):P=P.next=ee,Le.lanes|=de,li|=de;Z=Z.next}while(Z!==null&&Z!==s);if(P===null?w=y:P.next=M,!Br(y,a.memoizedState)&&(Lt=!0,se&&(c=Ws,c!==null)))throw c;a.memoizedState=y,a.baseState=w,a.baseQueue=P,d.lastRenderedState=y}return g===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Pp(a){var s=Tt(),c=s.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var d=c.dispatch,g=c.pending,y=s.memoizedState;if(g!==null){c.pending=null;var w=g=g.next;do y=a(y,w.action),w=w.next;while(w!==g);Br(y,s.memoizedState)||(Lt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),c.lastRenderedState=y}return[y,d]}function Q0(a,s,c){var d=Le,g=Tt(),y=Ve;if(y){if(c===void 0)throw Error(n(407));c=c()}else c=s();var w=!Br((at||g).memoizedState,c);if(w&&(g.memoizedState=c,Lt=!0),g=g.queue,Rp(Y0.bind(null,d,g,a),[a]),g.getSnapshot!==s||w||Rt!==null&&Rt.memoizedState.tag&1){if(d.flags|=2048,nl(9,{destroy:void 0},V0.bind(null,d,g,c,s),null),ut===null)throw Error(n(349));y||(da&127)!==0||F0(d,s,c)}return c}function F0(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=Le.updateQueue,s===null?(s=vu(),Le.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function V0(a,s,c,d){s.value=c,s.getSnapshot=d,K0(s)&&X0(a)}function Y0(a,s,c){return c(function(){K0(s)&&X0(a)})}function K0(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!Br(a,c)}catch{return!0}}function X0(a){var s=Ii(a,2);s!==null&&Pr(s,a,2)}function kp(a){var s=jr();if(typeof a=="function"){var c=a;if(a=c(),Yi){Ln(!0);try{c()}finally{Ln(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:a},s}function W0(a,s,c,d){return a.baseState=c,Tp(a,at,typeof d=="function"?d:fa)}function PT(a,s,c,d,g){if(ju(a))throw Error(n(485));if(a=s.action,a!==null){var y={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};k.T!==null?c(!0):y.isTransition=!1,d(y),c=s.pending,c===null?(y.next=s.pending=y,Z0(s,y)):(y.next=c.next,s.pending=c.next=y)}}function Z0(a,s){var c=s.action,d=s.payload,g=a.state;if(s.isTransition){var y=k.T,w={};k.T=w;try{var M=c(g,d),P=k.S;P!==null&&P(w,M),J0(a,s,M)}catch(Z){qp(a,s,Z)}finally{y!==null&&w.types!==null&&(y.types=w.types),k.T=y}}else try{y=c(g,d),J0(a,s,y)}catch(Z){qp(a,s,Z)}}function J0(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){ej(a,s,d)},function(d){return qp(a,s,d)}):ej(a,s,c)}function ej(a,s,c){s.status="fulfilled",s.value=c,tj(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,Z0(a,c)))}function qp(a,s,c){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=c,tj(s),s=s.next;while(s!==d)}a.action=null}function tj(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function rj(a,s){return s}function nj(a,s){if(Ve){var c=ut.formState;if(c!==null){e:{var d=Le;if(Ve){if(ht){t:{for(var g=ht,y=on;g.nodeType!==8;){if(!y){g=null;break t}if(g=un(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){ht=un(g.nextSibling),d=g.data==="F!";break e}}Za(d)}d=!1}d&&(s=c[0])}}return c=jr(),c.memoizedState=c.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rj,lastRenderedState:s},c.queue=d,c=Nj.bind(null,Le,d),d.dispatch=c,d=kp(!1),y=Up.bind(null,Le,!1,d.queue),d=jr(),g={state:s,dispatch:null,action:a,pending:null},d.queue=g,c=PT.bind(null,Le,g,y,c),g.dispatch=c,d.memoizedState=a,[s,c,!1]}function aj(a){var s=Tt();return ij(s,at,a)}function ij(a,s,c){if(s=Tp(a,s,rj)[0],a=yu(fa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=go(s)}catch(w){throw w===Zs?ou:w}else d=s;s=Tt();var g=s.queue,y=g.dispatch;return c!==s.memoizedState&&(Le.flags|=2048,nl(9,{destroy:void 0},kT.bind(null,g,c),null)),[d,y,a]}function kT(a,s){a.action=s}function sj(a){var s=Tt(),c=at;if(c!==null)return ij(s,c,a);Tt(),s=s.memoizedState,c=Tt();var d=c.queue.dispatch;return c.memoizedState=a,[s,d,!1]}function nl(a,s,c,d){return a={tag:a,create:c,deps:d,inst:s,next:null},s=Le.updateQueue,s===null&&(s=vu(),Le.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,s.lastEffect=a),a}function lj(){return Tt().memoizedState}function xu(a,s,c,d){var g=jr();Le.flags|=a,g.memoizedState=nl(1|s,{destroy:void 0},c,d===void 0?null:d)}function bu(a,s,c,d){var g=Tt();d=d===void 0?null:d;var y=g.memoizedState.inst;at!==null&&d!==null&&Cp(d,at.memoizedState.deps)?g.memoizedState=nl(s,y,c,d):(Le.flags|=a,g.memoizedState=nl(1|s,y,c,d))}function oj(a,s){xu(8390656,8,a,s)}function Rp(a,s){bu(2048,8,a,s)}function qT(a){Le.flags|=4;var s=Le.updateQueue;if(s===null)s=vu(),Le.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function cj(a){var s=Tt().memoizedState;return qT({ref:s,nextImpl:a}),function(){if((Je&2)!==0)throw Error(n(440));return s.impl.apply(void 0,arguments)}}function uj(a,s){return bu(4,2,a,s)}function dj(a,s){return bu(4,4,a,s)}function fj(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function mj(a,s,c){c=c!=null?c.concat([a]):null,bu(4,4,fj.bind(null,s,a),c)}function Lp(){}function pj(a,s){var c=Tt();s=s===void 0?null:s;var d=c.memoizedState;return s!==null&&Cp(s,d[1])?d[0]:(c.memoizedState=[a,s],a)}function hj(a,s){var c=Tt();s=s===void 0?null:s;var d=c.memoizedState;if(s!==null&&Cp(s,d[1]))return d[0];if(d=a(),Yi){Ln(!0);try{a()}finally{Ln(!1)}}return c.memoizedState=[d,s],d}function Ip(a,s,c){return c===void 0||(da&1073741824)!==0&&(Qe&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=vN(),Le.lanes|=a,li|=a,c)}function vj(a,s,c,d){return Br(c,s)?c:el.current!==null?(a=Ip(a,c,d),Br(a,s)||(Lt=!0),a):(da&42)===0||(da&1073741824)!==0&&(Qe&261930)===0?(Lt=!0,a.memoizedState=c):(a=vN(),Le.lanes|=a,li|=a,s)}function gj(a,s,c,d,g){var y=J.p;J.p=y!==0&&8>y?y:8;var w=k.T,M={};k.T=M,Up(a,!1,s,c);try{var P=g(),Z=k.S;if(Z!==null&&Z(M,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var se=MT(P,d);yo(a,s,se,Fr(a))}else yo(a,s,d,Fr(a))}catch(de){yo(a,s,{then:function(){},status:"rejected",reason:de},Fr())}finally{J.p=y,w!==null&&M.types!==null&&(w.types=M.types),k.T=w}}function RT(){}function Bp(a,s,c,d){if(a.tag!==5)throw Error(n(476));var g=yj(a).queue;gj(a,g,s,G,c===null?RT:function(){return xj(a),c(d)})}function yj(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:G},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function xj(a){var s=yj(a);s.next===null&&(s=a.alternate.memoizedState),yo(a,s.next.queue,{},Fr())}function $p(){return lr(ko)}function bj(){return Tt().memoizedState}function jj(){return Tt().memoizedState}function LT(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=Fr();a=ti(c);var d=ri(s,a,c);d!==null&&(Pr(d,s,c),mo(d,s,c)),s={cache:vp()},a.payload=s;return}s=s.return}}function IT(a,s,c){var d=Fr();c={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ju(a)?_j(s,c):(c=ip(a,s,c,d),c!==null&&(Pr(c,a,d),Sj(c,s,d)))}function Nj(a,s,c){var d=Fr();yo(a,s,c,d)}function yo(a,s,c,d){var g={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(ju(a))_j(s,g);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,M=y(w,c);if(g.hasEagerState=!0,g.eagerState=M,Br(M,w))return tu(a,s,g,0),ut===null&&eu(),!1}catch{}if(c=ip(a,s,g,d),c!==null)return Pr(c,a,d),Sj(c,s,d),!0}return!1}function Up(a,s,c,d){if(d={lane:2,revertLane:bh(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},ju(a)){if(s)throw Error(n(479))}else s=ip(a,c,d,2),s!==null&&Pr(s,a,2)}function ju(a){var s=a.alternate;return a===Le||s!==null&&s===Le}function _j(a,s){tl=pu=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function Sj(a,s,c){if((c&4194048)!==0){var d=s.lanes;d&=a.pendingLanes,c|=d,s.lanes=c,Ob(a,c)}}var xo={readContext:lr,use:gu,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};xo.useEffectEvent=wt;var wj={readContext:lr,use:gu,useCallback:function(a,s){return jr().memoizedState=[a,s===void 0?null:s],a},useContext:lr,useEffect:oj,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,xu(4194308,4,fj.bind(null,s,a),c)},useLayoutEffect:function(a,s){return xu(4194308,4,a,s)},useInsertionEffect:function(a,s){xu(4,2,a,s)},useMemo:function(a,s){var c=jr();s=s===void 0?null:s;var d=a();if(Yi){Ln(!0);try{a()}finally{Ln(!1)}}return c.memoizedState=[d,s],d},useReducer:function(a,s,c){var d=jr();if(c!==void 0){var g=c(s);if(Yi){Ln(!0);try{c(s)}finally{Ln(!1)}}}else g=s;return d.memoizedState=d.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},d.queue=a,a=a.dispatch=IT.bind(null,Le,a),[d.memoizedState,a]},useRef:function(a){var s=jr();return a={current:a},s.memoizedState=a},useState:function(a){a=kp(a);var s=a.queue,c=Nj.bind(null,Le,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:Lp,useDeferredValue:function(a,s){var c=jr();return Ip(c,a,s)},useTransition:function(){var a=kp(!1);return a=gj.bind(null,Le,a.queue,!0,!1),jr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var d=Le,g=jr();if(Ve){if(c===void 0)throw Error(n(407));c=c()}else{if(c=s(),ut===null)throw Error(n(349));(Qe&127)!==0||F0(d,s,c)}g.memoizedState=c;var y={value:c,getSnapshot:s};return g.queue=y,oj(Y0.bind(null,d,y,a),[a]),d.flags|=2048,nl(9,{destroy:void 0},V0.bind(null,d,y,c,s),null),c},useId:function(){var a=jr(),s=ut.identifierPrefix;if(Ve){var c=$n,d=Bn;c=(d&~(1<<32-br(d)-1)).toString(32)+c,s="_"+s+"R_"+c,c=hu++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=DT++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:$p,useFormState:nj,useActionState:nj,useOptimistic:function(a){var s=jr();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Up.bind(null,Le,!0,c),c.dispatch=s,[a,s]},useMemoCache:Dp,useCacheRefresh:function(){return jr().memoizedState=LT.bind(null,Le)},useEffectEvent:function(a){var s=jr(),c={impl:a};return s.memoizedState=c,function(){if((Je&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},Hp={readContext:lr,use:gu,useCallback:pj,useContext:lr,useEffect:Rp,useImperativeHandle:mj,useInsertionEffect:uj,useLayoutEffect:dj,useMemo:hj,useReducer:yu,useRef:lj,useState:function(){return yu(fa)},useDebugValue:Lp,useDeferredValue:function(a,s){var c=Tt();return vj(c,at.memoizedState,a,s)},useTransition:function(){var a=yu(fa)[0],s=Tt().memoizedState;return[typeof a=="boolean"?a:go(a),s]},useSyncExternalStore:Q0,useId:bj,useHostTransitionStatus:$p,useFormState:aj,useActionState:aj,useOptimistic:function(a,s){var c=Tt();return W0(c,at,a,s)},useMemoCache:Dp,useCacheRefresh:jj};Hp.useEffectEvent=cj;var Aj={readContext:lr,use:gu,useCallback:pj,useContext:lr,useEffect:Rp,useImperativeHandle:mj,useInsertionEffect:uj,useLayoutEffect:dj,useMemo:hj,useReducer:Pp,useRef:lj,useState:function(){return Pp(fa)},useDebugValue:Lp,useDeferredValue:function(a,s){var c=Tt();return at===null?Ip(c,a,s):vj(c,at.memoizedState,a,s)},useTransition:function(){var a=Pp(fa)[0],s=Tt().memoizedState;return[typeof a=="boolean"?a:go(a),s]},useSyncExternalStore:Q0,useId:bj,useHostTransitionStatus:$p,useFormState:sj,useActionState:sj,useOptimistic:function(a,s){var c=Tt();return at!==null?W0(c,at,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Dp,useCacheRefresh:jj};Aj.useEffectEvent=cj;function Gp(a,s,c,d){s=a.memoizedState,c=c(d,s),c=c==null?s:v({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Qp={enqueueSetState:function(a,s,c){a=a._reactInternals;var d=Fr(),g=ti(d);g.payload=s,c!=null&&(g.callback=c),s=ri(a,g,d),s!==null&&(Pr(s,a,d),mo(s,a,d))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var d=Fr(),g=ti(d);g.tag=1,g.payload=s,c!=null&&(g.callback=c),s=ri(a,g,d),s!==null&&(Pr(s,a,d),mo(s,a,d))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=Fr(),d=ti(c);d.tag=2,s!=null&&(d.callback=s),s=ri(a,d,c),s!==null&&(Pr(s,a,c),mo(s,a,c))}};function Cj(a,s,c,d,g,y,w){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,y,w):s.prototype&&s.prototype.isPureReactComponent?!ao(c,d)||!ao(g,y):!0}function Ej(a,s,c,d){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==a&&Qp.enqueueReplaceState(s,s.state,null)}function Ki(a,s){var c=s;if("ref"in s){c={};for(var d in s)d!=="ref"&&(c[d]=s[d])}if(a=a.defaultProps){c===s&&(c=v({},c));for(var g in a)c[g]===void 0&&(c[g]=a[g])}return c}function Oj(a){Jc(a)}function zj(a){console.error(a)}function Mj(a){Jc(a)}function Nu(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function Dj(a,s,c){try{var d=a.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Fp(a,s,c){return c=ti(c),c.tag=3,c.payload={element:null},c.callback=function(){Nu(a,s)},c}function Tj(a){return a=ti(a),a.tag=3,a}function Pj(a,s,c,d){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var y=d.value;a.payload=function(){return g(y)},a.callback=function(){Dj(s,c,d)}}var w=c.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(a.callback=function(){Dj(s,c,d),typeof g!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var M=d.stack;this.componentDidCatch(d.value,{componentStack:M!==null?M:""})})}function BT(a,s,c,d,g){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=c.alternate,s!==null&&Ks(s,c,g,!0),c=Ur.current,c!==null){switch(c.tag){case 31:case 13:return cn===null?Pu():c.alternate===null&&At===0&&(At=3),c.flags&=-257,c.flags|=65536,c.lanes=g,d===cu?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([d]):s.add(d),gh(a,d,g)),!1;case 22:return c.flags|=65536,d===cu?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([d]):c.add(d)),gh(a,d,g)),!1}throw Error(n(435,c.tag))}return gh(a,d,g),Pu(),!1}if(Ve)return s=Ur.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,d!==dp&&(a=Error(n(422),{cause:d}),lo(an(a,c)))):(d!==dp&&(s=Error(n(423),{cause:d}),lo(an(s,c))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,d=an(d,c),g=Fp(a.stateNode,d,g),Np(a,g),At!==4&&(At=2)),!1;var y=Error(n(520),{cause:d});if(y=an(y,c),Co===null?Co=[y]:Co.push(y),At!==4&&(At=2),s===null)return!0;d=an(d,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=g&-g,c.lanes|=a,a=Fp(c.stateNode,d,a),Np(c,a),!1;case 1:if(s=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(oi===null||!oi.has(y))))return c.flags|=65536,g&=-g,c.lanes|=g,g=Tj(g),Pj(g,a,c,d),Np(c,g),!1}c=c.return}while(c!==null);return!1}var Vp=Error(n(461)),Lt=!1;function or(a,s,c,d){s.child=a===null?L0(s,null,c,d):Vi(s,a.child,c,d)}function kj(a,s,c,d,g){c=c.render;var y=s.ref;if("ref"in d){var w={};for(var M in d)M!=="ref"&&(w[M]=d[M])}else w=d;return Hi(s),d=Ep(a,s,c,w,y,g),M=Op(),a!==null&&!Lt?(zp(a,s,g),ma(a,s,g)):(Ve&&M&&cp(s),s.flags|=1,or(a,s,d,g),s.child)}function qj(a,s,c,d,g){if(a===null){var y=c.type;return typeof y=="function"&&!sp(y)&&y.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=y,Rj(a,s,y,d,g)):(a=nu(c.type,null,d,s,s.mode,g),a.ref=s.ref,a.return=s,s.child=a)}if(y=a.child,!th(a,g)){var w=y.memoizedProps;if(c=c.compare,c=c!==null?c:ao,c(w,d)&&a.ref===s.ref)return ma(a,s,g)}return s.flags|=1,a=la(y,d),a.ref=s.ref,a.return=s,s.child=a}function Rj(a,s,c,d,g){if(a!==null){var y=a.memoizedProps;if(ao(y,d)&&a.ref===s.ref)if(Lt=!1,s.pendingProps=d=y,th(a,g))(a.flags&131072)!==0&&(Lt=!0);else return s.lanes=a.lanes,ma(a,s,g)}return Yp(a,s,c,d,g)}function Lj(a,s,c,d){var g=d.children,y=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,a!==null){for(d=s.child=a.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;d=g&~y}else d=0,s.child=null;return Ij(a,s,y,c,d)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&lu(s,y!==null?y.cachePool:null),y!==null?$0(s,y):Sp(),U0(s);else return d=s.lanes=536870912,Ij(a,s,y!==null?y.baseLanes|c:c,c,d)}else y!==null?(lu(s,y.cachePool),$0(s,y),ai(),s.memoizedState=null):(a!==null&&lu(s,null),Sp(),ai());return or(a,s,g,c),s.child}function bo(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Ij(a,s,c,d,g){var y=yp();return y=y===null?null:{parent:qt._currentValue,pool:y},s.memoizedState={baseLanes:c,cachePool:y},a!==null&&lu(s,null),Sp(),U0(s),a!==null&&Ks(a,s,d,!0),s.childLanes=g,null}function _u(a,s){return s=wu({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function Bj(a,s,c){return Vi(s,a.child,null,c),a=_u(s,s.pendingProps),a.flags|=2,Hr(s),s.memoizedState=null,a}function $T(a,s,c){var d=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Ve){if(d.mode==="hidden")return a=_u(s,d),s.lanes=536870912,bo(null,a);if(Ap(s),(a=ht)?(a=ZN(a,on),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Xa!==null?{id:Bn,overflow:$n}:null,retryLane:536870912,hydrationErrors:null},c=_0(a),c.return=s,s.child=c,sr=s,ht=null)):a=null,a===null)throw Za(s);return s.lanes=536870912,null}return _u(s,d)}var y=a.memoizedState;if(y!==null){var w=y.dehydrated;if(Ap(s),g)if(s.flags&256)s.flags&=-257,s=Bj(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(n(558));else if(Lt||Ks(a,s,c,!1),g=(c&a.childLanes)!==0,Lt||g){if(d=ut,d!==null&&(w=zb(d,c),w!==0&&w!==y.retryLane))throw y.retryLane=w,Ii(a,w),Pr(d,a,w),Vp;Pu(),s=Bj(a,s,c)}else a=y.treeContext,ht=un(w.nextSibling),sr=s,Ve=!0,Wa=null,on=!1,a!==null&&A0(s,a),s=_u(s,d),s.flags|=4096;return s}return a=la(a.child,{mode:d.mode,children:d.children}),a.ref=s.ref,s.child=a,a.return=s,a}function Su(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function Yp(a,s,c,d,g){return Hi(s),c=Ep(a,s,c,d,void 0,g),d=Op(),a!==null&&!Lt?(zp(a,s,g),ma(a,s,g)):(Ve&&d&&cp(s),s.flags|=1,or(a,s,c,g),s.child)}function $j(a,s,c,d,g,y){return Hi(s),s.updateQueue=null,c=G0(s,d,c,g),H0(a),d=Op(),a!==null&&!Lt?(zp(a,s,y),ma(a,s,y)):(Ve&&d&&cp(s),s.flags|=1,or(a,s,c,y),s.child)}function Uj(a,s,c,d,g){if(Hi(s),s.stateNode===null){var y=Qs,w=c.contextType;typeof w=="object"&&w!==null&&(y=lr(w)),y=new c(d,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Qp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=d,y.state=s.memoizedState,y.refs={},bp(s),w=c.contextType,y.context=typeof w=="object"&&w!==null?lr(w):Qs,y.state=s.memoizedState,w=c.getDerivedStateFromProps,typeof w=="function"&&(Gp(s,c,w,d),y.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&Qp.enqueueReplaceState(y,y.state,null),ho(s,d,y,g),po(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(a===null){y=s.stateNode;var M=s.memoizedProps,P=Ki(c,M);y.props=P;var Z=y.context,se=c.contextType;w=Qs,typeof se=="object"&&se!==null&&(w=lr(se));var de=c.getDerivedStateFromProps;se=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=s.pendingProps!==M,se||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||Z!==w)&&Ej(s,y,d,w),ei=!1;var ee=s.memoizedState;y.state=ee,ho(s,d,y,g),po(),Z=s.memoizedState,M||ee!==Z||ei?(typeof de=="function"&&(Gp(s,c,de,d),Z=s.memoizedState),(P=ei||Cj(s,c,P,d,ee,Z,w))?(se||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=Z),y.props=d,y.state=Z,y.context=w,d=P):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{y=s.stateNode,jp(a,s),w=s.memoizedProps,se=Ki(c,w),y.props=se,de=s.pendingProps,ee=y.context,Z=c.contextType,P=Qs,typeof Z=="object"&&Z!==null&&(P=lr(Z)),M=c.getDerivedStateFromProps,(Z=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==de||ee!==P)&&Ej(s,y,d,P),ei=!1,ee=s.memoizedState,y.state=ee,ho(s,d,y,g),po();var ae=s.memoizedState;w!==de||ee!==ae||ei||a!==null&&a.dependencies!==null&&iu(a.dependencies)?(typeof M=="function"&&(Gp(s,c,M,d),ae=s.memoizedState),(se=ei||Cj(s,c,se,d,ee,ae,P)||a!==null&&a.dependencies!==null&&iu(a.dependencies))?(Z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,ae,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,ae,P)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===a.memoizedProps&&ee===a.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===a.memoizedProps&&ee===a.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ae),y.props=d,y.state=ae,y.context=P,d=se):(typeof y.componentDidUpdate!="function"||w===a.memoizedProps&&ee===a.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===a.memoizedProps&&ee===a.memoizedState||(s.flags|=1024),d=!1)}return y=d,Su(a,s),d=(s.flags&128)!==0,y||d?(y=s.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,a!==null&&d?(s.child=Vi(s,a.child,null,g),s.child=Vi(s,null,c,g)):or(a,s,c,g),s.memoizedState=y.state,a=s.child):a=ma(a,s,g),a}function Hj(a,s,c,d){return $i(),s.flags|=256,or(a,s,c,d),s.child}var Kp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xp(a){return{baseLanes:a,cachePool:D0()}}function Wp(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Qr),a}function Gj(a,s,c){var d=s.pendingProps,g=!1,y=(s.flags&128)!==0,w;if((w=y)||(w=a!==null&&a.memoizedState===null?!1:(Dt.current&2)!==0),w&&(g=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,a===null){if(Ve){if(g?ni(s):ai(),(a=ht)?(a=ZN(a,on),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Xa!==null?{id:Bn,overflow:$n}:null,retryLane:536870912,hydrationErrors:null},c=_0(a),c.return=s,s.child=c,sr=s,ht=null)):a=null,a===null)throw Za(s);return Th(a)?s.lanes=32:s.lanes=536870912,null}var M=d.children;return d=d.fallback,g?(ai(),g=s.mode,M=wu({mode:"hidden",children:M},g),d=Bi(d,g,c,null),M.return=s,d.return=s,M.sibling=d,s.child=M,d=s.child,d.memoizedState=Xp(c),d.childLanes=Wp(a,w,c),s.memoizedState=Kp,bo(null,d)):(ni(s),Zp(s,M))}var P=a.memoizedState;if(P!==null&&(M=P.dehydrated,M!==null)){if(y)s.flags&256?(ni(s),s.flags&=-257,s=Jp(a,s,c)):s.memoizedState!==null?(ai(),s.child=a.child,s.flags|=128,s=null):(ai(),M=d.fallback,g=s.mode,d=wu({mode:"visible",children:d.children},g),M=Bi(M,g,c,null),M.flags|=2,d.return=s,M.return=s,d.sibling=M,s.child=d,Vi(s,a.child,null,c),d=s.child,d.memoizedState=Xp(c),d.childLanes=Wp(a,w,c),s.memoizedState=Kp,s=bo(null,d));else if(ni(s),Th(M)){if(w=M.nextSibling&&M.nextSibling.dataset,w)var Z=w.dgst;w=Z,d=Error(n(419)),d.stack="",d.digest=w,lo({value:d,source:null,stack:null}),s=Jp(a,s,c)}else if(Lt||Ks(a,s,c,!1),w=(c&a.childLanes)!==0,Lt||w){if(w=ut,w!==null&&(d=zb(w,c),d!==0&&d!==P.retryLane))throw P.retryLane=d,Ii(a,d),Pr(w,a,d),Vp;Dh(M)||Pu(),s=Jp(a,s,c)}else Dh(M)?(s.flags|=192,s.child=a.child,s=null):(a=P.treeContext,ht=un(M.nextSibling),sr=s,Ve=!0,Wa=null,on=!1,a!==null&&A0(s,a),s=Zp(s,d.children),s.flags|=4096);return s}return g?(ai(),M=d.fallback,g=s.mode,P=a.child,Z=P.sibling,d=la(P,{mode:"hidden",children:d.children}),d.subtreeFlags=P.subtreeFlags&65011712,Z!==null?M=la(Z,M):(M=Bi(M,g,c,null),M.flags|=2),M.return=s,d.return=s,d.sibling=M,s.child=d,bo(null,d),d=s.child,M=a.child.memoizedState,M===null?M=Xp(c):(g=M.cachePool,g!==null?(P=qt._currentValue,g=g.parent!==P?{parent:P,pool:P}:g):g=D0(),M={baseLanes:M.baseLanes|c,cachePool:g}),d.memoizedState=M,d.childLanes=Wp(a,w,c),s.memoizedState=Kp,bo(a.child,d)):(ni(s),c=a.child,a=c.sibling,c=la(c,{mode:"visible",children:d.children}),c.return=s,c.sibling=null,a!==null&&(w=s.deletions,w===null?(s.deletions=[a],s.flags|=16):w.push(a)),s.child=c,s.memoizedState=null,c)}function Zp(a,s){return s=wu({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function wu(a,s){return a=$r(22,a,null,s),a.lanes=0,a}function Jp(a,s,c){return Vi(s,a.child,null,c),a=Zp(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function Qj(a,s,c){a.lanes|=s;var d=a.alternate;d!==null&&(d.lanes|=s),pp(a.return,s,c)}function eh(a,s,c,d,g,y){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:g,treeForkCount:y}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=d,w.tail=c,w.tailMode=g,w.treeForkCount=y)}function Fj(a,s,c){var d=s.pendingProps,g=d.revealOrder,y=d.tail;d=d.children;var w=Dt.current,M=(w&2)!==0;if(M?(w=w&1|2,s.flags|=128):w&=1,pe(Dt,w),or(a,s,d,c),d=Ve?so:0,!M&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Qj(a,c,s);else if(a.tag===19)Qj(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(g){case"forwards":for(c=s.child,g=null;c!==null;)a=c.alternate,a!==null&&mu(a)===null&&(g=c),c=c.sibling;c=g,c===null?(g=s.child,s.child=null):(g=c.sibling,c.sibling=null),eh(s,!1,g,c,y,d);break;case"backwards":case"unstable_legacy-backwards":for(c=null,g=s.child,s.child=null;g!==null;){if(a=g.alternate,a!==null&&mu(a)===null){s.child=g;break}a=g.sibling,g.sibling=c,c=g,g=a}eh(s,!0,c,null,y,d);break;case"together":eh(s,!1,null,null,void 0,d);break;default:s.memoizedState=null}return s.child}function ma(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),li|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(Ks(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(n(153));if(s.child!==null){for(a=s.child,c=la(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=la(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function th(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&iu(a)))}function UT(a,s,c){switch(s.tag){case 3:we(s,s.stateNode.containerInfo),Ja(s,qt,a.memoizedState.cache),$i();break;case 27:case 5:Q(s);break;case 4:we(s,s.stateNode.containerInfo);break;case 10:Ja(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ap(s),null;break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(ni(s),s.flags|=128,null):(c&s.child.childLanes)!==0?Gj(a,s,c):(ni(s),a=ma(a,s,c),a!==null?a.sibling:null);ni(s);break;case 19:var g=(a.flags&128)!==0;if(d=(c&s.childLanes)!==0,d||(Ks(a,s,c,!1),d=(c&s.childLanes)!==0),g){if(d)return Fj(a,s,c);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),pe(Dt,Dt.current),d)break;return null;case 22:return s.lanes=0,Lj(a,s,c,s.pendingProps);case 24:Ja(s,qt,a.memoizedState.cache)}return ma(a,s,c)}function Vj(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)Lt=!0;else{if(!th(a,c)&&(s.flags&128)===0)return Lt=!1,UT(a,s,c);Lt=(a.flags&131072)!==0}else Lt=!1,Ve&&(s.flags&1048576)!==0&&w0(s,so,s.index);switch(s.lanes=0,s.tag){case 16:e:{var d=s.pendingProps;if(a=Qi(s.elementType),s.type=a,typeof a=="function")sp(a)?(d=Ki(a,d),s.tag=1,s=Uj(null,s,a,d,c)):(s.tag=0,s=Yp(null,s,a,d,c));else{if(a!=null){var g=a.$$typeof;if(g===E){s.tag=11,s=kj(null,s,a,d,c);break e}else if(g===L){s.tag=14,s=qj(null,s,a,d,c);break e}}throw s=ue(a)||a,Error(n(306,s,""))}}return s;case 0:return Yp(a,s,s.type,s.pendingProps,c);case 1:return d=s.type,g=Ki(d,s.pendingProps),Uj(a,s,d,g,c);case 3:e:{if(we(s,s.stateNode.containerInfo),a===null)throw Error(n(387));d=s.pendingProps;var y=s.memoizedState;g=y.element,jp(a,s),ho(s,d,null,c);var w=s.memoizedState;if(d=w.cache,Ja(s,qt,d),d!==y.cache&&hp(s,[qt],c,!0),po(),d=w.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Hj(a,s,d,c);break e}else if(d!==g){g=an(Error(n(424)),s),lo(g),s=Hj(a,s,d,c);break e}else for(a=s.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,ht=un(a.firstChild),sr=s,Ve=!0,Wa=null,on=!0,c=L0(s,null,d,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if($i(),d===g){s=ma(a,s,c);break e}or(a,s,d,c)}s=s.child}return s;case 26:return Su(a,s),a===null?(c=a_(s.type,null,s.pendingProps,null))?s.memoizedState=c:Ve||(c=s.type,a=s.pendingProps,d=$u(U.current).createElement(c),d[ir]=s,d[Er]=a,cr(d,c,a),Kt(d),s.stateNode=d):s.memoizedState=a_(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Q(s),a===null&&Ve&&(d=s.stateNode=t_(s.type,s.pendingProps,U.current),sr=s,on=!0,g=ht,fi(s.type)?(Ph=g,ht=un(d.firstChild)):ht=g),or(a,s,s.pendingProps.children,c),Su(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Ve&&((g=d=ht)&&(d=yP(d,s.type,s.pendingProps,on),d!==null?(s.stateNode=d,sr=s,ht=un(d.firstChild),on=!1,g=!0):g=!1),g||Za(s)),Q(s),g=s.type,y=s.pendingProps,w=a!==null?a.memoizedProps:null,d=y.children,Oh(g,y)?d=null:w!==null&&Oh(g,w)&&(s.flags|=32),s.memoizedState!==null&&(g=Ep(a,s,TT,null,null,c),ko._currentValue=g),Su(a,s),or(a,s,d,c),s.child;case 6:return a===null&&Ve&&((a=c=ht)&&(c=xP(c,s.pendingProps,on),c!==null?(s.stateNode=c,sr=s,ht=null,a=!0):a=!1),a||Za(s)),null;case 13:return Gj(a,s,c);case 4:return we(s,s.stateNode.containerInfo),d=s.pendingProps,a===null?s.child=Vi(s,null,d,c):or(a,s,d,c),s.child;case 11:return kj(a,s,s.type,s.pendingProps,c);case 7:return or(a,s,s.pendingProps,c),s.child;case 8:return or(a,s,s.pendingProps.children,c),s.child;case 12:return or(a,s,s.pendingProps.children,c),s.child;case 10:return d=s.pendingProps,Ja(s,s.type,d.value),or(a,s,d.children,c),s.child;case 9:return g=s.type._context,d=s.pendingProps.children,Hi(s),g=lr(g),d=d(g),s.flags|=1,or(a,s,d,c),s.child;case 14:return qj(a,s,s.type,s.pendingProps,c);case 15:return Rj(a,s,s.type,s.pendingProps,c);case 19:return Fj(a,s,c);case 31:return $T(a,s,c);case 22:return Lj(a,s,c,s.pendingProps);case 24:return Hi(s),d=lr(qt),a===null?(g=yp(),g===null&&(g=ut,y=vp(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=c),g=y),s.memoizedState={parent:d,cache:g},bp(s),Ja(s,qt,g)):((a.lanes&c)!==0&&(jp(a,s),ho(s,null,null,c),po()),g=a.memoizedState,y=s.memoizedState,g.parent!==d?(g={parent:d,cache:d},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Ja(s,qt,d)):(d=y.cache,Ja(s,qt,d),d!==g.cache&&hp(s,[qt],c,!0))),or(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function pa(a){a.flags|=4}function rh(a,s,c,d,g){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(g&335544128)===g)if(a.stateNode.complete)a.flags|=8192;else if(bN())a.flags|=8192;else throw Fi=cu,xp}else a.flags&=-16777217}function Yj(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!c_(s))if(bN())a.flags|=8192;else throw Fi=cu,xp}function Au(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Ee():536870912,a.lanes|=s,ll|=s)}function jo(a,s){if(!Ve)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function vt(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,d=0;if(s)for(var g=a.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=d,a.childLanes=c,s}function HT(a,s,c){var d=s.pendingProps;switch(up(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(s),null;case 1:return vt(s),null;case 3:return c=s.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),ua(qt),re(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Ys(s)?pa(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,fp())),vt(s),null;case 26:var g=s.type,y=s.memoizedState;return a===null?(pa(s),y!==null?(vt(s),Yj(s,y)):(vt(s),rh(s,g,null,d,c))):y?y!==a.memoizedState?(pa(s),vt(s),Yj(s,y)):(vt(s),s.flags&=-16777217):(a=a.memoizedProps,a!==d&&pa(s),vt(s),rh(s,g,a,d,c)),null;case 27:if(R(s),c=U.current,g=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&pa(s);else{if(!d){if(s.stateNode===null)throw Error(n(166));return vt(s),null}a=ye.current,Ys(s)?C0(s):(a=t_(g,d,c),s.stateNode=a,pa(s))}return vt(s),null;case 5:if(R(s),g=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&pa(s);else{if(!d){if(s.stateNode===null)throw Error(n(166));return vt(s),null}if(y=ye.current,Ys(s))C0(s);else{var w=$u(U.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof d.is=="string"?w.createElement("select",{is:d.is}):w.createElement("select"),d.multiple?y.multiple=!0:d.size&&(y.size=d.size);break;default:y=typeof d.is=="string"?w.createElement(g,{is:d.is}):w.createElement(g)}}y[ir]=s,y[Er]=d;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=y;e:switch(cr(y,g,d),g){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&pa(s)}}return vt(s),rh(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==d&&pa(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(a=U.current,Ys(s)){if(a=s.stateNode,c=s.memoizedProps,d=null,g=sr,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}a[ir]=s,a=!!(a.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||GN(a.nodeValue,c)),a||Za(s,!0)}else a=$u(a).createTextNode(d),a[ir]=s,s.stateNode=a}return vt(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(d=Ys(s),c!==null){if(a===null){if(!d)throw Error(n(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[ir]=s}else $i(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vt(s),a=!1}else c=fp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(Hr(s),s):(Hr(s),null);if((s.flags&128)!==0)throw Error(n(558))}return vt(s),null;case 13:if(d=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=Ys(s),d!==null&&d.dehydrated!==null){if(a===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[ir]=s}else $i(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vt(s),g=!1}else g=fp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Hr(s),s):(Hr(s),null)}return Hr(s),(s.flags&128)!==0?(s.lanes=c,s):(c=d!==null,a=a!==null&&a.memoizedState!==null,c&&(d=s.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==g&&(d.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),Au(s,s.updateQueue),vt(s),null);case 4:return re(),a===null&&Sh(s.stateNode.containerInfo),vt(s),null;case 10:return ua(s.type),vt(s),null;case 19:if(xe(Dt),d=s.memoizedState,d===null)return vt(s),null;if(g=(s.flags&128)!==0,y=d.rendering,y===null)if(g)jo(d,!1);else{if(At!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(y=mu(a),y!==null){for(s.flags|=128,jo(d,!1),a=y.updateQueue,s.updateQueue=a,Au(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)N0(c,a),c=c.sibling;return pe(Dt,Dt.current&1|2),Ve&&oa(s,d.treeForkCount),s.child}a=a.sibling}d.tail!==null&&ze()>Mu&&(s.flags|=128,g=!0,jo(d,!1),s.lanes=4194304)}else{if(!g)if(a=mu(y),a!==null){if(s.flags|=128,g=!0,a=a.updateQueue,s.updateQueue=a,Au(s,a),jo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Ve)return vt(s),null}else 2*ze()-d.renderingStartTime>Mu&&c!==536870912&&(s.flags|=128,g=!0,jo(d,!1),s.lanes=4194304);d.isBackwards?(y.sibling=s.child,s.child=y):(a=d.last,a!==null?a.sibling=y:s.child=y,d.last=y)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=ze(),a.sibling=null,c=Dt.current,pe(Dt,g?c&1|2:c&1),Ve&&oa(s,d.treeForkCount),a):(vt(s),null);case 22:case 23:return Hr(s),wp(),d=s.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(c&536870912)!==0&&(s.flags&128)===0&&(vt(s),s.subtreeFlags&6&&(s.flags|=8192)):vt(s),c=s.updateQueue,c!==null&&Au(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==c&&(s.flags|=2048),a!==null&&xe(Gi),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ua(qt),vt(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function GT(a,s){switch(up(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return ua(qt),re(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return R(s),null;case 31:if(s.memoizedState!==null){if(Hr(s),s.alternate===null)throw Error(n(340));$i()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Hr(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(n(340));$i()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return xe(Dt),null;case 4:return re(),null;case 10:return ua(s.type),null;case 22:case 23:return Hr(s),wp(),a!==null&&xe(Gi),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return ua(qt),null;case 25:return null;default:return null}}function Kj(a,s){switch(up(s),s.tag){case 3:ua(qt),re();break;case 26:case 27:case 5:R(s);break;case 4:re();break;case 31:s.memoizedState!==null&&Hr(s);break;case 13:Hr(s);break;case 19:xe(Dt);break;case 10:ua(s.type);break;case 22:case 23:Hr(s),wp(),a!==null&&xe(Gi);break;case 24:ua(qt)}}function No(a,s){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&a)===a){d=void 0;var y=c.create,w=c.inst;d=y(),w.destroy=d}c=c.next}while(c!==g)}}catch(M){tt(s,s.return,M)}}function ii(a,s,c){try{var d=s.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var y=g.next;d=y;do{if((d.tag&a)===a){var w=d.inst,M=w.destroy;if(M!==void 0){w.destroy=void 0,g=s;var P=c,Z=M;try{Z()}catch(se){tt(g,P,se)}}}d=d.next}while(d!==y)}}catch(se){tt(s,s.return,se)}}function Xj(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{B0(s,c)}catch(d){tt(a,a.return,d)}}}function Wj(a,s,c){c.props=Ki(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(d){tt(a,s,d)}}function _o(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof c=="function"?a.refCleanup=c(d):c.current=d}}catch(g){tt(a,s,g)}}function Un(a,s){var c=a.ref,d=a.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(g){tt(a,s,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){tt(a,s,g)}else c.current=null}function Zj(a){var s=a.type,c=a.memoizedProps,d=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(g){tt(a,a.return,g)}}function nh(a,s,c){try{var d=a.stateNode;fP(d,a.type,c,s),d[Er]=s}catch(g){tt(a,a.return,g)}}function Jj(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&fi(a.type)||a.tag===4}function ah(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Jj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&fi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ih(a,s,c){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=ia));else if(d!==4&&(d===27&&fi(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(ih(a,s,c),a=a.sibling;a!==null;)ih(a,s,c),a=a.sibling}function Cu(a,s,c){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(d!==4&&(d===27&&fi(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Cu(a,s,c),a=a.sibling;a!==null;)Cu(a,s,c),a=a.sibling}function eN(a){var s=a.stateNode,c=a.memoizedProps;try{for(var d=a.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);cr(s,d,c),s[ir]=a,s[Er]=c}catch(y){tt(a,a.return,y)}}var ha=!1,It=!1,sh=!1,tN=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function QT(a,s){if(a=a.containerInfo,Ch=Yu,a=m0(a),Jm(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var g=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var w=0,M=-1,P=-1,Z=0,se=0,de=a,ee=null;t:for(;;){for(var ae;de!==c||g!==0&&de.nodeType!==3||(M=w+g),de!==y||d!==0&&de.nodeType!==3||(P=w+d),de.nodeType===3&&(w+=de.nodeValue.length),(ae=de.firstChild)!==null;)ee=de,de=ae;for(;;){if(de===a)break t;if(ee===c&&++Z===g&&(M=w),ee===y&&++se===d&&(P=w),(ae=de.nextSibling)!==null)break;de=ee,ee=de.parentNode}de=ae}c=M===-1||P===-1?null:{start:M,end:P}}else c=null}c=c||{start:0,end:0}}else c=null;for(Eh={focusedElem:a,selectionRange:c},Yu=!1,Xt=s;Xt!==null;)if(s=Xt,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Xt=a;else for(;Xt!==null;){switch(s=Xt,y=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)g=a[c],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,c=s,g=y.memoizedProps,y=y.memoizedState,d=c.stateNode;try{var je=Ki(c.type,g);a=d.getSnapshotBeforeUpdate(je,y),d.__reactInternalSnapshotBeforeUpdate=a}catch(Me){tt(c,c.return,Me)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)Mh(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Mh(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=s.sibling,a!==null){a.return=s.return,Xt=a;break}Xt=s.return}}function rN(a,s,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:ga(a,c),d&4&&No(5,c);break;case 1:if(ga(a,c),d&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(w){tt(c,c.return,w)}else{var g=Ki(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(g,s,a.__reactInternalSnapshotBeforeUpdate)}catch(w){tt(c,c.return,w)}}d&64&&Xj(c),d&512&&_o(c,c.return);break;case 3:if(ga(a,c),d&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{B0(a,s)}catch(w){tt(c,c.return,w)}}break;case 27:s===null&&d&4&&eN(c);case 26:case 5:ga(a,c),s===null&&d&4&&Zj(c),d&512&&_o(c,c.return);break;case 12:ga(a,c);break;case 31:ga(a,c),d&4&&iN(a,c);break;case 13:ga(a,c),d&4&&sN(a,c),d&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=eP.bind(null,c),bP(a,c))));break;case 22:if(d=c.memoizedState!==null||ha,!d){s=s!==null&&s.memoizedState!==null||It,g=ha;var y=It;ha=d,(It=s)&&!y?ya(a,c,(c.subtreeFlags&8772)!==0):ga(a,c),ha=g,It=y}break;case 30:break;default:ga(a,c)}}function nN(a){var s=a.alternate;s!==null&&(a.alternate=null,nN(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&qm(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var xt=null,zr=!1;function va(a,s,c){for(c=c.child;c!==null;)aN(a,s,c),c=c.sibling}function aN(a,s,c){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(pr,c)}catch{}switch(c.tag){case 26:It||Un(c,s),va(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:It||Un(c,s);var d=xt,g=zr;fi(c.type)&&(xt=c.stateNode,zr=!1),va(a,s,c),Do(c.stateNode),xt=d,zr=g;break;case 5:It||Un(c,s);case 6:if(d=xt,g=zr,xt=null,va(a,s,c),xt=d,zr=g,xt!==null)if(zr)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(c.stateNode)}catch(y){tt(c,s,y)}else try{xt.removeChild(c.stateNode)}catch(y){tt(c,s,y)}break;case 18:xt!==null&&(zr?(a=xt,XN(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),hl(a)):XN(xt,c.stateNode));break;case 4:d=xt,g=zr,xt=c.stateNode.containerInfo,zr=!0,va(a,s,c),xt=d,zr=g;break;case 0:case 11:case 14:case 15:ii(2,c,s),It||ii(4,c,s),va(a,s,c);break;case 1:It||(Un(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"&&Wj(c,s,d)),va(a,s,c);break;case 21:va(a,s,c);break;case 22:It=(d=It)||c.memoizedState!==null,va(a,s,c),It=d;break;default:va(a,s,c)}}function iN(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{hl(a)}catch(c){tt(s,s.return,c)}}}function sN(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{hl(a)}catch(c){tt(s,s.return,c)}}function FT(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new tN),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new tN),s;default:throw Error(n(435,a.tag))}}function Eu(a,s){var c=FT(a);s.forEach(function(d){if(!c.has(d)){c.add(d);var g=tP.bind(null,a,d);d.then(g,g)}})}function Mr(a,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var g=c[d],y=a,w=s,M=w;e:for(;M!==null;){switch(M.tag){case 27:if(fi(M.type)){xt=M.stateNode,zr=!1;break e}break;case 5:xt=M.stateNode,zr=!1;break e;case 3:case 4:xt=M.stateNode.containerInfo,zr=!0;break e}M=M.return}if(xt===null)throw Error(n(160));aN(y,w,g),xt=null,zr=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)lN(s,a),s=s.sibling}var _n=null;function lN(a,s){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Mr(s,a),Dr(a),d&4&&(ii(3,a,a.return),No(3,a),ii(5,a,a.return));break;case 1:Mr(s,a),Dr(a),d&512&&(It||c===null||Un(c,c.return)),d&64&&ha&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var g=_n;if(Mr(s,a),Dr(a),d&512&&(It||c===null||Un(c,c.return)),d&4){var y=c!==null?c.memoizedState:null;if(d=a.memoizedState,c===null)if(d===null)if(a.stateNode===null){e:{d=a.type,c=a.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Kl]||y[ir]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(d),g.head.insertBefore(y,g.querySelector("head > title"))),cr(y,d,c),y[ir]=a,Kt(y),d=y;break e;case"link":var w=l_("link","href",g).get(d+(c.href||""));if(w){for(var M=0;M<w.length;M++)if(y=w[M],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){w.splice(M,1);break t}}y=g.createElement(d),cr(y,d,c),g.head.appendChild(y);break;case"meta":if(w=l_("meta","content",g).get(d+(c.content||""))){for(M=0;M<w.length;M++)if(y=w[M],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){w.splice(M,1);break t}}y=g.createElement(d),cr(y,d,c),g.head.appendChild(y);break;default:throw Error(n(468,d))}y[ir]=a,Kt(y),d=y}a.stateNode=d}else o_(g,a.type,a.stateNode);else a.stateNode=s_(g,d,a.memoizedProps);else y!==d?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,d===null?o_(g,a.type,a.stateNode):s_(g,d,a.memoizedProps)):d===null&&a.stateNode!==null&&nh(a,a.memoizedProps,c.memoizedProps)}break;case 27:Mr(s,a),Dr(a),d&512&&(It||c===null||Un(c,c.return)),c!==null&&d&4&&nh(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Mr(s,a),Dr(a),d&512&&(It||c===null||Un(c,c.return)),a.flags&32){g=a.stateNode;try{Ls(g,"")}catch(je){tt(a,a.return,je)}}d&4&&a.stateNode!=null&&(g=a.memoizedProps,nh(a,g,c!==null?c.memoizedProps:g)),d&1024&&(sh=!0);break;case 6:if(Mr(s,a),Dr(a),d&4){if(a.stateNode===null)throw Error(n(162));d=a.memoizedProps,c=a.stateNode;try{c.nodeValue=d}catch(je){tt(a,a.return,je)}}break;case 3:if(Gu=null,g=_n,_n=Uu(s.containerInfo),Mr(s,a),_n=g,Dr(a),d&4&&c!==null&&c.memoizedState.isDehydrated)try{hl(s.containerInfo)}catch(je){tt(a,a.return,je)}sh&&(sh=!1,oN(a));break;case 4:d=_n,_n=Uu(a.stateNode.containerInfo),Mr(s,a),Dr(a),_n=d;break;case 12:Mr(s,a),Dr(a);break;case 31:Mr(s,a),Dr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Eu(a,d)));break;case 13:Mr(s,a),Dr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(zu=ze()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Eu(a,d)));break;case 22:g=a.memoizedState!==null;var P=c!==null&&c.memoizedState!==null,Z=ha,se=It;if(ha=Z||g,It=se||P,Mr(s,a),It=se,ha=Z,Dr(a),d&8192)e:for(s=a.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(c===null||P||ha||It||Xi(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){P=c=s;try{if(y=P.stateNode,g)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{M=P.stateNode;var de=P.memoizedProps.style,ee=de!=null&&de.hasOwnProperty("display")?de.display:null;M.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(je){tt(P,P.return,je)}}}else if(s.tag===6){if(c===null){P=s;try{P.stateNode.nodeValue=g?"":P.memoizedProps}catch(je){tt(P,P.return,je)}}}else if(s.tag===18){if(c===null){P=s;try{var ae=P.stateNode;g?WN(ae,!0):WN(P.stateNode,!1)}catch(je){tt(P,P.return,je)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=a.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Eu(a,c))));break;case 19:Mr(s,a),Dr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Eu(a,d)));break;case 30:break;case 21:break;default:Mr(s,a),Dr(a)}}function Dr(a){var s=a.flags;if(s&2){try{for(var c,d=a.return;d!==null;){if(Jj(d)){c=d;break}d=d.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var g=c.stateNode,y=ah(a);Cu(a,y,g);break;case 5:var w=c.stateNode;c.flags&32&&(Ls(w,""),c.flags&=-33);var M=ah(a);Cu(a,M,w);break;case 3:case 4:var P=c.stateNode.containerInfo,Z=ah(a);ih(a,Z,P);break;default:throw Error(n(161))}}catch(se){tt(a,a.return,se)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function oN(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;oN(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function ga(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)rN(a,s.alternate,s),s=s.sibling}function Xi(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:ii(4,s,s.return),Xi(s);break;case 1:Un(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&Wj(s,s.return,c),Xi(s);break;case 27:Do(s.stateNode);case 26:case 5:Un(s,s.return),Xi(s);break;case 22:s.memoizedState===null&&Xi(s);break;case 30:Xi(s);break;default:Xi(s)}a=a.sibling}}function ya(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,g=a,y=s,w=y.flags;switch(y.tag){case 0:case 11:case 15:ya(g,y,c),No(4,y);break;case 1:if(ya(g,y,c),d=y,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Z){tt(d,d.return,Z)}if(d=y,g=d.updateQueue,g!==null){var M=d.stateNode;try{var P=g.shared.hiddenCallbacks;if(P!==null)for(g.shared.hiddenCallbacks=null,g=0;g<P.length;g++)I0(P[g],M)}catch(Z){tt(d,d.return,Z)}}c&&w&64&&Xj(y),_o(y,y.return);break;case 27:eN(y);case 26:case 5:ya(g,y,c),c&&d===null&&w&4&&Zj(y),_o(y,y.return);break;case 12:ya(g,y,c);break;case 31:ya(g,y,c),c&&w&4&&iN(g,y);break;case 13:ya(g,y,c),c&&w&4&&sN(g,y);break;case 22:y.memoizedState===null&&ya(g,y,c),_o(y,y.return);break;case 30:break;default:ya(g,y,c)}s=s.sibling}}function lh(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&oo(c))}function oh(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&oo(a))}function Sn(a,s,c,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cN(a,s,c,d),s=s.sibling}function cN(a,s,c,d){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Sn(a,s,c,d),g&2048&&No(9,s);break;case 1:Sn(a,s,c,d);break;case 3:Sn(a,s,c,d),g&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&oo(a)));break;case 12:if(g&2048){Sn(a,s,c,d),a=s.stateNode;try{var y=s.memoizedProps,w=y.id,M=y.onPostCommit;typeof M=="function"&&M(w,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(P){tt(s,s.return,P)}}else Sn(a,s,c,d);break;case 31:Sn(a,s,c,d);break;case 13:Sn(a,s,c,d);break;case 23:break;case 22:y=s.stateNode,w=s.alternate,s.memoizedState!==null?y._visibility&2?Sn(a,s,c,d):So(a,s):y._visibility&2?Sn(a,s,c,d):(y._visibility|=2,al(a,s,c,d,(s.subtreeFlags&10256)!==0||!1)),g&2048&&lh(w,s);break;case 24:Sn(a,s,c,d),g&2048&&oh(s.alternate,s);break;default:Sn(a,s,c,d)}}function al(a,s,c,d,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=a,w=s,M=c,P=d,Z=w.flags;switch(w.tag){case 0:case 11:case 15:al(y,w,M,P,g),No(8,w);break;case 23:break;case 22:var se=w.stateNode;w.memoizedState!==null?se._visibility&2?al(y,w,M,P,g):So(y,w):(se._visibility|=2,al(y,w,M,P,g)),g&&Z&2048&&lh(w.alternate,w);break;case 24:al(y,w,M,P,g),g&&Z&2048&&oh(w.alternate,w);break;default:al(y,w,M,P,g)}s=s.sibling}}function So(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,d=s,g=d.flags;switch(d.tag){case 22:So(c,d),g&2048&&lh(d.alternate,d);break;case 24:So(c,d),g&2048&&oh(d.alternate,d);break;default:So(c,d)}s=s.sibling}}var wo=8192;function il(a,s,c){if(a.subtreeFlags&wo)for(a=a.child;a!==null;)uN(a,s,c),a=a.sibling}function uN(a,s,c){switch(a.tag){case 26:il(a,s,c),a.flags&wo&&a.memoizedState!==null&&DP(c,_n,a.memoizedState,a.memoizedProps);break;case 5:il(a,s,c);break;case 3:case 4:var d=_n;_n=Uu(a.stateNode.containerInfo),il(a,s,c),_n=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=wo,wo=16777216,il(a,s,c),wo=d):il(a,s,c));break;default:il(a,s,c)}}function dN(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Ao(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];Xt=d,mN(d,a)}dN(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)fN(a),a=a.sibling}function fN(a){switch(a.tag){case 0:case 11:case 15:Ao(a),a.flags&2048&&ii(9,a,a.return);break;case 3:Ao(a);break;case 12:Ao(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Ou(a)):Ao(a);break;default:Ao(a)}}function Ou(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];Xt=d,mN(d,a)}dN(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:ii(8,s,s.return),Ou(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Ou(s));break;default:Ou(s)}a=a.sibling}}function mN(a,s){for(;Xt!==null;){var c=Xt;switch(c.tag){case 0:case 11:case 15:ii(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:oo(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,Xt=d;else e:for(c=a;Xt!==null;){d=Xt;var g=d.sibling,y=d.return;if(nN(d),d===c){Xt=null;break e}if(g!==null){g.return=y,Xt=g;break e}Xt=y}}}var VT={getCacheForType:function(a){var s=lr(qt),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return lr(qt).controller.signal}},YT=typeof WeakMap=="function"?WeakMap:Map,Je=0,ut=null,Ue=null,Qe=0,et=0,Gr=null,si=!1,sl=!1,ch=!1,xa=0,At=0,li=0,Wi=0,uh=0,Qr=0,ll=0,Co=null,Tr=null,dh=!1,zu=0,pN=0,Mu=1/0,Du=null,oi=null,Qt=0,ci=null,ol=null,ba=0,fh=0,mh=null,hN=null,Eo=0,ph=null;function Fr(){return(Je&2)!==0&&Qe!==0?Qe&-Qe:k.T!==null?bh():Mb()}function vN(){if(Qr===0)if((Qe&536870912)===0||Ve){var a=zs;zs<<=1,(zs&3932160)===0&&(zs=262144),Qr=a}else Qr=536870912;return a=Ur.current,a!==null&&(a.flags|=32),Qr}function Pr(a,s,c){(a===ut&&(et===2||et===9)||a.cancelPendingCommit!==null)&&(cl(a,0),ui(a,Qe,Qr,!1)),hr(a,c),((Je&2)===0||a!==ut)&&(a===ut&&((Je&2)===0&&(Wi|=c),At===4&&ui(a,Qe,Qr,!1)),Hn(a))}function gN(a,s,c){if((Je&6)!==0)throw Error(n(327));var d=!c&&(s&127)===0&&(s&a.expiredLanes)===0||Ti(a,s),g=d?WT(a,s):vh(a,s,!0),y=d;do{if(g===0){sl&&!d&&ui(a,s,0,!1);break}else{if(c=a.current.alternate,y&&!KT(c)){g=vh(a,s,!1),y=!1;continue}if(g===2){if(y=s,a.errorRecoveryDisabledLanes&y)var w=0;else w=a.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var M=a;g=Co;var P=M.current.memoizedState.isDehydrated;if(P&&(cl(M,w).flags|=256),w=vh(M,w,!1),w!==2){if(ch&&!P){M.errorRecoveryDisabledLanes|=y,Wi|=y,g=4;break e}y=Tr,Tr=g,y!==null&&(Tr===null?Tr=y:Tr.push.apply(Tr,y))}g=w}if(y=!1,g!==2)continue}}if(g===1){cl(a,0),ui(a,s,0,!0);break}e:{switch(d=a,y=g,y){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:ui(d,s,Qr,!si);break e;case 2:Tr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(g=zu+300-ze(),10<g)){if(ui(d,s,Qr,!si),In(d,0,!0)!==0)break e;ba=s,d.timeoutHandle=YN(yN.bind(null,d,c,Tr,Du,dh,s,Qr,Wi,ll,si,y,"Throttled",-0,0),g);break e}yN(d,c,Tr,Du,dh,s,Qr,Wi,ll,si,y,null,-0,0)}}break}while(!0);Hn(a)}function yN(a,s,c,d,g,y,w,M,P,Z,se,de,ee,ae){if(a.timeoutHandle=-1,de=s.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ia},uN(s,y,de);var je=(y&62914560)===y?zu-ze():(y&4194048)===y?pN-ze():0;if(je=TP(de,je),je!==null){ba=y,a.cancelPendingCommit=je(AN.bind(null,a,s,y,c,d,g,w,M,P,se,de,null,ee,ae)),ui(a,y,w,!Z);return}}AN(a,s,y,c,d,g,w,M,P)}function KT(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var g=c[d],y=g.getSnapshot;g=g.value;try{if(!Br(y(),g))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ui(a,s,c,d){s&=~uh,s&=~Wi,a.suspendedLanes|=s,a.pingedLanes&=~s,d&&(a.warmLanes|=s),d=a.expirationTimes;for(var g=s;0<g;){var y=31-br(g),w=1<<y;d[y]=-1,g&=~w}c!==0&&Pi(a,c,s)}function Tu(){return(Je&6)===0?(Oo(0),!1):!0}function hh(){if(Ue!==null){if(et===0)var a=Ue.return;else a=Ue,ca=Ui=null,Mp(a),Js=null,uo=0,a=Ue;for(;a!==null;)Kj(a.alternate,a),a=a.return;Ue=null}}function cl(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,hP(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),ba=0,hh(),ut=a,Ue=c=la(a.current,null),Qe=s,et=0,Gr=null,si=!1,sl=Ti(a,s),ch=!1,ll=Qr=uh=Wi=li=At=0,Tr=Co=null,dh=!1,(s&8)!==0&&(s|=s&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=s;0<d;){var g=31-br(d),y=1<<g;s|=a[g],d&=~y}return xa=s,eu(),c}function xN(a,s){Le=null,k.H=xo,s===Zs||s===ou?(s=k0(),et=3):s===xp?(s=k0(),et=4):et=s===Vp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gr=s,Ue===null&&(At=1,Nu(a,an(s,a.current)))}function bN(){var a=Ur.current;return a===null?!0:(Qe&4194048)===Qe?cn===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?a===cn:!1}function jN(){var a=k.H;return k.H=xo,a===null?xo:a}function NN(){var a=k.A;return k.A=VT,a}function Pu(){At=4,si||(Qe&4194048)!==Qe&&Ur.current!==null||(sl=!0),(li&134217727)===0&&(Wi&134217727)===0||ut===null||ui(ut,Qe,Qr,!1)}function vh(a,s,c){var d=Je;Je|=2;var g=jN(),y=NN();(ut!==a||Qe!==s)&&(Du=null,cl(a,s)),s=!1;var w=At;e:do try{if(et!==0&&Ue!==null){var M=Ue,P=Gr;switch(et){case 8:hh(),w=6;break e;case 3:case 2:case 9:case 6:Ur.current===null&&(s=!0);var Z=et;if(et=0,Gr=null,ul(a,M,P,Z),c&&sl){w=0;break e}break;default:Z=et,et=0,Gr=null,ul(a,M,P,Z)}}XT(),w=At;break}catch(se){xN(a,se)}while(!0);return s&&a.shellSuspendCounter++,ca=Ui=null,Je=d,k.H=g,k.A=y,Ue===null&&(ut=null,Qe=0,eu()),w}function XT(){for(;Ue!==null;)_N(Ue)}function WT(a,s){var c=Je;Je|=2;var d=jN(),g=NN();ut!==a||Qe!==s?(Du=null,Mu=ze()+500,cl(a,s)):sl=Ti(a,s);e:do try{if(et!==0&&Ue!==null){s=Ue;var y=Gr;t:switch(et){case 1:et=0,Gr=null,ul(a,s,y,1);break;case 2:case 9:if(T0(y)){et=0,Gr=null,SN(s);break}s=function(){et!==2&&et!==9||ut!==a||(et=7),Hn(a)},y.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:T0(y)?(et=0,Gr=null,SN(s)):(et=0,Gr=null,ul(a,s,y,7));break;case 5:var w=null;switch(Ue.tag){case 26:w=Ue.memoizedState;case 5:case 27:var M=Ue;if(w?c_(w):M.stateNode.complete){et=0,Gr=null;var P=M.sibling;if(P!==null)Ue=P;else{var Z=M.return;Z!==null?(Ue=Z,ku(Z)):Ue=null}break t}}et=0,Gr=null,ul(a,s,y,5);break;case 6:et=0,Gr=null,ul(a,s,y,6);break;case 8:hh(),At=6;break e;default:throw Error(n(462))}}ZT();break}catch(se){xN(a,se)}while(!0);return ca=Ui=null,k.H=d,k.A=g,Je=c,Ue!==null?0:(ut=null,Qe=0,eu(),At)}function ZT(){for(;Ue!==null&&!ie();)_N(Ue)}function _N(a){var s=Vj(a.alternate,a,xa);a.memoizedProps=a.pendingProps,s===null?ku(a):Ue=s}function SN(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=$j(c,s,s.pendingProps,s.type,void 0,Qe);break;case 11:s=$j(c,s,s.pendingProps,s.type.render,s.ref,Qe);break;case 5:Mp(s);default:Kj(c,s),s=Ue=N0(s,xa),s=Vj(c,s,xa)}a.memoizedProps=a.pendingProps,s===null?ku(a):Ue=s}function ul(a,s,c,d){ca=Ui=null,Mp(s),Js=null,uo=0;var g=s.return;try{if(BT(a,g,s,c,Qe)){At=1,Nu(a,an(c,a.current)),Ue=null;return}}catch(y){if(g!==null)throw Ue=g,y;At=1,Nu(a,an(c,a.current)),Ue=null;return}s.flags&32768?(Ve||d===1?a=!0:sl||(Qe&536870912)!==0?a=!1:(si=a=!0,(d===2||d===9||d===3||d===6)&&(d=Ur.current,d!==null&&d.tag===13&&(d.flags|=16384))),wN(s,a)):ku(s)}function ku(a){var s=a;do{if((s.flags&32768)!==0){wN(s,si);return}a=s.return;var c=HT(s.alternate,s,xa);if(c!==null){Ue=c;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=a}while(s!==null);At===0&&(At=5)}function wN(a,s){do{var c=GT(a.alternate,a);if(c!==null){c.flags&=32767,Ue=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){Ue=a;return}Ue=a=c}while(a!==null);At=6,Ue=null}function AN(a,s,c,d,g,y,w,M,P){a.cancelPendingCommit=null;do qu();while(Qt!==0);if((Je&6)!==0)throw Error(n(327));if(s!==null){if(s===a.current)throw Error(n(177));if(y=s.lanes|s.childLanes,y|=ap,Yl(a,c,y,w,M,P),a===ut&&(Ue=ut=null,Qe=0),ol=s,ci=a,ba=c,fh=y,mh=g,hN=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,rP(Rn,function(){return MN(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=k.T,k.T=null,g=J.p,J.p=2,w=Je,Je|=4;try{QT(a,s,c)}finally{Je=w,J.p=g,k.T=d}}Qt=1,CN(),EN(),ON()}}function CN(){if(Qt===1){Qt=0;var a=ci,s=ol,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=k.T,k.T=null;var d=J.p;J.p=2;var g=Je;Je|=4;try{lN(s,a);var y=Eh,w=m0(a.containerInfo),M=y.focusedElem,P=y.selectionRange;if(w!==M&&M&&M.ownerDocument&&f0(M.ownerDocument.documentElement,M)){if(P!==null&&Jm(M)){var Z=P.start,se=P.end;if(se===void 0&&(se=Z),"selectionStart"in M)M.selectionStart=Z,M.selectionEnd=Math.min(se,M.value.length);else{var de=M.ownerDocument||document,ee=de&&de.defaultView||window;if(ee.getSelection){var ae=ee.getSelection(),je=M.textContent.length,Me=Math.min(P.start,je),st=P.end===void 0?Me:Math.min(P.end,je);!ae.extend&&Me>st&&(w=st,st=Me,Me=w);var F=d0(M,Me),B=d0(M,st);if(F&&B&&(ae.rangeCount!==1||ae.anchorNode!==F.node||ae.anchorOffset!==F.offset||ae.focusNode!==B.node||ae.focusOffset!==B.offset)){var W=de.createRange();W.setStart(F.node,F.offset),ae.removeAllRanges(),Me>st?(ae.addRange(W),ae.extend(B.node,B.offset)):(W.setEnd(B.node,B.offset),ae.addRange(W))}}}}for(de=[],ae=M;ae=ae.parentNode;)ae.nodeType===1&&de.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<de.length;M++){var ce=de[M];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Yu=!!Ch,Eh=Ch=null}finally{Je=g,J.p=d,k.T=c}}a.current=s,Qt=2}}function EN(){if(Qt===2){Qt=0;var a=ci,s=ol,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=k.T,k.T=null;var d=J.p;J.p=2;var g=Je;Je|=4;try{rN(a,s.alternate,s)}finally{Je=g,J.p=d,k.T=c}}Qt=3}}function ON(){if(Qt===4||Qt===3){Qt=0,Se();var a=ci,s=ol,c=ba,d=hN;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Qt=5:(Qt=0,ol=ci=null,zN(a,a.pendingLanes));var g=a.pendingLanes;if(g===0&&(oi=null),Pm(c),s=s.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(pr,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=k.T,g=J.p,J.p=2,k.T=null;try{for(var y=a.onRecoverableError,w=0;w<d.length;w++){var M=d[w];y(M.value,{componentStack:M.stack})}}finally{k.T=s,J.p=g}}(ba&3)!==0&&qu(),Hn(a),g=a.pendingLanes,(c&261930)!==0&&(g&42)!==0?a===ph?Eo++:(Eo=0,ph=a):Eo=0,Oo(0)}}function zN(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,oo(s)))}function qu(){return CN(),EN(),ON(),MN()}function MN(){if(Qt!==5)return!1;var a=ci,s=fh;fh=0;var c=Pm(ba),d=k.T,g=J.p;try{J.p=32>c?32:c,k.T=null,c=mh,mh=null;var y=ci,w=ba;if(Qt=0,ol=ci=null,ba=0,(Je&6)!==0)throw Error(n(331));var M=Je;if(Je|=4,fN(y.current),cN(y,y.current,w,c),Je=M,Oo(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(pr,y)}catch{}return!0}finally{J.p=g,k.T=d,zN(a,s)}}function DN(a,s,c){s=an(c,s),s=Fp(a.stateNode,s,2),a=ri(a,s,2),a!==null&&(hr(a,2),Hn(a))}function tt(a,s,c){if(a.tag===3)DN(a,a,c);else for(;s!==null;){if(s.tag===3){DN(s,a,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(oi===null||!oi.has(d))){a=an(c,a),c=Tj(2),d=ri(s,c,2),d!==null&&(Pj(c,d,s,a),hr(d,2),Hn(d));break}}s=s.return}}function gh(a,s,c){var d=a.pingCache;if(d===null){d=a.pingCache=new YT;var g=new Set;d.set(s,g)}else g=d.get(s),g===void 0&&(g=new Set,d.set(s,g));g.has(c)||(ch=!0,g.add(c),a=JT.bind(null,a,s,c),s.then(a,a))}function JT(a,s,c){var d=a.pingCache;d!==null&&d.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,ut===a&&(Qe&c)===c&&(At===4||At===3&&(Qe&62914560)===Qe&&300>ze()-zu?(Je&2)===0&&cl(a,0):uh|=c,ll===Qe&&(ll=0)),Hn(a)}function TN(a,s){s===0&&(s=Ee()),a=Ii(a,s),a!==null&&(hr(a,s),Hn(a))}function eP(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),TN(a,c)}function tP(a,s){var c=0;switch(a.tag){case 31:case 13:var d=a.stateNode,g=a.memoizedState;g!==null&&(c=g.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(n(314))}d!==null&&d.delete(s),TN(a,c)}function rP(a,s){return Jr(a,s)}var Ru=null,dl=null,yh=!1,Lu=!1,xh=!1,di=0;function Hn(a){a!==dl&&a.next===null&&(dl===null?Ru=dl=a:dl=dl.next=a),Lu=!0,yh||(yh=!0,aP())}function Oo(a,s){if(!xh&&Lu){xh=!0;do for(var c=!1,d=Ru;d!==null;){if(a!==0){var g=d.pendingLanes;if(g===0)var y=0;else{var w=d.suspendedLanes,M=d.pingedLanes;y=(1<<31-br(42|a)+1)-1,y&=g&~(w&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,RN(d,y))}else y=Qe,y=In(d,d===ut?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||Ti(d,y)||(c=!0,RN(d,y));d=d.next}while(c);xh=!1}}function nP(){PN()}function PN(){Lu=yh=!1;var a=0;di!==0&&pP()&&(a=di);for(var s=ze(),c=null,d=Ru;d!==null;){var g=d.next,y=kN(d,s);y===0?(d.next=null,c===null?Ru=g:c.next=g,g===null&&(dl=c)):(c=d,(a!==0||(y&3)!==0)&&(Lu=!0)),d=g}Qt!==0&&Qt!==5||Oo(a),di!==0&&(di=0)}function kN(a,s){for(var c=a.suspendedLanes,d=a.pingedLanes,g=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var w=31-br(y),M=1<<w,P=g[w];P===-1?((M&c)===0||(M&d)!==0)&&(g[w]=K(M,s)):P<=s&&(a.expiredLanes|=M),y&=~M}if(s=ut,c=Qe,c=In(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,c===0||a===s&&(et===2||et===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&ra(d),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Ti(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(d!==null&&ra(d),Pm(c)){case 2:case 8:c=mr;break;case 32:c=Rn;break;case 268435456:c=en;break;default:c=Rn}return d=qN.bind(null,a),c=Jr(c,d),a.callbackPriority=s,a.callbackNode=c,s}return d!==null&&d!==null&&ra(d),a.callbackPriority=2,a.callbackNode=null,2}function qN(a,s){if(Qt!==0&&Qt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(qu()&&a.callbackNode!==c)return null;var d=Qe;return d=In(a,a===ut?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(gN(a,d,s),kN(a,ze()),a.callbackNode!=null&&a.callbackNode===c?qN.bind(null,a):null)}function RN(a,s){if(qu())return null;gN(a,s,!0)}function aP(){vP(function(){(Je&6)!==0?Jr(yt,nP):PN()})}function bh(){if(di===0){var a=Xs;a===0&&(a=Os,Os<<=1,(Os&261888)===0&&(Os=256)),di=a}return di}function LN(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Fc(""+a)}function IN(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function iP(a,s,c,d,g){if(s==="submit"&&c&&c.stateNode===g){var y=LN((g[Er]||null).action),w=d.submitter;w&&(s=(s=w[Er]||null)?LN(s.formAction):w.getAttribute("formAction"),s!==null&&(y=s,w=null));var M=new Xc("action","action",null,d,g);a.push({event:M,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(di!==0){var P=w?IN(g,w):new FormData(g);Bp(c,{pending:!0,data:P,method:g.method,action:y},null,P)}}else typeof y=="function"&&(M.preventDefault(),P=w?IN(g,w):new FormData(g),Bp(c,{pending:!0,data:P,method:g.method,action:y},y,P))},currentTarget:g}]})}}for(var jh=0;jh<np.length;jh++){var Nh=np[jh],sP=Nh.toLowerCase(),lP=Nh[0].toUpperCase()+Nh.slice(1);Nn(sP,"on"+lP)}Nn(v0,"onAnimationEnd"),Nn(g0,"onAnimationIteration"),Nn(y0,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(_T,"onTransitionRun"),Nn(ST,"onTransitionStart"),Nn(wT,"onTransitionCancel"),Nn(x0,"onTransitionEnd"),qs("onMouseEnter",["mouseout","mouseover"]),qs("onMouseLeave",["mouseout","mouseover"]),qs("onPointerEnter",["pointerout","pointerover"]),qs("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zo));function BN(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var d=a[c],g=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var w=d.length-1;0<=w;w--){var M=d[w],P=M.instance,Z=M.currentTarget;if(M=M.listener,P!==y&&g.isPropagationStopped())break e;y=M,g.currentTarget=Z;try{y(g)}catch(se){Jc(se)}g.currentTarget=null,y=P}else for(w=0;w<d.length;w++){if(M=d[w],P=M.instance,Z=M.currentTarget,M=M.listener,P!==y&&g.isPropagationStopped())break e;y=M,g.currentTarget=Z;try{y(g)}catch(se){Jc(se)}g.currentTarget=null,y=P}}}}function He(a,s){var c=s[km];c===void 0&&(c=s[km]=new Set);var d=a+"__bubble";c.has(d)||($N(s,a,2,!1),c.add(d))}function _h(a,s,c){var d=0;s&&(d|=4),$N(c,a,d,s)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function Sh(a){if(!a[Iu]){a[Iu]=!0,Pb.forEach(function(c){c!=="selectionchange"&&(oP.has(c)||_h(c,!1,a),_h(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Iu]||(s[Iu]=!0,_h("selectionchange",!1,s))}}function $N(a,s,c,d){switch(v_(s)){case 2:var g=qP;break;case 8:g=RP;break;default:g=Ih}c=g.bind(null,s,c,a),g=void 0,!Gm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),d?g!==void 0?a.addEventListener(s,c,{capture:!0,passive:g}):a.addEventListener(s,c,!0):g!==void 0?a.addEventListener(s,c,{passive:g}):a.addEventListener(s,c,!1)}function wh(a,s,c,d,g){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var M=d.stateNode.containerInfo;if(M===g)break;if(w===4)for(w=d.return;w!==null;){var P=w.tag;if((P===3||P===4)&&w.stateNode.containerInfo===g)return;w=w.return}for(;M!==null;){if(w=Ts(M),w===null)return;if(P=w.tag,P===5||P===6||P===26||P===27){d=y=w;continue e}M=M.parentNode}}d=d.return}Fb(function(){var Z=y,se=Um(c),de=[];e:{var ee=b0.get(a);if(ee!==void 0){var ae=Xc,je=a;switch(a){case"keypress":if(Yc(c)===0)break e;case"keydown":case"keyup":ae=tT;break;case"focusin":je="focus",ae=Ym;break;case"focusout":je="blur",ae=Ym;break;case"beforeblur":case"afterblur":ae=Ym;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Kb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=HD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=aT;break;case v0:case g0:case y0:ae=FD;break;case x0:ae=sT;break;case"scroll":case"scrollend":ae=$D;break;case"wheel":ae=oT;break;case"copy":case"cut":case"paste":ae=YD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Wb;break;case"toggle":case"beforetoggle":ae=uT}var Me=(s&4)!==0,st=!Me&&(a==="scroll"||a==="scrollend"),F=Me?ee!==null?ee+"Capture":null:ee;Me=[];for(var B=Z,W;B!==null;){var ce=B;if(W=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||W===null||F===null||(ce=Wl(B,F),ce!=null&&Me.push(Mo(B,ce,W))),st)break;B=B.return}0<Me.length&&(ee=new ae(ee,je,null,c,se),de.push({event:ee,listeners:Me}))}}if((s&7)===0){e:{if(ee=a==="mouseover"||a==="pointerover",ae=a==="mouseout"||a==="pointerout",ee&&c!==$m&&(je=c.relatedTarget||c.fromElement)&&(Ts(je)||je[Ds]))break e;if((ae||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,ae?(je=c.relatedTarget||c.toElement,ae=Z,je=je?Ts(je):null,je!==null&&(st=o(je),Me=je.tag,je!==st||Me!==5&&Me!==27&&Me!==6)&&(je=null)):(ae=null,je=Z),ae!==je)){if(Me=Kb,ce="onMouseLeave",F="onMouseEnter",B="mouse",(a==="pointerout"||a==="pointerover")&&(Me=Wb,ce="onPointerLeave",F="onPointerEnter",B="pointer"),st=ae==null?ee:Xl(ae),W=je==null?ee:Xl(je),ee=new Me(ce,B+"leave",ae,c,se),ee.target=st,ee.relatedTarget=W,ce=null,Ts(se)===Z&&(Me=new Me(F,B+"enter",je,c,se),Me.target=W,Me.relatedTarget=st,ce=Me),st=ce,ae&&je)t:{for(Me=cP,F=ae,B=je,W=0,ce=F;ce;ce=Me(ce))W++;ce=0;for(var Ce=B;Ce;Ce=Me(Ce))ce++;for(;0<W-ce;)F=Me(F),W--;for(;0<ce-W;)B=Me(B),ce--;for(;W--;){if(F===B||B!==null&&F===B.alternate){Me=F;break t}F=Me(F),B=Me(B)}Me=null}else Me=null;ae!==null&&UN(de,ee,ae,Me,!1),je!==null&&st!==null&&UN(de,st,je,Me,!0)}}e:{if(ee=Z?Xl(Z):window,ae=ee.nodeName&&ee.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ee.type==="file")var Xe=i0;else if(n0(ee))if(s0)Xe=bT;else{Xe=yT;var _e=gT}else ae=ee.nodeName,!ae||ae.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Bm(Z.elementType)&&(Xe=i0):Xe=xT;if(Xe&&(Xe=Xe(a,Z))){a0(de,Xe,c,se);break e}_e&&_e(a,ee,Z),a==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Im(ee,"number",ee.value)}switch(_e=Z?Xl(Z):window,a){case"focusin":(n0(_e)||_e.contentEditable==="true")&&(Us=_e,ep=Z,io=null);break;case"focusout":io=ep=Us=null;break;case"mousedown":tp=!0;break;case"contextmenu":case"mouseup":case"dragend":tp=!1,p0(de,c,se);break;case"selectionchange":if(NT)break;case"keydown":case"keyup":p0(de,c,se)}var Ie;if(Xm)e:{switch(a){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else $s?t0(a,c)&&(Fe="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Fe="onCompositionStart");Fe&&(Zb&&c.locale!=="ko"&&($s||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&$s&&(Ie=Vb()):(Ka=se,Qm="value"in Ka?Ka.value:Ka.textContent,$s=!0)),_e=Bu(Z,Fe),0<_e.length&&(Fe=new Xb(Fe,a,null,c,se),de.push({event:Fe,listeners:_e}),Ie?Fe.data=Ie:(Ie=r0(c),Ie!==null&&(Fe.data=Ie)))),(Ie=fT?mT(a,c):pT(a,c))&&(Fe=Bu(Z,"onBeforeInput"),0<Fe.length&&(_e=new Xb("onBeforeInput","beforeinput",null,c,se),de.push({event:_e,listeners:Fe}),_e.data=Ie)),iP(de,a,Z,c,se)}BN(de,s)})}function Mo(a,s,c){return{instance:a,listener:s,currentTarget:c}}function Bu(a,s){for(var c=s+"Capture",d=[];a!==null;){var g=a,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Wl(a,c),g!=null&&d.unshift(Mo(a,g,y)),g=Wl(a,s),g!=null&&d.push(Mo(a,g,y))),a.tag===3)return d;a=a.return}return[]}function cP(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function UN(a,s,c,d,g){for(var y=s._reactName,w=[];c!==null&&c!==d;){var M=c,P=M.alternate,Z=M.stateNode;if(M=M.tag,P!==null&&P===d)break;M!==5&&M!==26&&M!==27||Z===null||(P=Z,g?(Z=Wl(c,y),Z!=null&&w.unshift(Mo(c,Z,P))):g||(Z=Wl(c,y),Z!=null&&w.push(Mo(c,Z,P)))),c=c.return}w.length!==0&&a.push({event:s,listeners:w})}var uP=/\r\n?/g,dP=/\u0000|\uFFFD/g;function HN(a){return(typeof a=="string"?a:""+a).replace(uP,`
`).replace(dP,"")}function GN(a,s){return s=HN(s),HN(a)===s}function it(a,s,c,d,g,y){switch(c){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||Ls(a,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&Ls(a,""+d);break;case"className":Gc(a,"class",d);break;case"tabIndex":Gc(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Gc(a,c,d);break;case"style":Gb(a,d,y);break;case"data":if(s!=="object"){Gc(a,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(c);break}d=Fc(""+d),a.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(s!=="input"&&it(a,s,"name",g.name,g,null),it(a,s,"formEncType",g.formEncType,g,null),it(a,s,"formMethod",g.formMethod,g,null),it(a,s,"formTarget",g.formTarget,g,null)):(it(a,s,"encType",g.encType,g,null),it(a,s,"method",g.method,g,null),it(a,s,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(c);break}d=Fc(""+d),a.setAttribute(c,d);break;case"onClick":d!=null&&(a.onclick=ia);break;case"onScroll":d!=null&&He("scroll",a);break;case"onScrollEnd":d!=null&&He("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}c=Fc(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(c,""+d):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":d===!0?a.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(c,d):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(c,d):a.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(c):a.setAttribute(c,d);break;case"popover":He("beforetoggle",a),He("toggle",a),Hc(a,"popover",d);break;case"xlinkActuate":aa(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":aa(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":aa(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":aa(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":aa(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":aa(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":aa(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":aa(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":aa(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Hc(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=ID.get(c)||c,Hc(a,c,d))}}function Ah(a,s,c,d,g,y){switch(c){case"style":Gb(a,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"children":typeof d=="string"?Ls(a,d):(typeof d=="number"||typeof d=="bigint")&&Ls(a,""+d);break;case"onScroll":d!=null&&He("scroll",a);break;case"onScrollEnd":d!=null&&He("scrollend",a);break;case"onClick":d!=null&&(a.onclick=ia);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kb.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),s=c.slice(2,g?c.length-7:void 0),y=a[Er]||null,y=y!=null?y[c]:null,typeof y=="function"&&a.removeEventListener(s,y,g),typeof d=="function")){typeof y!="function"&&y!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,d,g);break e}c in a?a[c]=d:d===!0?a.setAttribute(c,""):Hc(a,c,d)}}}function cr(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",a),He("load",a);var d=!1,g=!1,y;for(y in c)if(c.hasOwnProperty(y)){var w=c[y];if(w!=null)switch(y){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:it(a,s,y,w,c,null)}}g&&it(a,s,"srcSet",c.srcSet,c,null),d&&it(a,s,"src",c.src,c,null);return;case"input":He("invalid",a);var M=y=w=g=null,P=null,Z=null;for(d in c)if(c.hasOwnProperty(d)){var se=c[d];if(se!=null)switch(d){case"name":g=se;break;case"type":w=se;break;case"checked":P=se;break;case"defaultChecked":Z=se;break;case"value":y=se;break;case"defaultValue":M=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(137,s));break;default:it(a,s,d,se,c,null)}}Bb(a,y,M,P,Z,w,g,!1);return;case"select":He("invalid",a),d=w=y=null;for(g in c)if(c.hasOwnProperty(g)&&(M=c[g],M!=null))switch(g){case"value":y=M;break;case"defaultValue":w=M;break;case"multiple":d=M;default:it(a,s,g,M,c,null)}s=y,c=w,a.multiple=!!d,s!=null?Rs(a,!!d,s,!1):c!=null&&Rs(a,!!d,c,!0);return;case"textarea":He("invalid",a),y=g=d=null;for(w in c)if(c.hasOwnProperty(w)&&(M=c[w],M!=null))switch(w){case"value":d=M;break;case"defaultValue":g=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(n(91));break;default:it(a,s,w,M,c,null)}Ub(a,d,g,y);return;case"option":for(P in c)c.hasOwnProperty(P)&&(d=c[P],d!=null)&&(P==="selected"?a.selected=d&&typeof d!="function"&&typeof d!="symbol":it(a,s,P,d,c,null));return;case"dialog":He("beforetoggle",a),He("toggle",a),He("cancel",a),He("close",a);break;case"iframe":case"object":He("load",a);break;case"video":case"audio":for(d=0;d<zo.length;d++)He(zo[d],a);break;case"image":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"embed":case"source":case"link":He("error",a),He("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(d=c[Z],d!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:it(a,s,Z,d,c,null)}return;default:if(Bm(s)){for(se in c)c.hasOwnProperty(se)&&(d=c[se],d!==void 0&&Ah(a,s,se,d,c,void 0));return}}for(M in c)c.hasOwnProperty(M)&&(d=c[M],d!=null&&it(a,s,M,d,c,null))}function fP(a,s,c,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,w=null,M=null,P=null,Z=null,se=null;for(ae in c){var de=c[ae];if(c.hasOwnProperty(ae)&&de!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":P=de;default:d.hasOwnProperty(ae)||it(a,s,ae,null,d,de)}}for(var ee in d){var ae=d[ee];if(de=c[ee],d.hasOwnProperty(ee)&&(ae!=null||de!=null))switch(ee){case"type":y=ae;break;case"name":g=ae;break;case"checked":Z=ae;break;case"defaultChecked":se=ae;break;case"value":w=ae;break;case"defaultValue":M=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(n(137,s));break;default:ae!==de&&it(a,s,ee,ae,d,de)}}Lm(a,w,M,P,Z,se,y,g);return;case"select":ae=w=M=ee=null;for(y in c)if(P=c[y],c.hasOwnProperty(y)&&P!=null)switch(y){case"value":break;case"multiple":ae=P;default:d.hasOwnProperty(y)||it(a,s,y,null,d,P)}for(g in d)if(y=d[g],P=c[g],d.hasOwnProperty(g)&&(y!=null||P!=null))switch(g){case"value":ee=y;break;case"defaultValue":M=y;break;case"multiple":w=y;default:y!==P&&it(a,s,g,y,d,P)}s=M,c=w,d=ae,ee!=null?Rs(a,!!c,ee,!1):!!d!=!!c&&(s!=null?Rs(a,!!c,s,!0):Rs(a,!!c,c?[]:"",!1));return;case"textarea":ae=ee=null;for(M in c)if(g=c[M],c.hasOwnProperty(M)&&g!=null&&!d.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:it(a,s,M,null,d,g)}for(w in d)if(g=d[w],y=c[w],d.hasOwnProperty(w)&&(g!=null||y!=null))switch(w){case"value":ee=g;break;case"defaultValue":ae=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==y&&it(a,s,w,g,d,y)}$b(a,ee,ae);return;case"option":for(var je in c)ee=c[je],c.hasOwnProperty(je)&&ee!=null&&!d.hasOwnProperty(je)&&(je==="selected"?a.selected=!1:it(a,s,je,null,d,ee));for(P in d)ee=d[P],ae=c[P],d.hasOwnProperty(P)&&ee!==ae&&(ee!=null||ae!=null)&&(P==="selected"?a.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":it(a,s,P,ee,d,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in c)ee=c[Me],c.hasOwnProperty(Me)&&ee!=null&&!d.hasOwnProperty(Me)&&it(a,s,Me,null,d,ee);for(Z in d)if(ee=d[Z],ae=c[Z],d.hasOwnProperty(Z)&&ee!==ae&&(ee!=null||ae!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(n(137,s));break;default:it(a,s,Z,ee,d,ae)}return;default:if(Bm(s)){for(var st in c)ee=c[st],c.hasOwnProperty(st)&&ee!==void 0&&!d.hasOwnProperty(st)&&Ah(a,s,st,void 0,d,ee);for(se in d)ee=d[se],ae=c[se],!d.hasOwnProperty(se)||ee===ae||ee===void 0&&ae===void 0||Ah(a,s,se,ee,d,ae);return}}for(var F in c)ee=c[F],c.hasOwnProperty(F)&&ee!=null&&!d.hasOwnProperty(F)&&it(a,s,F,null,d,ee);for(de in d)ee=d[de],ae=c[de],!d.hasOwnProperty(de)||ee===ae||ee==null&&ae==null||it(a,s,de,ee,d,ae)}function QN(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mP(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),d=0;d<c.length;d++){var g=c[d],y=g.transferSize,w=g.initiatorType,M=g.duration;if(y&&M&&QN(w)){for(w=0,M=g.responseEnd,d+=1;d<c.length;d++){var P=c[d],Z=P.startTime;if(Z>M)break;var se=P.transferSize,de=P.initiatorType;se&&QN(de)&&(P=P.responseEnd,w+=se*(P<M?1:(M-Z)/(P-Z)))}if(--d,s+=8*(y+w)/(g.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Ch=null,Eh=null;function $u(a){return a.nodeType===9?a:a.ownerDocument}function FN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VN(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Oh(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var zh=null;function pP(){var a=window.event;return a&&a.type==="popstate"?a===zh?!1:(zh=a,!0):(zh=null,!1)}var YN=typeof setTimeout=="function"?setTimeout:void 0,hP=typeof clearTimeout=="function"?clearTimeout:void 0,KN=typeof Promise=="function"?Promise:void 0,vP=typeof queueMicrotask=="function"?queueMicrotask:typeof KN<"u"?function(a){return KN.resolve(null).then(a).catch(gP)}:YN;function gP(a){setTimeout(function(){throw a})}function fi(a){return a==="head"}function XN(a,s){var c=s,d=0;do{var g=c.nextSibling;if(a.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"||c==="/&"){if(d===0){a.removeChild(g),hl(s);return}d--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")d++;else if(c==="html")Do(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Do(c);for(var y=c.firstChild;y;){var w=y.nextSibling,M=y.nodeName;y[Kl]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=w}}else c==="body"&&Do(a.ownerDocument.body);c=g}while(c);hl(s)}function WN(a,s){var c=a;a=0;do{var d=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),d&&d.nodeType===8)if(c=d.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=d}while(c)}function Mh(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Mh(c),qm(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function yP(a,s,c,d){for(;a.nodeType===1;){var g=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[Kl])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==g.rel||a.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=un(a.nextSibling),a===null)break}return null}function xP(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=un(a.nextSibling),a===null))return null;return a}function ZN(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=un(a.nextSibling),a===null))return null;return a}function Dh(a){return a.data==="$?"||a.data==="$~"}function Th(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function bP(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var d=function(){s(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function un(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var Ph=null;function JN(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return un(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function e_(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function t_(a,s,c){switch(s=$u(c),a){case"html":if(a=s.documentElement,!a)throw Error(n(452));return a;case"head":if(a=s.head,!a)throw Error(n(453));return a;case"body":if(a=s.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Do(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);qm(a)}var dn=new Map,r_=new Set;function Uu(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ja=J.d;J.d={f:jP,r:NP,D:_P,C:SP,L:wP,m:AP,X:EP,S:CP,M:OP};function jP(){var a=ja.f(),s=Tu();return a||s}function NP(a){var s=Ps(a);s!==null&&s.tag===5&&s.type==="form"?xj(s):ja.r(a)}var fl=typeof document>"u"?null:document;function n_(a,s,c){var d=fl;if(d&&typeof s=="string"&&s){var g=rn(s);g='link[rel="'+a+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),r_.has(g)||(r_.add(g),a={rel:a,crossOrigin:c,href:s},d.querySelector(g)===null&&(s=d.createElement("link"),cr(s,"link",a),Kt(s),d.head.appendChild(s)))}}function _P(a){ja.D(a),n_("dns-prefetch",a,null)}function SP(a,s){ja.C(a,s),n_("preconnect",a,s)}function wP(a,s,c){ja.L(a,s,c);var d=fl;if(d&&a&&s){var g='link[rel="preload"][as="'+rn(s)+'"]';s==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+rn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+rn(c.imageSizes)+'"]')):g+='[href="'+rn(a)+'"]';var y=g;switch(s){case"style":y=ml(a);break;case"script":y=pl(a)}dn.has(y)||(a=v({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),dn.set(y,a),d.querySelector(g)!==null||s==="style"&&d.querySelector(To(y))||s==="script"&&d.querySelector(Po(y))||(s=d.createElement("link"),cr(s,"link",a),Kt(s),d.head.appendChild(s)))}}function AP(a,s){ja.m(a,s);var c=fl;if(c&&a){var d=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+rn(d)+'"][href="'+rn(a)+'"]',y=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=pl(a)}if(!dn.has(y)&&(a=v({rel:"modulepreload",href:a},s),dn.set(y,a),c.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Po(y)))return}d=c.createElement("link"),cr(d,"link",a),Kt(d),c.head.appendChild(d)}}}function CP(a,s,c){ja.S(a,s,c);var d=fl;if(d&&a){var g=ks(d).hoistableStyles,y=ml(a);s=s||"default";var w=g.get(y);if(!w){var M={loading:0,preload:null};if(w=d.querySelector(To(y)))M.loading=5;else{a=v({rel:"stylesheet",href:a,"data-precedence":s},c),(c=dn.get(y))&&kh(a,c);var P=w=d.createElement("link");Kt(P),cr(P,"link",a),P._p=new Promise(function(Z,se){P.onload=Z,P.onerror=se}),P.addEventListener("load",function(){M.loading|=1}),P.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Hu(w,s,d)}w={type:"stylesheet",instance:w,count:1,state:M},g.set(y,w)}}}function EP(a,s){ja.X(a,s);var c=fl;if(c&&a){var d=ks(c).hoistableScripts,g=pl(a),y=d.get(g);y||(y=c.querySelector(Po(g)),y||(a=v({src:a,async:!0},s),(s=dn.get(g))&&qh(a,s),y=c.createElement("script"),Kt(y),cr(y,"link",a),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function OP(a,s){ja.M(a,s);var c=fl;if(c&&a){var d=ks(c).hoistableScripts,g=pl(a),y=d.get(g);y||(y=c.querySelector(Po(g)),y||(a=v({src:a,async:!0,type:"module"},s),(s=dn.get(g))&&qh(a,s),y=c.createElement("script"),Kt(y),cr(y,"link",a),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function a_(a,s,c,d){var g=(g=U.current)?Uu(g):null;if(!g)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=ml(c.href),c=ks(g).hoistableStyles,d=c.get(s),d||(d={type:"style",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=ml(c.href);var y=ks(g).hoistableStyles,w=y.get(a);if(w||(g=g.ownerDocument||g,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,w),(y=g.querySelector(To(a)))&&!y._p&&(w.instance=y,w.state.loading=5),dn.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},dn.set(a,c),y||zP(g,a,c,w.state))),s&&d===null)throw Error(n(528,""));return w}if(s&&d!==null)throw Error(n(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=pl(c),c=ks(g).hoistableScripts,d=c.get(s),d||(d={type:"script",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function ml(a){return'href="'+rn(a)+'"'}function To(a){return'link[rel="stylesheet"]['+a+"]"}function i_(a){return v({},a,{"data-precedence":a.precedence,precedence:null})}function zP(a,s,c,d){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=a.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),cr(s,"link",c),Kt(s),a.head.appendChild(s))}function pl(a){return'[src="'+rn(a)+'"]'}function Po(a){return"script[async]"+a}function s_(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var d=a.querySelector('style[data-href~="'+rn(c.href)+'"]');if(d)return s.instance=d,Kt(d),d;var g=v({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),Kt(d),cr(d,"style",g),Hu(d,c.precedence,a),s.instance=d;case"stylesheet":g=ml(c.href);var y=a.querySelector(To(g));if(y)return s.state.loading|=4,s.instance=y,Kt(y),y;d=i_(c),(g=dn.get(g))&&kh(d,g),y=(a.ownerDocument||a).createElement("link"),Kt(y);var w=y;return w._p=new Promise(function(M,P){w.onload=M,w.onerror=P}),cr(y,"link",d),s.state.loading|=4,Hu(y,c.precedence,a),s.instance=y;case"script":return y=pl(c.src),(g=a.querySelector(Po(y)))?(s.instance=g,Kt(g),g):(d=c,(g=dn.get(y))&&(d=v({},c),qh(d,g)),a=a.ownerDocument||a,g=a.createElement("script"),Kt(g),cr(g,"link",d),a.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,Hu(d,c.precedence,a));return s.instance}function Hu(a,s,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,y=g,w=0;w<d.length;w++){var M=d[w];if(M.dataset.precedence===s)y=M;else if(y!==g)break}y?y.parentNode.insertBefore(a,y.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function kh(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function qh(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Gu=null;function l_(a,s,c){if(Gu===null){var d=new Map,g=Gu=new Map;g.set(c,d)}else g=Gu,d=g.get(c),d||(d=new Map,g.set(c,d));if(d.has(a))return d;for(d.set(a,null),c=c.getElementsByTagName(a),g=0;g<c.length;g++){var y=c[g];if(!(y[Kl]||y[ir]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(s)||"";w=a+w;var M=d.get(w);M?M.push(y):d.set(w,[y])}}return d}function o_(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function MP(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(a=s.disabled,typeof s.precedence=="string"&&a==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function c_(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function DP(a,s,c,d){if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=ml(d.href),y=s.querySelector(To(g));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Qu.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=y,Kt(y);return}y=s.ownerDocument||s,d=i_(d),(g=dn.get(g))&&kh(d,g),y=y.createElement("link"),Kt(y);var w=y;w._p=new Promise(function(M,P){w.onload=M,w.onerror=P}),cr(y,"link",d),c.instance=y}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Qu.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var Rh=0;function TP(a,s){return a.stylesheets&&a.count===0&&Vu(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var d=setTimeout(function(){if(a.stylesheets&&Vu(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4+s);0<a.imgBytes&&Rh===0&&(Rh=62500*mP());var g=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Vu(a,a.stylesheets),a.unsuspend)){var y=a.unsuspend;a.unsuspend=null,y()}},(a.imgBytes>Rh?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(g)}}:null}function Qu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vu(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Fu=null;function Vu(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Fu=new Map,s.forEach(PP,a),Fu=null,Qu.call(a))}function PP(a,s){if(!(s.state.loading&4)){var c=Fu.get(a);if(c)var d=c.get(null);else{c=new Map,Fu.set(a,c);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var w=g[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(c.set(w.dataset.precedence,w),d=w)}d&&c.set(null,d)}g=s.instance,w=g.getAttribute("data-precedence"),y=c.get(w)||d,y===d&&c.set(null,g),c.set(w,g),this.count++,d=Qu.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),y?y.parentNode.insertBefore(g,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),s.state.loading|=4}}var ko={$$typeof:C,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function kP(a,s,c,d,g,y,w,M,P){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ct(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ct(0),this.hiddenUpdates=ct(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function u_(a,s,c,d,g,y,w,M,P,Z,se,de){return a=new kP(a,s,c,w,P,Z,se,de,M),s=1,y===!0&&(s|=24),y=$r(3,null,null,s),a.current=y,y.stateNode=a,s=vp(),s.refCount++,a.pooledCache=s,s.refCount++,y.memoizedState={element:d,isDehydrated:c,cache:s},bp(y),a}function d_(a){return a?(a=Qs,a):Qs}function f_(a,s,c,d,g,y){g=d_(g),d.context===null?d.context=g:d.pendingContext=g,d=ti(s),d.payload={element:c},y=y===void 0?null:y,y!==null&&(d.callback=y),c=ri(a,d,s),c!==null&&(Pr(c,a,s),mo(c,a,s))}function m_(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function Lh(a,s){m_(a,s),(a=a.alternate)&&m_(a,s)}function p_(a){if(a.tag===13||a.tag===31){var s=Ii(a,67108864);s!==null&&Pr(s,a,67108864),Lh(a,67108864)}}function h_(a){if(a.tag===13||a.tag===31){var s=Fr();s=Tm(s);var c=Ii(a,s);c!==null&&Pr(c,a,s),Lh(a,s)}}var Yu=!0;function qP(a,s,c,d){var g=k.T;k.T=null;var y=J.p;try{J.p=2,Ih(a,s,c,d)}finally{J.p=y,k.T=g}}function RP(a,s,c,d){var g=k.T;k.T=null;var y=J.p;try{J.p=8,Ih(a,s,c,d)}finally{J.p=y,k.T=g}}function Ih(a,s,c,d){if(Yu){var g=Bh(d);if(g===null)wh(a,s,d,Ku,c),g_(a,d);else if(IP(g,a,s,c,d))d.stopPropagation();else if(g_(a,d),s&4&&-1<LP.indexOf(a)){for(;g!==null;){var y=Ps(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=na(y.pendingLanes);if(w!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;w;){var P=1<<31-br(w);M.entanglements[1]|=P,w&=~P}Hn(y),(Je&6)===0&&(Mu=ze()+500,Oo(0))}}break;case 31:case 13:M=Ii(y,2),M!==null&&Pr(M,y,2),Tu(),Lh(y,2)}if(y=Bh(d),y===null&&wh(a,s,d,Ku,c),y===g)break;g=y}g!==null&&d.stopPropagation()}else wh(a,s,d,null,c)}}function Bh(a){return a=Um(a),$h(a)}var Ku=null;function $h(a){if(Ku=null,a=Ts(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=u(s),a!==null)return a;a=null}else if(c===31){if(a=f(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Ku=a,null}function v_(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case yt:return 2;case mr:return 8;case Rn:case Es:return 32;case en:return 268435456;default:return 32}default:return 32}}var Uh=!1,mi=null,pi=null,hi=null,qo=new Map,Ro=new Map,vi=[],LP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g_(a,s){switch(a){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":qo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(s.pointerId)}}function Lo(a,s,c,d,g,y){return a===null||a.nativeEvent!==y?(a={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:y,targetContainers:[g]},s!==null&&(s=Ps(s),s!==null&&p_(s)),a):(a.eventSystemFlags|=d,s=a.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),a)}function IP(a,s,c,d,g){switch(s){case"focusin":return mi=Lo(mi,a,s,c,d,g),!0;case"dragenter":return pi=Lo(pi,a,s,c,d,g),!0;case"mouseover":return hi=Lo(hi,a,s,c,d,g),!0;case"pointerover":var y=g.pointerId;return qo.set(y,Lo(qo.get(y)||null,a,s,c,d,g)),!0;case"gotpointercapture":return y=g.pointerId,Ro.set(y,Lo(Ro.get(y)||null,a,s,c,d,g)),!0}return!1}function y_(a){var s=Ts(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=u(c),s!==null){a.blockedOn=s,Db(a.priority,function(){h_(c)});return}}else if(s===31){if(s=f(c),s!==null){a.blockedOn=s,Db(a.priority,function(){h_(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xu(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=Bh(a.nativeEvent);if(c===null){c=a.nativeEvent;var d=new c.constructor(c.type,c);$m=d,c.target.dispatchEvent(d),$m=null}else return s=Ps(c),s!==null&&p_(s),a.blockedOn=c,!1;s.shift()}return!0}function x_(a,s,c){Xu(a)&&c.delete(s)}function BP(){Uh=!1,mi!==null&&Xu(mi)&&(mi=null),pi!==null&&Xu(pi)&&(pi=null),hi!==null&&Xu(hi)&&(hi=null),qo.forEach(x_),Ro.forEach(x_)}function Wu(a,s){a.blockedOn===s&&(a.blockedOn=null,Uh||(Uh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,BP)))}var Zu=null;function b_(a){Zu!==a&&(Zu=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Zu===a&&(Zu=null);for(var s=0;s<a.length;s+=3){var c=a[s],d=a[s+1],g=a[s+2];if(typeof d!="function"){if($h(d||c)===null)continue;break}var y=Ps(c);y!==null&&(a.splice(s,3),s-=3,Bp(y,{pending:!0,data:g,method:c.method,action:d},d,g))}}))}function hl(a){function s(P){return Wu(P,a)}mi!==null&&Wu(mi,a),pi!==null&&Wu(pi,a),hi!==null&&Wu(hi,a),qo.forEach(s),Ro.forEach(s);for(var c=0;c<vi.length;c++){var d=vi[c];d.blockedOn===a&&(d.blockedOn=null)}for(;0<vi.length&&(c=vi[0],c.blockedOn===null);)y_(c),c.blockedOn===null&&vi.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var g=c[d],y=c[d+1],w=g[Er]||null;if(typeof y=="function")w||b_(c);else if(w){var M=null;if(y&&y.hasAttribute("formAction")){if(g=y,w=y[Er]||null)M=w.formAction;else if($h(g)!==null)continue}else M=w.action;typeof M=="function"?c[d+1]=M:(c.splice(d,3),d-=3),b_(c)}}}function j_(){function a(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return g=w})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),d||setTimeout(c,20)}function c(){if(!d&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,g=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function Hh(a){this._internalRoot=a}Ju.prototype.render=Hh.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(n(409));var c=s.current,d=Fr();f_(c,d,a,s,null,null)},Ju.prototype.unmount=Hh.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;f_(a.current,2,null,a,null,null),Tu(),s[Ds]=null}};function Ju(a){this._internalRoot=a}Ju.prototype.unstable_scheduleHydration=function(a){if(a){var s=Mb();a={blockedOn:null,target:a,priority:s};for(var c=0;c<vi.length&&s!==0&&s<vi[c].priority;c++);vi.splice(c,0,a),c===0&&y_(a)}};var N_=t.version;if(N_!=="19.2.4")throw Error(n(527,N_,"19.2.4"));J.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=p(s),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var $P={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ed.isDisabled&&ed.supportsFiber)try{pr=ed.inject($P),pt=ed}catch{}}return Bo.createRoot=function(a,s){if(!l(a))throw Error(n(299));var c=!1,d="",g=Oj,y=zj,w=Mj;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=u_(a,1,!1,null,null,c,d,null,g,y,w,j_),a[Ds]=s.current,Sh(a),new Hh(s)},Bo.hydrateRoot=function(a,s,c){if(!l(a))throw Error(n(299));var d=!1,g="",y=Oj,w=zj,M=Mj,P=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(M=c.onRecoverableError),c.formState!==void 0&&(P=c.formState)),s=u_(a,1,!0,s,c??null,d,g,P,y,w,M,j_),s.context=d_(null),c=s.current,d=Fr(),d=Tm(d),g=ti(d),g.callback=null,ri(c,g,d),c=d,s.current.lanes=c,hr(s,c),Hn(s),a[Ds]=s.current,Sh(a),new Ju(s)},Bo.version="19.2.4",Bo}var T_;function Hk(){if(T_)return Yh.exports;T_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yh.exports=Uk(),Yh.exports}var Gk=Hk();const Qk=La(Gk),Fk={apiKey:"AIzaSyDgk_1graNBFkIURTJnyLZTZ1nyxi7slUo",authDomain:"pedaclic.firebaseapp.com",projectId:"pedaclic",storageBucket:"pedaclic.firebasestorage.app",messagingSenderId:"863649621890",appId:"1:863649621890:web:6ab56a8c8db111e3a9119b"},Qy=KP(Fk),td=XP(Qy),he=WP(Qy,{localCache:ZP({tabManager:ek()})}),P_=JP(Qy),k_={"auth/email-already-in-use":"Cette adresse email est dj utilise.","auth/invalid-email":"Adresse email invalide.","auth/operation-not-allowed":"Opration non autorise.","auth/weak-password":"Le mot de passe doit contenir au moins 6 caractres.","auth/user-disabled":"Ce compte a t dsactiv.","auth/user-not-found":"Aucun compte associ  cette adresse email.","auth/wrong-password":"Mot de passe incorrect.","auth/too-many-requests":"Trop de tentatives. Veuillez ressayer plus tard.","auth/network-request-failed":"Erreur de connexion. Vrifiez votre connexion internet.",default:"Une erreur est survenue. Veuillez ressayer."},q_=e=>k_[e]||k_.default,JC=j.createContext(null),Vk=({children:e})=>{const[t,r]=j.useState(null),[n,l]=j.useState(!0),o=async x=>{try{const b=await yr(De(he,"users",x));if(b.exists()){const _=b.data();return{uid:x,email:_.email,displayName:_.displayName,role:_.role,isPremium:_.isPremium||!1,subscriptionEnd:_.subscriptionEnd?.toDate()||null,photoURL:_.photoURL,createdAt:_.createdAt?.toDate()||new Date,lastLogin:_.lastLogin?.toDate()}}return null}catch(b){return console.error("Erreur lors de la rcupration des donnes utilisateur:",b),null}},u=async(x,b)=>{const _=De(he,"users",x.uid);(await yr(_)).exists()?await _t(_,{lastLogin:jt()}):await Pf(_,{email:x.email,displayName:x.displayName||b?.displayName||"",role:b?.role||"eleve",isPremium:!1,photoURL:x.photoURL,createdAt:jt(),lastLogin:jt()})},f=async(x,b)=>{try{const _=await ik(td,x,b);await u(_.user)}catch(_){throw new Error(q_(_.code))}},m=async x=>{try{if(x.password!==x.confirmPassword)throw new Error("Les mots de passe ne correspondent pas.");const b=await nk(td,x.email,x.password);await ak(b.user,{displayName:x.displayName}),await u(b.user,{displayName:x.displayName,role:x.role})}catch(b){throw b.message?b:new Error(q_(b.code))}},p=async()=>{try{await rk(td),r(null)}catch{throw new Error("Erreur lors de la dconnexion.")}},h=async x=>{if(!t)throw new Error("Aucun utilisateur connect.");try{const b=De(he,"users",t.uid);await _t(b,{...x,updatedAt:jt()}),r(_=>_?{..._,...x}:null)}catch{throw new Error("Erreur lors de la mise  jour du profil.")}};j.useEffect(()=>{const x=tk(td,async b=>{if(b){const _=await o(b.uid);r(_)}else r(null);l(!1)});return()=>x()},[]);const v={currentUser:t,loading:n,login:f,register:m,logout:p,updateProfile:h};return i.jsx(JC.Provider,{value:v,children:n?i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Chargement..."})]}):e})},Ht=()=>{const e=j.useContext(JC);if(!e)throw new Error("useAuth doit tre utilis  l'intrieur d'un AuthProvider");return e},Fy=({children:e,allowedRoles:t,requirePremium:r=!1})=>{const{currentUser:n,loading:l}=Ht();return l?i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Vrification des autorisations..."})]}):n?t&&!t.includes(n.role)?i.jsxs("div",{className:"error-container",children:[i.jsx("h2",{children:"Accs non autoris"}),i.jsx("p",{children:"Vous n'avez pas les permissions ncessaires pour accder  cette page."}),i.jsx("a",{href:"/",className:"btn btn-primary",children:"Retour  l'accueil"})]}):r&&!n.isPremium?i.jsxs("div",{className:"error-container premium-required",children:[i.jsx("h2",{children:"Contenu Premium"}),i.jsx("p",{children:"Cette ressource est rserve aux abonns Premium."}),i.jsxs("div",{className:"premium-cta",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"2 000 FCFA/mois"})," ou ",i.jsx("strong",{children:"20 000 FCFA/an"})]}),i.jsx("a",{href:"/premium",className:"btn btn-premium",children:"Devenir Premium"})]})]}):i.jsx(i.Fragment,{children:e}):i.jsxs("div",{className:"error-container",children:[i.jsx("h2",{children:"Accs refus"}),i.jsx("p",{children:"Vous devez tre connect pour accder  cette page."}),i.jsx("a",{href:"/connexion",className:"btn btn-primary",children:"Se connecter"})]})},wn=({children:e})=>i.jsx(Fy,{allowedRoles:["admin"],children:e}),Yk=({children:e})=>i.jsx(Fy,{allowedRoles:["admin","prof"],children:e}),Kk=()=>{const{currentUser:e,logout:t,loading:r}=Ht(),n=Zr(),l=Df(),[o,u]=j.useState(!1),[f,m]=j.useState(!1),[p,h]=j.useState(!1),v=j.useRef(null),x=[{path:"/",label:"Accueil",icon:i.jsx(Rg,{size:18})},{path:"/disciplines",label:"Disciplines",icon:i.jsx(Mn,{size:18})},{path:"/quiz",label:"Quiz",icon:i.jsx(Ol,{size:18}),requireAuth:!0,requirePremium:!0},{path:e?.role==="eleve"?"/eleve/dashboard":e?.role==="prof"?"/prof/dashboard":"/admin",label:"Tableau de bord",icon:i.jsx(w_,{size:18}),requireAuth:!0},{path:"/generateur",label:"Gnrateur IA",icon:i.jsx(ck,{size:18}),requireAuth:!0,requirePremium:!0},{path:"/parent/dashboard",label:"Espace Parent",icon:i.jsx(os,{size:18}),requireAuth:!0,requireRole:["parent"]}];j.useEffect(()=>{const E=z=>{v.current&&!v.current.contains(z.target)&&m(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]),j.useEffect(()=>{u(!1),m(!1)},[l.pathname]),j.useEffect(()=>(o?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[o]);const b=async()=>{try{h(!0),await t(),m(!1),n("/")}catch(E){console.error("Erreur lors de la dconnexion:",E)}finally{h(!1)}},_=()=>{u(!o)},N=()=>{m(!f)},S=E=>!(E.requireAuth&&!e||E.requirePremium&&e&&!e.isPremium||E.requireRole&&e&&!E.requireRole.includes(e.role)),A=E=>E==="/"?l.pathname==="/":l.pathname.startsWith(E),O=E=>({admin:"Administrateur",prof:"Professeur",eleve:"lve",parent:"Parent"})[E]||E,C=()=>e?e.displayName?e.displayName.split(" ").map(z=>z[0]).join("").toUpperCase().slice(0,2):e.email[0].toUpperCase():"?";return i.jsxs("header",{className:"header",children:[i.jsxs("div",{className:"header__container",children:[i.jsxs(ke,{to:"/",className:"header__logo",children:[i.jsx(Ol,{className:"header__logo-icon",size:32}),i.jsxs("div",{className:"header__logo-text",children:[i.jsx("span",{className:"header__logo-name",children:"PedaClic"}),i.jsx("span",{className:"header__logo-tagline",children:"L'cole en un clic"})]})]}),i.jsx("nav",{className:"header__nav header__nav--desktop",children:i.jsx("ul",{className:"header__nav-list",children:x.map(E=>S(E)&&i.jsx("li",{className:"header__nav-item",children:i.jsxs(ke,{to:E.path,className:`header__nav-link ${A(E.path)?"header__nav-link--active":""}`,children:[E.icon,i.jsx("span",{children:E.label}),E.requirePremium&&i.jsx(Zo,{size:14,className:"header__premium-badge"})]})},E.path))})}),i.jsxs("div",{className:"header__actions",children:[r?i.jsx("div",{className:"header__loading",children:i.jsx("div",{className:"header__spinner"})}):e?i.jsxs("div",{className:"header__user",ref:v,children:[e.isPremium&&i.jsxs("span",{className:"header__premium-tag",children:[i.jsx(Zo,{size:14}),"Premium"]}),i.jsxs("button",{className:"header__user-button",onClick:N,"aria-expanded":f,"aria-haspopup":"true",children:[i.jsx("div",{className:"header__avatar",children:e.photoURL?i.jsx("img",{src:e.photoURL,alt:e.displayName||"Avatar",className:"header__avatar-img"}):i.jsx("span",{className:"header__avatar-initials",children:C()})}),i.jsx("span",{className:"header__user-name",children:e.displayName||e.email.split("@")[0]}),i.jsx(Md,{size:16,className:`header__chevron ${f?"header__chevron--open":""}`})]}),f&&i.jsxs("div",{className:"header__dropdown",children:[i.jsxs("div",{className:"header__dropdown-header",children:[i.jsx("p",{className:"header__dropdown-email",children:e.email}),i.jsx("span",{className:`header__dropdown-role header__dropdown-role--${e.role}`,children:O(e.role)})]}),i.jsx("div",{className:"header__dropdown-divider"}),i.jsxs("nav",{className:"header__dropdown-nav",children:[i.jsxs(ke,{to:e.role==="eleve"?"/eleve/dashboard":e.role==="prof"?"/prof/dashboard":"/admin",className:"header__dropdown-link",children:[i.jsx(w_,{size:18}),i.jsx("span",{children:"Tableau de bord"})]}),e.role==="eleve"&&i.jsxs(ke,{to:"/eleve/suivi",className:"header__dropdown-link",children:[i.jsx(os,{size:18}),i.jsx("span",{children:"Mes points  amliorer"})]}),e.role==="parent"&&i.jsxs(ke,{to:"/parent/dashboard",className:"header__dropdown-link",children:[i.jsx(os,{size:18}),i.jsx("span",{children:"Espace Parent"})]}),i.jsxs(ke,{to:"/profil",className:"header__dropdown-link",children:[i.jsx(uk,{size:18}),i.jsx("span",{children:"Mon profil"})]}),e.role==="admin"&&i.jsxs(ke,{to:"/admin",className:"header__dropdown-link",children:[i.jsx(dk,{size:18}),i.jsx("span",{children:"Administration"})]}),!e.isPremium&&i.jsxs(ke,{to:"/premium",className:"header__dropdown-link header__dropdown-link--premium",children:[i.jsx(Zo,{size:18}),i.jsx("span",{children:"Passer Premium"})]})]}),i.jsx("div",{className:"header__dropdown-divider"}),i.jsxs("button",{className:"header__dropdown-logout",onClick:b,disabled:p,children:[i.jsx(A_,{size:18}),i.jsx("span",{children:p?"Dconnexion...":"Se dconnecter"})]})]})]}):i.jsxs("div",{className:"header__auth-buttons",children:[i.jsx(ke,{to:"/connexion",className:"header__btn header__btn--outline",children:"Connexion"}),i.jsx(ke,{to:"/inscription",className:"header__btn header__btn--primary",children:"S'inscrire"})]}),i.jsx("button",{className:"header__mobile-toggle",onClick:_,"aria-label":o?"Fermer le menu":"Ouvrir le menu","aria-expanded":o,children:o?i.jsx(Si,{size:24}):i.jsx(fk,{size:24})})]})]}),i.jsxs("div",{className:`header__mobile-menu ${o?"header__mobile-menu--open":""}`,children:[i.jsx("div",{className:"header__mobile-overlay",onClick:()=>u(!1)}),i.jsxs("div",{className:"header__mobile-content",children:[i.jsx("nav",{className:"header__mobile-nav",children:i.jsx("ul",{className:"header__mobile-list",children:x.map(E=>S(E)&&i.jsx("li",{className:"header__mobile-item",children:i.jsxs(ke,{to:E.path,className:`header__mobile-link ${A(E.path)?"header__mobile-link--active":""}`,children:[E.icon,i.jsx("span",{children:E.label}),E.requirePremium&&i.jsx(Zo,{size:14,className:"header__premium-badge"})]})},E.path))})}),!e&&i.jsxs("div",{className:"header__mobile-auth",children:[i.jsx(ke,{to:"/connexion",className:"header__btn header__btn--outline header__btn--block",children:"Connexion"}),i.jsx(ke,{to:"/inscription",className:"header__btn header__btn--primary header__btn--block",children:"S'inscrire"})]}),e&&i.jsxs("div",{className:"header__mobile-user",children:[i.jsxs("div",{className:"header__mobile-user-info",children:[i.jsx("div",{className:"header__avatar header__avatar--large",children:e.photoURL?i.jsx("img",{src:e.photoURL,alt:e.displayName||"Avatar",className:"header__avatar-img"}):i.jsx("span",{className:"header__avatar-initials",children:C()})}),i.jsxs("div",{className:"header__mobile-user-details",children:[i.jsx("p",{className:"header__mobile-user-name",children:e.displayName||e.email.split("@")[0]}),i.jsx("p",{className:"header__mobile-user-email",children:e.email})]})]}),i.jsxs("button",{className:"header__mobile-logout",onClick:b,disabled:p,children:[i.jsx(A_,{size:18}),i.jsx("span",{children:p?"Dconnexion...":"Se dconnecter"})]})]})]})]})]})},Xk=()=>{const e=new Date().getFullYear(),t=[{label:"Accueil",path:"/"},{label:"Disciplines",path:"/disciplines"},{label:"Quiz Premium",path:"/quiz"},{label:"Tarifs",path:"/premium"},{label:"Tableau de bord",path:"/dashboard"}],r=[{label:"Cours en ligne",path:"/disciplines"},{label:"Exercices corrigs",path:"/disciplines"},{label:"Annales examens",path:"/disciplines"},{label:"Fiches de rvision",path:"/disciplines"}],n=[{name:"Facebook",url:"https://facebook.com/pedaclic",icon:i.jsx(yk,{size:20})},{name:"Twitter",url:"https://twitter.com/pedaclic",icon:i.jsx(xk,{size:20})},{name:"Instagram",url:"https://instagram.com/pedaclic",icon:i.jsx(bk,{size:20})},{name:"LinkedIn",url:"https://linkedin.com/company/pedaclic",icon:i.jsx(jk,{size:20})},{name:"YouTube",url:"https://youtube.com/@pedaclic",icon:i.jsx(Nk,{size:20})}];return i.jsxs("footer",{className:"footer",children:[i.jsx("div",{className:"footer__main",children:i.jsxs("div",{className:"footer__container",children:[i.jsxs("div",{className:"footer__column footer__column--about",children:[i.jsxs(ke,{to:"/",className:"footer__logo",children:[i.jsx(Ol,{className:"footer__logo-icon",size:36}),i.jsxs("div",{className:"footer__logo-text",children:[i.jsx("span",{className:"footer__logo-name",children:"PedaClic"}),i.jsx("span",{className:"footer__logo-tagline",children:"L'cole en un clic"})]})]}),i.jsx("p",{className:"footer__description",children:"PedaClic est la plateforme ducative de rfrence au Sngal. Nous accompagnons les lves du collge au lyce avec des cours, exercices et quiz de qualit."}),i.jsxs("div",{className:"footer__stats",children:[i.jsxs("div",{className:"footer__stat",children:[i.jsx(Mn,{size:18}),i.jsx("span",{children:"500+ cours"})]}),i.jsxs("div",{className:"footer__stat",children:[i.jsx(_d,{size:18}),i.jsx("span",{children:"10 000+ lves"})]})]})]}),i.jsxs("div",{className:"footer__column",children:[i.jsxs("h3",{className:"footer__title",children:[i.jsx("span",{className:"footer__title-icon",children:""}),"Plateforme"]}),i.jsx("nav",{className:"footer__nav",children:i.jsx("ul",{className:"footer__list",children:t.map((l,o)=>i.jsx("li",{className:"footer__item",children:i.jsx(ke,{to:l.path,className:"footer__link",children:l.label})},o))})})]}),i.jsxs("div",{className:"footer__column",children:[i.jsxs("h3",{className:"footer__title",children:[i.jsx("span",{className:"footer__title-icon",children:""}),"Ressources"]}),i.jsx("nav",{className:"footer__nav",children:i.jsx("ul",{className:"footer__list",children:r.map((l,o)=>i.jsx("li",{className:"footer__item",children:i.jsx(ke,{to:l.path,className:"footer__link",children:l.label})},o))})})]}),i.jsxs("div",{className:"footer__column",children:[i.jsxs("h3",{className:"footer__title",children:[i.jsx("span",{className:"footer__title-icon",children:""}),"Contact"]}),i.jsxs("div",{className:"footer__contact",children:[i.jsxs("a",{href:"mailto:contact@pedaclic.sn",className:"footer__contact-item",children:[i.jsx(mk,{size:16,className:"footer__contact-icon"}),i.jsx("span",{children:"contact@pedaclic.sn"})]}),i.jsxs("a",{href:"tel:+221770000000",className:"footer__contact-item",children:[i.jsx(pk,{size:16,className:"footer__contact-icon"}),i.jsx("span",{children:"+221 77 000 00 00"})]}),i.jsxs("div",{className:"footer__contact-item",children:[i.jsx(hk,{size:16,className:"footer__contact-icon"}),i.jsx("span",{children:"Dakar, Sngal"})]})]}),i.jsxs("div",{className:"footer__social",children:[i.jsx("h4",{className:"footer__social-title",children:"Suivez-nous"}),i.jsx("div",{className:"footer__social-links",children:n.map((l,o)=>i.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"footer__social-link",title:l.name,children:l.icon},o))})]})]})]})}),i.jsx("div",{className:"footer__bottom",children:i.jsxs("div",{className:"footer__container footer__bottom-content",children:[i.jsxs("p",{className:"footer__copyright",children:[" ",e," PedaClic. Tous droits rservs."]}),i.jsxs("p",{className:"footer__made-with",children:["Fait avec ",i.jsx(vk,{size:14,className:"footer__heart"})," au Sngal "]}),i.jsxs("nav",{className:"footer__legal",children:[i.jsxs(ke,{to:"/mentions-legales",className:"footer__legal-link",children:[i.jsx(gk,{size:14})," Mentions lgales"]}),i.jsxs(ke,{to:"/confidentialite",className:"footer__legal-link",children:[i.jsx(Hy,{size:14})," Confidentialit"]}),i.jsxs(ke,{to:"/aide",className:"footer__legal-link",children:[i.jsx(Sd,{size:14})," Aide"]})]})]})})]})},An=({children:e,hideHeader:t=!1,hideFooter:r=!1,className:n=""})=>i.jsxs("div",{className:"layout",children:[!t&&i.jsx(Kk,{}),i.jsx("main",{className:`layout__main ${t?"":"layout__main--with-header"} ${n}`,children:e}),!r&&i.jsx(Xk,{})]}),Wk=()=>{const{currentUser:e}=Ht();return i.jsxs("div",{className:"home-page",children:[i.jsxs("section",{className:"home-page__hero",children:[i.jsxs("div",{className:"home-page__hero-content",children:[i.jsxs("div",{className:"home-page__hero-badge",children:[i.jsx(Yr,{size:14}),i.jsx("span",{children:"Plateforme N1 au Sngal"})]}),i.jsxs("h1",{className:"home-page__hero-title",children:["Russis tes examens avec",i.jsx("span",{className:"home-page__hero-highlight",children:" PedaClic"})]}),i.jsx("p",{className:"home-page__hero-subtitle",children:"La plateforme ducative qui accompagne les lves sngalais du collge au lyce avec des cours, exercices et quiz de qualit."}),i.jsx("div",{className:"home-page__hero-cta",children:e?i.jsxs(ke,{to:e.role==="eleve"?"/eleve/dashboard":e.role==="prof"?"/prof/dashboard":"/admin",className:"home-page__btn home-page__btn--primary",children:["  Accder  mon espace",i.jsx(es,{size:20})]}):i.jsxs(i.Fragment,{children:[i.jsxs(ke,{to:"/register",className:"home-page__btn home-page__btn--primary",children:["Commencer gratuitement",i.jsx(es,{size:20})]}),i.jsxs(ke,{to:"/disciplines",className:"home-page__btn home-page__btn--outline",children:[i.jsx(ac,{size:18}),"Dcouvrir les cours"]})]})}),i.jsxs("div",{className:"home-page__hero-stats",children:[i.jsxs("div",{className:"home-page__hero-stat",children:[i.jsx("strong",{children:"10 000+"}),i.jsx("span",{children:"lves inscrits"})]}),i.jsxs("div",{className:"home-page__hero-stat",children:[i.jsx("strong",{children:"500+"}),i.jsx("span",{children:"Cours disponibles"})]}),i.jsxs("div",{className:"home-page__hero-stat",children:[i.jsx("strong",{children:"95%"}),i.jsx("span",{children:"Taux de russite"})]})]})]}),i.jsx("div",{className:"home-page__hero-image",children:i.jsxs("div",{className:"home-page__hero-illustration",children:[i.jsx(Ol,{size:120}),i.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--1",children:""}),i.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--2",children:""}),i.jsx("div",{className:"home-page__hero-floating home-page__hero-floating--3",children:""})]})})]}),i.jsx("section",{className:"home-page__levels",children:i.jsxs("div",{className:"home-page__container",children:[i.jsx("h2",{className:"home-page__section-title",children:"Tous les niveaux, toutes les matires"}),i.jsx("p",{className:"home-page__section-subtitle",children:"Du collge au lyce, prpare tes examens avec confiance"}),i.jsxs("div",{className:"home-page__levels-grid",children:[i.jsxs(ke,{to:"/disciplines?niveau=college",className:"home-page__level-card",children:[i.jsx("div",{className:"home-page__level-icon home-page__level-icon--college",children:""}),i.jsx("h3",{children:"Collge"}),i.jsx("p",{children:"6me  3me"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx(Et,{size:16})," Prparation au BFEM"]}),i.jsxs("li",{children:[i.jsx(Et,{size:16})," 9 matires disponibles"]}),i.jsxs("li",{children:[i.jsx(Et,{size:16})," Exercices corrigs"]})]}),i.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",i.jsx(es,{size:16})]})]}),i.jsxs(ke,{to:"/disciplines?niveau=lycee",className:"home-page__level-card",children:[i.jsx("div",{className:"home-page__level-icon home-page__level-icon--lycee",children:""}),i.jsx("h3",{children:"Lyce"}),i.jsx("p",{children:"2nde  Terminale"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx(Et,{size:16})," Prparation au BAC"]}),i.jsxs("li",{children:[i.jsx(Et,{size:16})," 12 matires disponibles"]}),i.jsxs("li",{children:[i.jsx(Et,{size:16})," Annales d'examens"]})]}),i.jsxs("span",{className:"home-page__level-link",children:["Voir les cours ",i.jsx(es,{size:16})]})]})]})]})}),i.jsx("section",{className:"home-page__features",children:i.jsxs("div",{className:"home-page__container",children:[i.jsx("h2",{className:"home-page__section-title",children:"Pourquoi choisir PedaClic ?"}),i.jsx("p",{className:"home-page__section-subtitle",children:"Des outils modernes pour une ducation de qualit"}),i.jsxs("div",{className:"home-page__features-grid",children:[i.jsxs("div",{className:"home-page__feature-card",children:[i.jsx("div",{className:"home-page__feature-icon",children:i.jsx(Mn,{size:28})}),i.jsx("h3",{children:"Cours complets"}),i.jsx("p",{children:"Des cours structurs et conformes au programme sngalais, rdigs par des enseignants expriments."})]}),i.jsxs("div",{className:"home-page__feature-card",children:[i.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--secondary",children:i.jsx(XC,{size:28})}),i.jsx("h3",{children:"Quiz interactifs"}),i.jsx("p",{children:"Testez vos connaissances avec des quiz adapts  chaque niveau et obtenez un feedback instantan."})]}),i.jsxs("div",{className:"home-page__feature-card",children:[i.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--warning",children:i.jsx(WC,{size:28})}),i.jsx("h3",{children:"Suivi de progression"}),i.jsx("p",{children:"Visualisez vos progrs et identifiez vos points faibles pour cibler vos rvisions."})]}),i.jsxs("div",{className:"home-page__feature-card",children:[i.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--success",children:i.jsx(Hy,{size:28})}),i.jsx("h3",{children:"Contenu vrifi"}),i.jsx("p",{children:"Tous nos contenus sont valids par des professeurs certifis pour garantir leur qualit."})]}),i.jsxs("div",{className:"home-page__feature-card",children:[i.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--info",children:i.jsx(zl,{size:28})}),i.jsx("h3",{children:"Accessible 24/7"}),i.jsx("p",{children:"tudiez  votre rythme, o que vous soyez, sur ordinateur, tablette ou smartphone."})]}),i.jsxs("div",{className:"home-page__feature-card",children:[i.jsx("div",{className:"home-page__feature-icon home-page__feature-icon--premium",children:i.jsx(Ci,{size:28})}),i.jsx("h3",{children:"Certificats"}),i.jsx("p",{children:"Obtenez des certificats de russite pour valoriser vos comptences acquises."})]})]})]})}),i.jsx("section",{className:"home-page__premium",children:i.jsx("div",{className:"home-page__container",children:i.jsxs("div",{className:"home-page__premium-content",children:[i.jsxs("div",{className:"home-page__premium-text",children:[i.jsx("span",{className:"home-page__premium-badge",children:" Premium"}),i.jsx("h2",{children:"Passez  la vitesse suprieure"}),i.jsxs("p",{children:["Accdez  tous les quiz, exercices corrigs et ressources exclusives pour seulement ",i.jsx("strong",{children:"2 000 FCFA/mois"}),"."]}),i.jsxs("ul",{className:"home-page__premium-features",children:[i.jsxs("li",{children:[i.jsx(Et,{size:18})," Quiz illimits dans toutes les matires"]}),i.jsxs("li",{children:[i.jsx(Et,{size:18})," Corrections dtailles des exercices"]}),i.jsxs("li",{children:[i.jsx(Et,{size:18})," Annales des examens (BFEM, BAC)"]}),i.jsxs("li",{children:[i.jsx(Et,{size:18})," Support prioritaire"]})]}),i.jsxs(ke,{to:"/premium",className:"home-page__btn home-page__btn--premium",children:["Dcouvrir Premium",i.jsx(es,{size:20})]})]}),i.jsx("div",{className:"home-page__premium-pricing",children:i.jsxs("div",{className:"home-page__pricing-card",children:[i.jsx("span",{className:"home-page__pricing-popular",children:"Plus populaire"}),i.jsx("h3",{children:"Abonnement Annuel"}),i.jsxs("div",{className:"home-page__pricing-price",children:[i.jsx("span",{className:"home-page__pricing-amount",children:"20 000"}),i.jsx("span",{className:"home-page__pricing-currency",children:"FCFA"}),i.jsx("span",{className:"home-page__pricing-period",children:"/an"})]}),i.jsx("p",{className:"home-page__pricing-save",children:"conomisez 4 000 FCFA vs mensuel"}),i.jsx(ke,{to:"/premium",className:"home-page__btn home-page__btn--primary home-page__btn--block",children:"Choisir ce plan"})]})})]})})}),i.jsx("section",{className:"home-page__testimonials",children:i.jsxs("div",{className:"home-page__container",children:[i.jsx("h2",{className:"home-page__section-title",children:"Ce qu'en disent nos lves"}),i.jsxs("div",{className:"home-page__testimonials-grid",children:[i.jsxs("div",{className:"home-page__testimonial-card",children:[i.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(t=>i.jsx(Yr,{size:16,fill:"#f59e0b",color:"#f59e0b"},t))}),i.jsx("p",{className:"home-page__testimonial-text",children:`"Grce  PedaClic, j'ai obtenu mon BFEM avec mention. Les quiz m'ont vraiment aid  me prparer !"`}),i.jsxs("div",{className:"home-page__testimonial-author",children:[i.jsx("div",{className:"home-page__testimonial-avatar",children:"FA"}),i.jsxs("div",{children:[i.jsx("strong",{children:"Fatou Adara"}),i.jsx("span",{children:"lve en 3me - Dakar"})]})]})]}),i.jsxs("div",{className:"home-page__testimonial-card",children:[i.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(t=>i.jsx(Yr,{size:16,fill:"#f59e0b",color:"#f59e0b"},t))}),i.jsx("p",{className:"home-page__testimonial-text",children:`"Les cours de maths sont trs bien expliqus. J'ai enfin compris les quations du second degr !"`}),i.jsxs("div",{className:"home-page__testimonial-author",children:[i.jsx("div",{className:"home-page__testimonial-avatar",children:"MD"}),i.jsxs("div",{children:[i.jsx("strong",{children:"Moussa Diallo"}),i.jsx("span",{children:"lve en Terminale S - This"})]})]})]}),i.jsxs("div",{className:"home-page__testimonial-card",children:[i.jsx("div",{className:"home-page__testimonial-stars",children:[1,2,3,4,5].map(t=>i.jsx(Yr,{size:16,fill:"#f59e0b",color:"#f59e0b"},t))}),i.jsx("p",{className:"home-page__testimonial-text",children:`"Je recommande PedaClic  tous les parents. Ma fille a beaucoup progress depuis qu'elle l'utilise."`}),i.jsxs("div",{className:"home-page__testimonial-author",children:[i.jsx("div",{className:"home-page__testimonial-avatar",children:"AN"}),i.jsxs("div",{children:[i.jsx("strong",{children:"Aminata Ndiaye"}),i.jsx("span",{children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),i.jsx("section",{className:"home-page__final-cta",children:i.jsxs("div",{className:"home-page__container",children:[i.jsx("h2",{children:"Prt  russir ?"}),i.jsx("p",{children:"Rejoignez les milliers d'lves qui font confiance  PedaClic"}),!e&&i.jsxs(ke,{to:"/register",className:"home-page__btn home-page__btn--large",children:["Crer mon compte gratuit",i.jsx(es,{size:24})]})]})})]})},Zk=()=>{const{login:e}=Ht(),t=Zr(),n=Df().state?.from||"/",[l,o]=j.useState({email:"",password:""}),[u,f]=j.useState(!1),[m,p]=j.useState(""),[h,v]=j.useState(!1),x=N=>{const{name:S,value:A}=N.target;o(O=>({...O,[S]:A})),m&&p("")},b=()=>l.email.trim()?l.password?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)?!0:(p("Veuillez entrer une adresse email valide."),!1):(p("Veuillez entrer votre mot de passe."),!1):(p("Veuillez entrer votre adresse email."),!1),_=async N=>{if(N.preventDefault(),!!b()){f(!0),p("");try{await e(l.email,l.password),t(n,{replace:!0})}catch(S){S instanceof Error?p(S.message):p("Une erreur est survenue lors de la connexion.")}finally{f(!1)}}};return i.jsx("div",{className:"auth-page",children:i.jsxs("div",{className:"auth-container",children:[i.jsxs("div",{className:"auth-card",children:[i.jsxs("div",{className:"auth-header",children:[i.jsxs(ke,{to:"/",className:"auth-logo",children:[i.jsx("div",{className:"auth-logo__icon",children:i.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),i.jsx("span",{children:"PedaClic"})]}),i.jsx("h1",{className:"auth-title",children:"Connexion"}),i.jsx("p",{className:"auth-subtitle",children:"Accdez  votre espace d'apprentissage"})]}),m&&i.jsxs("div",{className:"auth-error",children:[i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("path",{d:"M12 8v4M12 16h.01"})]}),i.jsx("span",{children:m})]}),i.jsxs("form",{onSubmit:_,className:"auth-form",children:[i.jsxs("div",{className:"auth-field",children:[i.jsx("label",{htmlFor:"email",className:"auth-label",children:"Adresse email"}),i.jsxs("div",{className:"auth-input-wrapper",children:[i.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),i.jsx("input",{type:"email",id:"email",name:"email",value:l.email,onChange:x,placeholder:"exemple@email.com",className:"auth-input",autoComplete:"email",disabled:u})]})]}),i.jsxs("div",{className:"auth-field",children:[i.jsx("label",{htmlFor:"password",className:"auth-label",children:"Mot de passe"}),i.jsxs("div",{className:"auth-input-wrapper",children:[i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:[i.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",strokeWidth:"2"}),i.jsx("path",{strokeWidth:"2",d:"M7 11V7a5 5 0 0110 0v4"})]}),i.jsx("input",{type:h?"text":"password",id:"password",name:"password",value:l.password,onChange:x,placeholder:"Votre mot de passe",className:"auth-input",autoComplete:"current-password",disabled:u}),i.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>v(!h),"aria-label":h?"Masquer le mot de passe":"Afficher le mot de passe",children:h?i.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),i.jsx("div",{className:"auth-forgot",children:i.jsx(ke,{to:"/mot-de-passe-oublie",className:"auth-forgot-link",children:"Mot de passe oubli ?"})}),i.jsx("button",{type:"submit",className:"auth-button",disabled:u,children:u?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"auth-button-spinner"}),"Connexion en cours..."]}):"Se connecter"})]}),i.jsx("div",{className:"auth-divider",children:i.jsx("span",{children:"ou"})}),i.jsxs("p",{className:"auth-switch",children:["Pas encore de compte ?"," ",i.jsx(ke,{to:"/inscription",className:"auth-switch-link",children:"Crer un compte"})]})]}),i.jsxs("div",{className:"auth-welcome",children:[i.jsx("h2",{children:"Bienvenue sur PedaClic !"}),i.jsx("p",{children:"L'cole en un clic - Accdez  des milliers de cours, exercices et quiz."}),i.jsxs("ul",{className:"auth-features",children:[i.jsxs("li",{children:[i.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Cours du programme sngalais"]}),i.jsxs("li",{children:[i.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Exercices interactifs"]}),i.jsxs("li",{children:[i.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quiz pour tester vos connaissances"]}),i.jsxs("li",{children:[i.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Suivi de progression"]})]})]})]})})},Jk=()=>{const{register:e}=Ht(),t=Zr(),[r,n]=j.useState({email:"",password:"",confirmPassword:"",displayName:"",role:"eleve"}),[l,o]=j.useState(!1),[u,f]=j.useState(""),[m,p]=j.useState(!1),[h,v]=j.useState(!1),[x,b]=j.useState(!1),_=A=>{const{name:O,value:C}=A.target;n(E=>({...E,[O]:C})),u&&f("")},N=()=>r.displayName.trim()?r.displayName.trim().length<2?(f("Le nom doit contenir au moins 2 caractres."),!1):r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)?r.password?r.password.length<6?(f("Le mot de passe doit contenir au moins 6 caractres."),!1):r.password!==r.confirmPassword?(f("Les mots de passe ne correspondent pas."),!1):x?!0:(f("Veuillez accepter les conditions d'utilisation."),!1):(f("Veuillez entrer un mot de passe."),!1):(f("Veuillez entrer une adresse email valide."),!1):(f("Veuillez entrer votre adresse email."),!1):(f("Veuillez entrer votre nom complet."),!1),S=async A=>{if(A.preventDefault(),!!N()){o(!0),f("");try{await e(r),t("/disciplines",{replace:!0})}catch(O){O instanceof Error?f(O.message):f("Une erreur est survenue lors de l'inscription.")}finally{o(!1)}}};return i.jsx("div",{className:"auth-page",children:i.jsxs("div",{className:"auth-container",children:[i.jsxs("div",{className:"auth-card auth-card--register",children:[i.jsxs("div",{className:"auth-header",children:[i.jsxs(ke,{to:"/",className:"auth-logo",children:[i.jsx("div",{className:"auth-logo__icon",children:i.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i.jsx("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),i.jsx("span",{children:"PedaClic"})]}),i.jsx("h1",{className:"auth-title",children:"Crer un compte"}),i.jsx("p",{className:"auth-subtitle",children:"Rejoignez PedaClic et commencez  apprendre"})]}),u&&i.jsxs("div",{className:"auth-error",children:[i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("path",{d:"M12 8v4M12 16h.01"})]}),i.jsx("span",{children:u})]}),i.jsxs("form",{onSubmit:S,className:"auth-form",children:[i.jsxs("div",{className:"auth-field",children:[i.jsx("label",{htmlFor:"displayName",className:"auth-label",children:"Nom complet"}),i.jsxs("div",{className:"auth-input-wrapper",children:[i.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),i.jsx("input",{type:"text",id:"displayName",name:"displayName",value:r.displayName,onChange:_,placeholder:"Amadou Diallo",className:"auth-input",autoComplete:"name",disabled:l})]})]}),i.jsxs("div",{className:"auth-field",children:[i.jsx("label",{htmlFor:"email",className:"auth-label",children:"Adresse email"}),i.jsxs("div",{className:"auth-input-wrapper",children:[i.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),i.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:_,placeholder:"exemple@email.com",className:"auth-input",autoComplete:"email",disabled:l})]})]}),i.jsxs("div",{className:"auth-field",children:[i.jsx("label",{className:"auth-label",children:"Je suis :"}),i.jsxs("div",{className:"auth-role-selector",children:[i.jsxs("label",{className:`auth-role-option ${r.role==="eleve"?"auth-role-option--selected":""}`,children:[i.jsx("input",{type:"radio",name:"role",value:"eleve",checked:r.role==="eleve",onChange:_,className:"auth-role-input",disabled:l}),i.jsxs("div",{className:"auth-role-content",children:[i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l9-5-9-5-9 5 9 5z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]}),i.jsx("span",{children:"lve"})]})]}),i.jsxs("label",{className:`auth-role-option ${r.role==="prof"?"auth-role-option--selected":""}`,children:[i.jsx("input",{type:"radio",name:"role",value:"prof",checked:r.role==="prof",onChange:_,className:"auth-role-input",disabled:l}),i.jsxs("div",{className:"auth-role-content",children:[i.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),i.jsx("span",{children:"Professeur"})]})]}),i.jsxs("label",{className:`auth-role-option ${r.role==="parent"?"auth-role-option--selected":""}`,children:[i.jsx("input",{type:"radio",name:"role",value:"parent",checked:r.role==="parent",onChange:_,className:"auth-role-input",disabled:l}),i.jsxs("div",{className:"auth-role-content",children:[i.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),i.jsx("span",{children:"Parent d'lve"})]})]})]})]}),i.jsxs("div",{className:"auth-field",children:[i.jsx("label",{htmlFor:"password",className:"auth-label",children:"Mot de passe"}),i.jsxs("div",{className:"auth-input-wrapper",children:[i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:[i.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",strokeWidth:"2"}),i.jsx("path",{strokeWidth:"2",d:"M7 11V7a5 5 0 0110 0v4"})]}),i.jsx("input",{type:m?"text":"password",id:"password",name:"password",value:r.password,onChange:_,placeholder:"Minimum 6 caractres",className:"auth-input",autoComplete:"new-password",disabled:l}),i.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>p(!m),"aria-label":m?"Masquer":"Afficher",children:m?i.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),i.jsx("p",{className:"auth-hint",children:"Au moins 6 caractres avec des lettres et des chiffres"})]}),i.jsxs("div",{className:"auth-field",children:[i.jsx("label",{htmlFor:"confirmPassword",className:"auth-label",children:"Confirmer le mot de passe"}),i.jsxs("div",{className:"auth-input-wrapper",children:[i.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"auth-input-icon",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),i.jsx("input",{type:h?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:_,placeholder:"Retapez votre mot de passe",className:"auth-input",autoComplete:"new-password",disabled:l}),i.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>v(!h),"aria-label":h?"Masquer":"Afficher",children:h?i.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),i.jsx("div",{className:"auth-checkbox-field",children:i.jsxs("label",{className:"auth-checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:x,onChange:A=>b(A.target.checked),className:"auth-checkbox",disabled:l}),i.jsx("span",{className:"auth-checkbox-custom"}),i.jsxs("span",{children:["J'accepte les"," ",i.jsx(ke,{to:"/cgu",target:"_blank",className:"auth-link",children:"conditions d'utilisation"})," ","et la"," ",i.jsx(ke,{to:"/confidentialite",target:"_blank",className:"auth-link",children:"politique de confidentialit"})]})]})}),i.jsx("button",{type:"submit",className:"auth-button",disabled:l,children:l?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"auth-button-spinner"}),"Cration du compte..."]}):"Crer mon compte"})]}),i.jsx("div",{className:"auth-divider",children:i.jsx("span",{children:"ou"})}),i.jsxs("p",{className:"auth-switch",children:["Dj un compte ?"," ",i.jsx(ke,{to:"/connexion",className:"auth-switch-link",children:"Se connecter"})]})]}),i.jsxs("div",{className:"auth-welcome auth-welcome--register",children:[i.jsx("h2",{children:"Rejoignez la communaut PedaClic"}),i.jsx("p",{children:"Des milliers d'lves et professeurs sngalais nous font dj confiance."}),i.jsxs("div",{className:"auth-stats",children:[i.jsxs("div",{className:"auth-stat",children:[i.jsx("span",{className:"auth-stat-number",children:"10 000+"}),i.jsx("span",{className:"auth-stat-label",children:"lves inscrits"})]}),i.jsxs("div",{className:"auth-stat",children:[i.jsx("span",{className:"auth-stat-number",children:"500+"}),i.jsx("span",{className:"auth-stat-label",children:"Cours disponibles"})]}),i.jsxs("div",{className:"auth-stat",children:[i.jsx("span",{className:"auth-stat-number",children:"95%"}),i.jsx("span",{className:"auth-stat-label",children:"Taux de satisfaction"})]})]}),i.jsxs("div",{className:"auth-testimonial",children:[i.jsx("p",{className:"auth-testimonial-text",children:`"Grce  PedaClic, j'ai amlior mes notes en mathmatiques de 4 points !"`}),i.jsx("p",{className:"auth-testimonial-author",children:" Fatou N., lve de 3me  Dakar"})]})]})]})})},e2=[{value:"6eme",label:"6me"},{value:"5eme",label:"5me"},{value:"4eme",label:"4me"},{value:"3eme",label:"3me"}],t2=[{value:"2nde",label:"2nde"},{value:"1ere",label:"1re"},{value:"Terminale",label:"Terminale"}],r2=[{value:"debutant",label:"Dbutant"},{value:"intermediaire",label:"Intermdiaire"},{value:"avance",label:"Avanc"}],n2={college:"Collge",lycee:"Lyce",formation_libre:"Formation libre"};function R_(e){switch(e){case"college":return e2;case"lycee":return t2;case"formation_libre":return r2;default:return[]}}function a2(e){return[...e2,...t2,...r2].find(r=>r.value===e)?.label||e}const L_=[{niveau:"college",icon:"",label:"Collge",color:"#2b6cb0",bgLight:"#ebf8ff"},{niveau:"lycee",icon:"",label:"Lyce",color:"#975a16",bgLight:"#fefcbf"},{niveau:"formation_libre",icon:"",label:"Formation libre",color:"#276749",bgLight:"#f0fff4"}],eq=()=>{const[e,t]=j.useState("college"),[r,n]=j.useState([]),[l,o]=j.useState(!0),u=Zr();j.useEffect(()=>{const p=Ke(Te(he,"disciplines"),Pt("ordre")),h=YC(p,v=>{const x=v.docs.map(b=>({id:b.id,...b.data(),createdAt:b.data().createdAt?.toDate()||new Date,updatedAt:b.data().updatedAt?.toDate()||new Date}));n(x),o(!1)});return()=>h()},[]);const f=r.filter(p=>p.niveau===e),m=L_.find(p=>p.niveau===e);return i.jsxs("div",{style:{maxWidth:"1100px",margin:"0 auto",padding:"24px"},children:[i.jsxs("div",{style:{marginBottom:"32px",textAlign:"center"},children:[i.jsx("h1",{style:{fontSize:"1.8rem",fontWeight:700,color:"#1a365d",marginBottom:"8px"},children:" Disciplines"}),i.jsx("p",{style:{color:"#718096",fontSize:"1rem"},children:"Explorez les disciplines disponibles sur PedaClic"})]}),i.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"12px",marginBottom:"32px",flexWrap:"wrap"},children:L_.map(p=>{const h=e===p.niveau;return i.jsxs("button",{onClick:()=>t(p.niveau),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 28px",borderRadius:"12px",border:`2px solid ${h?p.color:"#e2e8f0"}`,background:h?p.bgLight:"#fff",color:h?p.color:"#718096",fontSize:"1rem",fontWeight:h?700:500,cursor:"pointer",transition:"all 0.25s ease",boxShadow:h?`0 2px 8px ${p.color}20`:"none"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:p.icon}),p.label]},p.niveau)})}),l&&i.jsx("div",{style:{textAlign:"center",padding:"48px",color:"#a0aec0"},children:"Chargement des disciplines..."}),!l&&f.length===0&&i.jsxs("div",{style:{textAlign:"center",padding:"48px",background:"#f7fafc",borderRadius:"12px",border:"1px dashed #e2e8f0"},children:[i.jsx("p",{style:{fontSize:"2rem",marginBottom:"8px"},children:""}),i.jsxs("p",{style:{color:"#a0aec0",fontSize:"1rem"},children:["Aucune discipline disponible en ",n2[e]," pour le moment."]})]}),!l&&f.length>0&&i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:f.map(p=>i.jsxs("div",{onClick:()=>u(`/disciplines/${p.id}`),style:{background:"#fff",borderRadius:"12px",padding:"24px",border:"1px solid #e2e8f0",boxShadow:"0 2px 6px rgba(0,0,0,0.05)",cursor:"pointer",transition:"all 0.2s ease",borderTop:`3px solid ${p.couleur||m.color}`},onMouseEnter:h=>{h.currentTarget.style.transform="translateY(-2px)",h.currentTarget.style.boxShadow="0 6px 16px rgba(0,0,0,0.1)"},onMouseLeave:h=>{h.currentTarget.style.transform="translateY(0)",h.currentTarget.style.boxShadow="0 2px 6px rgba(0,0,0,0.05)"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[i.jsx("span",{style:{fontSize:"1.8rem"},children:p.icone||""}),i.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:600,color:"#2d3748",margin:0},children:p.nom})]}),p.description&&i.jsx("p",{style:{fontSize:"0.875rem",color:"#718096",marginBottom:"12px",lineHeight:1.5},children:p.description.length>100?`${p.description.slice(0,100)}...`:p.description}),i.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginBottom:"8px"},children:i.jsx("span",{style:{display:"inline-block",padding:"2px 10px",borderRadius:"10px",fontSize:"0.75rem",fontWeight:500,background:m.bgLight,color:m.color},children:a2(p.classe)})}),p.coefficient!==void 0&&i.jsxs("p",{style:{fontSize:"0.8rem",color:"#a0aec0"},children:["Coefficient : ",p.coefficient]})]},p.id))})]})},$o="disciplines",I_=e=>{const t=e.data();return{id:e.id,nom:t.nom,niveau:t.niveau,classe:t.classe,ordre:t.ordre,coefficient:t.coefficient,couleur:t.couleur,icone:t.icone,description:t.description,createdAt:t.createdAt?.toDate()||new Date,updatedAt:t.updatedAt?.toDate()}},zi={async getAll(e){try{const t=[Pt("ordre","asc")];e?.niveau&&t.unshift(Be("niveau","==",e.niveau)),e?.classe&&t.unshift(Be("classe","==",e.classe));const r=Ke(Te(he,$o),...t);return(await $e(r)).docs.map(I_)}catch(t){throw console.error("Erreur lors de la rcupration des disciplines:",t),new Error("Impossible de rcuprer les disciplines")}},async getById(e){try{const t=De(he,$o,e),r=await yr(t);return r.exists()?I_(r):null}catch(t){throw console.error("Erreur lors de la rcupration de la discipline:",t),new Error("Impossible de rcuprer la discipline")}},async getByNiveau(e){return this.getAll({niveau:e})},async getByClasse(e){return this.getAll({classe:e})},async create(e){try{return(await Lr(Te(he,$o),{...e,createdAt:jt(),updatedAt:jt()})).id}catch(t){throw console.error("Erreur lors de la cration de la discipline:",t),new Error("Impossible de crer la discipline")}},async update(e,t){try{const r=De(he,$o,e);await _t(r,{...t,updatedAt:jt()})}catch(r){throw console.error("Erreur lors de la mise  jour de la discipline:",r),new Error("Impossible de mettre  jour la discipline")}},async delete(e){try{const t=De(he,$o,e);await js(t)}catch(t){throw console.error("Erreur lors de la suppression de la discipline:",t),new Error("Impossible de supprimer la discipline")}},async exists(e){return await this.getById(e)!==null},async countByNiveau(e){return(await this.getByNiveau(e)).length}},Zi="ressources",tq="ressources",B_=e=>{const t=e.data();return{id:e.id,disciplineId:t.disciplineId,titre:t.titre,type:t.type,contenu:t.contenu,description:t.description,isPremium:t.isPremium||!1,ordre:t.ordre||0,chapitre:t.chapitre,fichierURL:t.fichierURL,dureeEstimee:t.dureeEstimee,tags:t.tags||[],auteurId:t.auteurId,createdAt:t.createdAt?.toDate()||new Date,updatedAt:t.updatedAt?.toDate()}},rq=e=>{const t=Date.now(),r=e.split(".").pop();return`${e.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9]/g,"_")}_${t}.${r}`},Na={async getAll(e,t){try{const r=[Pt("ordre","asc")];e?.disciplineId&&r.unshift(Be("disciplineId","==",e.disciplineId)),e?.chapitreId&&r.unshift(Be("chapitre","==",e.chapitreId)),e?.type&&r.unshift(Be("type","==",e.type)),e?.isPremium!==void 0&&r.unshift(Be("isPremium","==",e.isPremium)),e?.auteurId&&r.unshift(Be("auteurId","==",e.auteurId)),t&&r.push(Wn(t));const n=Ke(Te(he,Zi),...r);return(await $e(n)).docs.map(B_)}catch(r){throw console.error("Erreur lors de la rcupration des ressources:",r),new Error("Impossible de rcuprer les ressources")}},async getById(e){try{const t=De(he,Zi,e),r=await yr(t);return r.exists()?B_(r):null}catch(t){throw console.error("Erreur lors de la rcupration de la ressource:",t),new Error("Impossible de rcuprer la ressource")}},async getByDiscipline(e){return this.getAll({disciplineId:e})},async getByChapitre(e){return this.getAll({chapitreId:e})},async getByType(e){return this.getAll({type:e})},async getPremium(){return this.getAll({isPremium:!0})},async getFree(){return this.getAll({isPremium:!1})},async create(e,t){try{return(await Lr(Te(he,Zi),{...e,auteurId:t,createdAt:jt(),updatedAt:jt()})).id}catch(r){throw console.error("Erreur lors de la cration de la ressource:",r),new Error("Impossible de crer la ressource")}},async update(e,t){try{const r=De(he,Zi,e);await _t(r,{...t,updatedAt:jt()})}catch(r){throw console.error("Erreur lors de la mise  jour de la ressource:",r),new Error("Impossible de mettre  jour la ressource")}},async delete(e){try{const t=await this.getById(e);t?.fichierURL&&await this.deleteFile(t.fichierURL);const r=De(he,Zi,e);await js(r)}catch(t){throw console.error("Erreur lors de la suppression de la ressource:",t),new Error("Impossible de supprimer la ressource")}},async deleteByDiscipline(e){try{const t=await this.getByDiscipline(e),r=sc(he);for(const n of t){n.fichierURL&&await this.deleteFile(n.fichierURL);const l=De(he,Zi,n.id);r.delete(l)}await r.commit()}catch(t){throw console.error("Erreur lors de la suppression des ressources:",t),new Error("Impossible de supprimer les ressources")}},async uploadFile(e,t){try{const r=rq(e.name),n=`${tq}/${t}/${r}`,l=S_(P_,n);return await lk(l,e),await ok(l)}catch(r){throw console.error("Erreur lors de l'upload du fichier:",r),new Error("Impossible d'uploader le fichier")}},async deleteFile(e){try{const t=S_(P_,e);await sk(t)}catch(t){console.warn("Fichier non trouv ou dj supprim:",t)}},async reorder(e,t){try{const r=sc(he);t.forEach((n,l)=>{const o=De(he,Zi,n);r.update(o,{ordre:l+1,updatedAt:jt()})}),await r.commit()}catch(r){throw console.error("Erreur lors de la rorganisation des ressources:",r),new Error("Impossible de rorganiser les ressources")}},async togglePremium(e,t){await this.update(e,{isPremium:t})},async countByType(e){return(await this.getByType(e)).length},async getStats(){try{const e=await this.getAll(),t={total:e.length,premium:e.filter(r=>r.isPremium).length,gratuit:e.filter(r=>!r.isPremium).length,parType:{cours:0,exercice:0,video:0,document:0,quiz:0}};return e.forEach(r=>{t.parType[r.type]!==void 0&&t.parType[r.type]++}),t}catch(e){throw console.error("Erreur lors du calcul des statistiques:",e),new Error("Impossible de calculer les statistiques")}}},nq=()=>{const{id:e}=Tf(),t=Zr(),[r,n]=j.useState(null),[l,o]=j.useState([]),[u,f]=j.useState([]),[m,p]=j.useState(!0),[h,v]=j.useState(null),[x,b]=j.useState("tous"),[_,N]=j.useState(new Set),S=j.useCallback(async()=>{if(e)try{p(!0),v(null);const q=await zi.getById(e);if(!q){v("Discipline introuvable."),p(!1);return}n(q);const Y=await Na.getAll({disciplineId:e}),X=new Map,$=[];for(const ue of Y){const V=ue.chapitre||ue.chapitreId;V?(X.has(V)||X.set(V,[]),X.get(V).push(ue)):$.push(ue)}const oe=Array.from(X.entries()).map(([ue,V])=>({chapitreNom:ue,ressources:V.sort((k,J)=>k.ordre-J.ordre)})).sort((ue,V)=>ue.chapitreNom.localeCompare(V.chapitreNom,"fr"));o(oe),f($),oe.length>0&&N(new Set([oe[0].chapitreNom]))}catch(q){console.error("Erreur chargement discipline:",q),v("Impossible de charger les donnes. Ressayez plus tard.")}finally{p(!1)}},[e]);j.useEffect(()=>{S()},[S]);const A=q=>{N(Y=>{const X=new Set(Y);return X.has(q)?X.delete(q):X.add(q),X})},O=q=>x==="tous"?q:q.filter(Y=>Y.type===x),C=q=>{switch(q){case"cours":return"";case"exercice":return"";case"video":return"";case"document":return"";case"quiz":return"";default:return""}},E=q=>{switch(q){case"cours":return"Cours";case"exercice":return"Exercice";case"video":return"Vido";case"document":return"Document";case"quiz":return"Quiz";default:return q}},z=q=>{switch(q){case"cours":return"#3b82f6";case"exercice":return"#10b981";case"video":return"#f59e0b";case"document":return"#8b5cf6";case"quiz":return"#ef4444";default:return"#6b7280"}},D=q=>q==="college"?"Collge":"Lyce";if(m)return i.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"4rem 1rem",minHeight:"50vh"},children:[i.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#2563eb",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),i.jsx("p",{style:{marginTop:"1rem",color:"#6b7280"},children:"Chargement de la discipline..."}),i.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]});if(h||!r)return i.jsxs("div",{style:{maxWidth:"600px",margin:"3rem auto",padding:"2rem",textAlign:"center",background:"#fef2f2",borderRadius:"12px",border:"1px solid #fecaca"},children:[i.jsx("span",{style:{fontSize:"3rem"},children:""}),i.jsx("h2",{style:{color:"#991b1b",margin:"1rem 0 0.5rem"},children:h||"Discipline introuvable"}),i.jsx("p",{style:{color:"#b91c1c",marginBottom:"1.5rem"},children:"Vrifiez le lien ou retournez  la liste des disciplines."}),i.jsx("button",{onClick:()=>t("/disciplines"),style:{padding:"0.75rem 1.5rem",background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:600},children:" Retour aux disciplines"})]});const L=[...l.flatMap(q=>q.ressources),...u],T=[...new Set(L.map(q=>q.type))];return i.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"1.5rem 1rem"},children:[i.jsxs("nav",{style:{marginBottom:"1.5rem",fontSize:"0.875rem",color:"#6b7280"},children:[i.jsx(ke,{to:"/",style:{color:"#2563eb",textDecoration:"none"},children:"Accueil"}),i.jsx("span",{style:{margin:"0 0.5rem"},children:"/"}),i.jsx(ke,{to:"/disciplines",style:{color:"#2563eb",textDecoration:"none"},children:"Disciplines"}),i.jsx("span",{style:{margin:"0 0.5rem"},children:"/"}),i.jsx("span",{style:{color:"#374151"},children:r.nom})]}),i.jsxs("header",{style:{background:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)",borderRadius:"16px",padding:"2rem",color:"#fff",marginBottom:"2rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.75rem"},children:[i.jsx("span",{style:{fontSize:"2.5rem"},children:r.icone||""}),i.jsxs("div",{children:[i.jsx("h1",{style:{fontSize:"1.75rem",fontWeight:700,margin:0},children:r.nom}),r.description&&i.jsx("p",{style:{margin:"0.25rem 0 0",opacity:.9,fontSize:"0.95rem"},children:r.description})]})]}),i.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap",marginTop:"1rem"},children:[i.jsxs("span",{style:{background:"rgba(255,255,255,0.2)",padding:"0.35rem 0.75rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:600},children:[" ",D(r.niveau),"  ",r.classe]}),i.jsxs("span",{style:{background:"rgba(255,255,255,0.2)",padding:"0.35rem 0.75rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:600},children:[" ",L.length," ressource",L.length!==1?"s":""]}),r.coefficient&&i.jsxs("span",{style:{background:"rgba(255,255,255,0.2)",padding:"0.35rem 0.75rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:600},children:[" Coeff. ",r.coefficient]})]})]}),T.length>1&&i.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",marginBottom:"1.5rem"},children:[i.jsxs("button",{onClick:()=>b("tous"),style:{padding:"0.5rem 1rem",borderRadius:"20px",border:x==="tous"?"2px solid #2563eb":"1px solid #d1d5db",background:x==="tous"?"#2563eb":"#fff",color:x==="tous"?"#fff":"#374151",cursor:"pointer",fontSize:"0.85rem",fontWeight:600,transition:"all 0.2s"},children:["Tous (",L.length,")"]}),T.map(q=>{const Y=L.filter($=>$.type===q).length,X=x===q;return i.jsxs("button",{onClick:()=>b(q),style:{padding:"0.5rem 1rem",borderRadius:"20px",border:X?`2px solid ${z(q)}`:"1px solid #d1d5db",background:X?z(q):"#fff",color:X?"#fff":"#374151",cursor:"pointer",fontSize:"0.85rem",fontWeight:600,transition:"all 0.2s"},children:[C(q)," ",E(q)," (",Y,")"]},q)})]}),l.length===0&&u.length===0?i.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem",background:"#f9fafb",borderRadius:"12px",border:"1px solid #e5e7eb"},children:[i.jsx("span",{style:{fontSize:"3rem"},children:""}),i.jsx("h3",{style:{color:"#374151",margin:"1rem 0 0.5rem"},children:"Aucune ressource disponible"}),i.jsx("p",{style:{color:"#6b7280"},children:"Les cours et exercices pour cette discipline seront bientt ajouts."})]}):i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[l.map(q=>{const Y=O(q.ressources);if(Y.length===0&&x!=="tous")return null;const X=_.has(q.chapitreNom),$=x==="tous"?q.ressources:Y;return i.jsxs("div",{style:{background:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb",overflow:"hidden",transition:"box-shadow 0.2s",boxShadow:X?"0 4px 12px rgba(0,0,0,0.08)":"none"},children:[i.jsx("button",{onClick:()=>A(q.chapitreNom),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.25rem",background:X?"#f0f5ff":"#fff",border:"none",cursor:"pointer",textAlign:"left",transition:"background 0.2s"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[i.jsx("span",{style:{fontSize:"1.25rem",transform:X?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""}),i.jsxs("div",{children:[i.jsx("span",{style:{fontWeight:700,color:"#1f2937",fontSize:"1rem"},children:q.chapitreNom}),i.jsxs("span",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginTop:"2px"},children:[q.ressources.length," ressource",q.ressources.length!==1?"s":""]})]})]})}),X&&i.jsx("div",{style:{padding:"0 1.25rem 1rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:$.map(oe=>i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #f3f4f6",transition:"background 0.15s",cursor:"pointer"},onMouseEnter:ue=>ue.currentTarget.style.background="#eef2ff",onMouseLeave:ue=>ue.currentTarget.style.background="#f9fafb",children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flex:1},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:C(oe.type)}),i.jsxs("div",{children:[i.jsx("span",{style:{fontWeight:600,color:"#1f2937",fontSize:"0.9rem"},children:oe.titre}),oe.description&&i.jsx("span",{style:{display:"block",fontSize:"0.75rem",color:"#9ca3af",marginTop:"2px"},children:oe.description})]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexShrink:0},children:[i.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,color:"#fff",background:z(oe.type)},children:E(oe.type)}),oe.isPremium&&i.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,color:"#92400e",background:"#fef3c7",border:"1px solid #fde68a"},children:" Premium"}),oe.dureeEstimee&&i.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:[" ",oe.dureeEstimee," min"]})]})]},oe.id))})]},q.chapitreNom)}),O(u).length>0&&i.jsxs("div",{style:{background:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb",padding:"1rem 1.25rem"},children:[i.jsx("h3",{style:{fontSize:"1rem",fontWeight:700,color:"#374151",marginBottom:"0.75rem"},children:" Autres ressources"}),i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:O(u).map(q=>i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #f3f4f6"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:C(q.type)}),i.jsx("span",{style:{fontWeight:600,color:"#1f2937",fontSize:"0.9rem"},children:q.titre})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,color:"#fff",background:z(q.type)},children:E(q.type)}),q.isPremium&&i.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,color:"#92400e",background:"#fef3c7",border:"1px solid #fde68a"},children:" Premium"})]})]},q.id))})]})]}),i.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:i.jsx(ke,{to:"/disciplines",style:{display:"inline-block",padding:"0.75rem 1.5rem",background:"#f3f4f6",color:"#374151",borderRadius:"8px",textDecoration:"none",fontWeight:600,transition:"background 0.2s"},children:" Retour aux disciplines"})})]})},Wh=[{id:"mensuel",nom:"Mensuel",prix:2e3,duree:"1 mois"},{id:"annuel",nom:"Annuel",prix:2e4,prixOriginal:24e3,duree:"12 mois",economie:"4 000 FCFA",popular:!0}],aq=[{icone:"",titre:"Accs illimit",description:"Tous les cours de la 6me  la Terminale, sans restriction."},{icone:"",titre:"Vidos explicatives",description:"Des cours en vido par des professeurs expriments."},{icone:"",titre:"Exercices corrigs",description:"Des milliers d'exercices avec corrections dtailles."},{icone:"",titre:"Suivi de progression",description:"Tableau de bord personnel pour suivre vos rsultats."},{icone:"",titre:"Quiz interactifs",description:"Testez vos connaissances avec des quiz par matire."},{icone:"",titre:"Support prioritaire",description:"Assistance rapide pour toutes vos questions."},{icone:"",titre:"Accs mobile",description:"Apprenez partout, sur tlphone ou tablette."},{icone:"",titre:"Mises  jour",description:"Nouveaux contenus ajouts rgulirement."}],iq=[{question:"Comment fonctionne l'abonnement Premium ?",reponse:"Une fois votre paiement effectu via Wave, Orange Money ou carte bancaire, votre compte est instantanment mis  niveau. Vous avez accs  tous les contenus Premium pendant la dure de votre abonnement."},{question:"Puis-je annuler mon abonnement ?",reponse:"Oui, vous pouvez annuler  tout moment depuis votre espace personnel. Vous conservez l'accs Premium jusqu' la fin de la priode paye."},{question:"L'abonnement se renouvelle-t-il automatiquement ?",reponse:"Non, chez PedaClic, il n'y a pas de renouvellement automatique. Vous dcidez quand renouveler votre abonnement."},{question:"Quels moyens de paiement acceptez-vous ?",reponse:"Nous acceptons Wave, Orange Money, Free Money et les cartes bancaires (Visa, Mastercard) via notre partenaire PayTech."},{question:"Puis-je partager mon compte Premium ?",reponse:"Chaque compte Premium est personnel et li  une adresse email. Le partage de compte est interdit pour garantir un suivi de progression personnalis."}],sq=()=>{const{currentUser:e}=Ht(),t=Df(),r=Zr(),[n,l]=j.useState("annuel"),[o,u]=j.useState(!1),[f,m]=j.useState(null),[p,h]=j.useState(null);t.state?.from;const v=()=>!e||!e.isPremium?!1:e.subscriptionEnd?(e.subscriptionEnd instanceof Date?e.subscriptionEnd:new Date(e.subscriptionEnd))>new Date:!0,x=async()=>{if(!e){r("/connexion",{state:{from:"/premium"}});return}if(v()){m("Vous tes dj abonn Premium !");return}try{u(!0),m(null);const N=Wh.find(E=>E.id===n);if(!N)throw new Error("Plan invalide");const S=await Lr(Te(he,"transactions"),{userId:e.uid,userEmail:e.email,planType:n,montant:N.prix,devise:"XOF",statut:"pending",dateTransaction:jt(),createdAt:jt()}),A={apiKey:"your_paytech_key",apiSecret:"demo_api_secret",item_name:`PedaClic Premium ${N.nom}`,item_price:N.prix,currency:"XOF",ref_command:S.id,success_url:`${window.location.origin}/premium/success?ref=${S.id}`,cancel_url:`${window.location.origin}/premium/cancel?ref=${S.id}`,ipn_url:"/api/paytech/ipn",custom_field:JSON.stringify({userId:e.uid,planType:n,transactionId:S.id}),env:"test"},C=await(await fetch("https://paytech.sn/api/payment/request-payment",{method:"POST",headers:{"Content-Type":"application/json",API_KEY:A.apiKey,API_SECRET:A.apiSecret},body:JSON.stringify({item_name:A.item_name,item_price:A.item_price,currency:A.currency,ref_command:A.ref_command,command_name:`Abonnement Premium ${N.nom} - ${e.email}`,env:A.env,ipn_url:A.ipn_url,success_url:A.success_url,cancel_url:A.cancel_url,custom_field:A.custom_field})})).json();if(C.success===1&&C.redirect_url)window.location.href=C.redirect_url;else{console.log("Mode dmo PayTech - Simulation de paiement");const E=new Date,z=new Date(E);n==="mensuel"?z.setMonth(z.getMonth()+1):z.setFullYear(z.getFullYear()+1),await _t(De(he,"users",e.uid),{isPremium:!0,subscriptionEnd:z,subscriptionPlan:n,updatedAt:jt()}),await _t(De(he,"transactions",S.id),{statut:"success",paytechTransactionId:"DEMO_"+Date.now(),dateExpiration:z,updatedAt:jt()}),r("/premium/success",{state:{plan:N.nom,montant:N.prix,expiration:z.toLocaleDateString("fr-FR")}})}}catch(N){console.error("Erreur paiement:",N),m("Une erreur est survenue lors du paiement. Veuillez ressayer.")}finally{u(!1)}},b=N=>{h(p===N?null:N)},_=N=>N.toLocaleString("fr-FR")+" FCFA";if(v()){const N=e?.subscriptionEnd instanceof Date?e.subscriptionEnd:new Date(e?.subscriptionEnd||Date.now());return i.jsx("div",{className:"premium-page",children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"premium-already",children:[i.jsx("span",{className:"premium-already__icon",children:""}),i.jsx("h1",{children:"Vous tes dj Premium !"}),i.jsxs("p",{children:["Votre abonnement est actif jusqu'au"," ",i.jsx("strong",{children:N.toLocaleDateString("fr-FR")})]}),i.jsxs("div",{className:"premium-already__actions",children:[i.jsx(ke,{to:"/disciplines",className:"btn btn--primary",children:"Accder aux cours"}),i.jsx(ke,{to:"/dashboard",className:"btn btn--outline",children:"Mon tableau de bord"})]})]})})})}return i.jsxs("div",{className:"premium-page",children:[i.jsx("section",{className:"premium-hero",children:i.jsxs("div",{className:"container",children:[i.jsx("span",{className:"premium-hero__badge",children:" Premium"}),i.jsxs("h1",{className:"premium-hero__title",children:["Dbloquez tout le potentiel de ",i.jsx("span",{children:"PedaClic"})]}),i.jsx("p",{className:"premium-hero__subtitle",children:"Accdez  tous les cours, exercices corrigs, vidos et quiz de la 6me  la Terminale. Russissez vos examens !"})]})}),i.jsx("section",{className:"premium-pricing",children:i.jsxs("div",{className:"container",children:[i.jsx("h2",{className:"section-title",children:"Choisissez votre formule"}),i.jsx("div",{className:"pricing-cards",children:Wh.map(N=>i.jsxs("div",{className:`pricing-card ${n===N.id?"pricing-card--selected":""} ${N.popular?"pricing-card--popular":""}`,onClick:()=>l(N.id),children:[N.popular&&i.jsx("span",{className:"pricing-card__badge",children:"Le plus populaire"}),i.jsxs("div",{className:"pricing-card__header",children:[i.jsx("h3",{className:"pricing-card__name",children:N.nom}),i.jsx("p",{className:"pricing-card__duration",children:N.duree})]}),i.jsxs("div",{className:"pricing-card__price",children:[N.prixOriginal&&i.jsx("span",{className:"pricing-card__original",children:_(N.prixOriginal)}),i.jsx("span",{className:"pricing-card__amount",children:_(N.prix)}),N.id==="mensuel"&&i.jsx("span",{className:"pricing-card__period",children:"/mois"})]}),N.economie&&i.jsxs("p",{className:"pricing-card__savings",children:["conomisez ",N.economie]}),i.jsx("div",{className:"pricing-card__radio",children:i.jsx("span",{className:`radio-dot ${n===N.id?"radio-dot--active":""}`})})]},N.id))}),i.jsxs("div",{className:"pricing-cta",children:[f&&i.jsxs("div",{className:"pricing-error",children:[i.jsx("span",{children:""})," ",f]}),e?i.jsx("button",{className:"btn btn--premium btn--lg",onClick:x,disabled:o,children:o?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner-sm"}),"Traitement en cours..."]}):i.jsxs(i.Fragment,{children:["Payer ",_(Wh.find(N=>N.id===n)?.prix||0)]})}):i.jsxs("div",{className:"pricing-login",children:[i.jsx("p",{children:"Connectez-vous pour souscrire  Premium"}),i.jsx(ke,{to:"/connexion",state:{from:"/premium"},className:"btn btn--primary btn--lg",children:"Se connecter"}),i.jsxs("p",{className:"pricing-login__register",children:["Pas encore inscrit ?"," ",i.jsx(ke,{to:"/inscription",state:{from:"/premium"},children:"Crer un compte"})]})]}),i.jsxs("div",{className:"payment-methods",children:[i.jsx("p",{children:"Paiement scuris par"}),i.jsxs("div",{className:"payment-methods__logos",children:[i.jsx("span",{className:"payment-logo",children:" Orange Money"}),i.jsx("span",{className:"payment-logo",children:" Wave"}),i.jsx("span",{className:"payment-logo",children:" Free Money"}),i.jsx("span",{className:"payment-logo",children:" Carte bancaire"})]})]})]})]})}),i.jsx("section",{className:"premium-features",children:i.jsxs("div",{className:"container",children:[i.jsx("h2",{className:"section-title",children:"Tout ce que vous obtenez"}),i.jsx("p",{className:"section-subtitle",children:"Un accs complet  toutes les ressources pdagogiques"}),i.jsx("div",{className:"features-grid",children:aq.map((N,S)=>i.jsxs("div",{className:"feature-card",children:[i.jsx("span",{className:"feature-card__icon",children:N.icone}),i.jsx("h3",{className:"feature-card__title",children:N.titre}),i.jsx("p",{className:"feature-card__description",children:N.description})]},S))})]})}),i.jsx("section",{className:"premium-comparison",children:i.jsxs("div",{className:"container",children:[i.jsx("h2",{className:"section-title",children:"Gratuit vs Premium"}),i.jsxs("div",{className:"comparison-table",children:[i.jsxs("div",{className:"comparison-header",children:[i.jsx("div",{className:"comparison-feature",children:"Fonctionnalits"}),i.jsx("div",{className:"comparison-free",children:"Gratuit"}),i.jsx("div",{className:"comparison-premium",children:"Premium"})]}),[{feature:"Cours de base",free:!0,premium:!0},{feature:"Exercices avec corrections",free:!1,premium:!0},{feature:"Vidos explicatives",free:!1,premium:!0},{feature:"Quiz interactifs",free:!1,premium:!0},{feature:"Suivi de progression",free:!1,premium:!0},{feature:"Tlchargement de documents",free:!1,premium:!0},{feature:"Support prioritaire",free:!1,premium:!0},{feature:"Accs mobile optimis",free:!0,premium:!0}].map((N,S)=>i.jsxs("div",{className:"comparison-row",children:[i.jsx("div",{className:"comparison-feature",children:N.feature}),i.jsx("div",{className:"comparison-free",children:N.free?i.jsx("span",{className:"check",children:""}):i.jsx("span",{className:"cross",children:""})}),i.jsx("div",{className:"comparison-premium",children:i.jsx("span",{className:"check check--premium",children:""})})]},S))]})]})}),i.jsx("section",{className:"premium-testimonials",children:i.jsxs("div",{className:"container",children:[i.jsx("h2",{className:"section-title",children:"Ils ont choisi Premium"}),i.jsxs("div",{className:"testimonials-grid",children:[i.jsxs("div",{className:"testimonial-card",children:[i.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),i.jsx("p",{className:"testimonial-card__text",children:`"Grce  PedaClic Premium, j'ai eu 16/20 au BFEM. Les exercices corrigs m'ont beaucoup aid !"`}),i.jsxs("div",{className:"testimonial-card__author",children:[i.jsx("div",{className:"testimonial-card__avatar",children:"AN"}),i.jsxs("div",{children:[i.jsx("p",{className:"testimonial-card__name",children:"Aminata Ndiaye"}),i.jsx("p",{className:"testimonial-card__info",children:"3me - Dakar"})]})]})]}),i.jsxs("div",{className:"testimonial-card",children:[i.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),i.jsx("p",{className:"testimonial-card__text",children:'"Les vidos sont trs bien expliques. Je comprends mieux les maths maintenant. Merci PedaClic !"'}),i.jsxs("div",{className:"testimonial-card__author",children:[i.jsx("div",{className:"testimonial-card__avatar",children:"IF"}),i.jsxs("div",{children:[i.jsx("p",{className:"testimonial-card__name",children:"Ibrahima Fall"}),i.jsx("p",{className:"testimonial-card__info",children:"Terminale S - This"})]})]})]}),i.jsxs("div",{className:"testimonial-card",children:[i.jsx("div",{className:"testimonial-card__stars",children:"".repeat(5)}),i.jsx("p",{className:"testimonial-card__text",children:`"20 000 FCFA pour l'anne, c'est vraiment abordable. Mon fils a accs  tout ce dont il a besoin."`}),i.jsxs("div",{className:"testimonial-card__author",children:[i.jsx("div",{className:"testimonial-card__avatar",children:"FD"}),i.jsxs("div",{children:[i.jsx("p",{className:"testimonial-card__name",children:"Fatou Diop"}),i.jsx("p",{className:"testimonial-card__info",children:"Parent d'lve - Saint-Louis"})]})]})]})]})]})}),i.jsx("section",{className:"premium-faq",children:i.jsxs("div",{className:"container",children:[i.jsx("h2",{className:"section-title",children:"Questions frquentes"}),i.jsx("div",{className:"faq-list",children:iq.map((N,S)=>i.jsxs("div",{className:`faq-item ${p===S?"faq-item--open":""}`,children:[i.jsxs("button",{className:"faq-item__question",onClick:()=>b(S),"aria-expanded":p===S,children:[i.jsx("span",{children:N.question}),i.jsx("span",{className:"faq-item__icon",children:p===S?"":"+"})]}),p===S&&i.jsx("div",{className:"faq-item__answer",children:i.jsx("p",{children:N.reponse})})]},S))})]})}),i.jsx("section",{className:"premium-cta-final",children:i.jsxs("div",{className:"container",children:[i.jsx("h2",{children:"Prt  russir vos examens ?"}),i.jsx("p",{children:"Rejoignez des milliers d'lves sngalais qui ont choisi PedaClic Premium"}),i.jsx("button",{className:"btn btn--white btn--lg",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Commencer maintenant"})]})})]})},lq=[{title:"Principal",items:[{id:"dashboard",label:"Tableau de bord",icon:"",href:"/admin"},{id:"disciplines",label:"Disciplines",icon:"",href:"/admin/disciplines"},{id:"chapitres",label:"Chapitres",icon:"",href:"/admin/chapitres"},{id:"ressources",label:"Ressources",icon:"",href:"/admin/ressources"}]},{title:"valuation",items:[{id:"quiz",label:"Quiz",icon:"",href:"/admin/quiz"},{id:"quiz-avance",label:"Quiz Avancs",icon:"",href:"/admin/quiz-avance"},{id:"resultats",label:"Rsultats",icon:"",href:"/admin/resultats"}]},{title:"Utilisateurs",items:[{id:"utilisateurs",label:"Tous les utilisateurs",icon:"",href:"/admin/utilisateurs"},{id:"premium",label:"Abonns Premium",icon:"",href:"/admin/premium"}]},{title:"Outils IA",items:[{id:"generateur",label:"Gnrateur IA",icon:"",href:"/generateur"}]},{title:"Paramtres",items:[{id:"settings",label:"Configuration",icon:"",href:"/admin/settings"}]}],Cn=({children:e,currentPage:t="dashboard"})=>{const{currentUser:r,logout:n}=Ht(),[l,o]=j.useState(!0),[u,f]=j.useState(!1),m=Df(),p=async()=>{try{f(!0),await n(),window.location.href="/connexion"}catch(b){console.error("Erreur lors de la dconnexion:",b),f(!1)}},h=()=>r?.displayName?r.displayName.split(" ").map(b=>b[0]).join("").toUpperCase().slice(0,2):"AD",v=()=>{switch(r?.role){case"admin":return"Administrateur";case"prof":return"Professeur";case"eleve":return"lve";default:return"Utilisateur"}},x=b=>b.href==="/admin"?m.pathname==="/admin"||m.pathname==="/admin/":m.pathname.startsWith(b.href);return i.jsxs("div",{className:"admin-layout",children:[i.jsxs("aside",{className:`admin-sidebar ${l?"":"admin-sidebar--collapsed"}`,children:[i.jsx("header",{className:"admin-sidebar__header",children:i.jsxs(ke,{to:"/",className:"admin-sidebar__logo",children:[i.jsx("div",{className:"admin-sidebar__logo-icon",children:""}),i.jsx("span",{children:"PedaClic"})]})}),i.jsx("nav",{className:"admin-sidebar__nav",children:lq.map((b,_)=>i.jsxs("div",{className:"admin-nav__section",children:[i.jsx("h3",{className:"admin-nav__title",children:b.title}),i.jsx("ul",{className:"admin-nav__list",children:b.items.map(N=>i.jsx("li",{className:"admin-nav__item",children:i.jsxs(ke,{to:N.href,className:`admin-nav__link ${x(N)?"admin-nav__link--active":""}`,children:[i.jsx("span",{className:"admin-nav__icon",children:N.icon}),i.jsx("span",{className:"admin-nav__label",children:N.label})]})},N.id))})]},_))}),i.jsx("footer",{className:"admin-sidebar__footer",children:i.jsxs("div",{className:"admin-user",children:[i.jsx("div",{className:"admin-user__avatar",children:h()}),i.jsxs("div",{className:"admin-user__info",children:[i.jsx("div",{className:"admin-user__name",children:r?.displayName||"Administrateur"}),i.jsx("div",{className:"admin-user__role",children:v()})]}),i.jsx("button",{onClick:p,disabled:u,className:"admin-logout-btn",title:"Se dconnecter",children:u?"...":""})]})})]}),i.jsxs("main",{className:"admin-content",children:[i.jsx("button",{className:"admin-sidebar-toggle",onClick:()=>o(!l),"aria-label":"Toggle sidebar",children:""}),e]}),i.jsx("style",{children:`
        /* Bouton de dconnexion */
        .admin-logout-btn {
          width: 36px;
          height: 36px;
          border: none;
          background: rgba(255, 255, 255, 0.1);
          color: white;
          border-radius: var(--radius-md);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all var(--transition-base);
          font-size: var(--text-lg);
        }

        .admin-logout-btn:hover {
          background: rgba(255, 255, 255, 0.2);
        }

        .admin-logout-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        /* Bouton toggle sidebar (mobile) */
        .admin-sidebar-toggle {
          display: none;
          position: fixed;
          top: var(--spacing-md);
          left: var(--spacing-md);
          z-index: var(--z-fixed);
          width: 44px;
          height: 44px;
          border: none;
          background: var(--color-primary);
          color: white;
          border-radius: var(--radius-md);
          cursor: pointer;
          font-size: var(--text-xl);
        }

        @media (max-width: 768px) {
          .admin-sidebar-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
          }

          .admin-sidebar {
            transform: translateX(-100%);
            transition: transform var(--transition-base);
          }

          .admin-sidebar:not(.admin-sidebar--collapsed) {
            transform: translateX(0);
          }

          .admin-content {
            padding-top: calc(var(--spacing-xl) + 44px);
          }
        }

        /* Animation de la sidebar rduite */
        .admin-sidebar--collapsed {
          width: 80px;
        }

        .admin-sidebar--collapsed .admin-nav__label,
        .admin-sidebar--collapsed .admin-nav__title,
        .admin-sidebar--collapsed .admin-sidebar__logo span,
        .admin-sidebar--collapsed .admin-user__info {
          display: none;
        }

        .admin-sidebar--collapsed .admin-sidebar__logo {
          justify-content: center;
        }
      `})]})},yi="chapitres",Zh=e=>{const t=e.data();return{id:e.id,disciplineId:t.disciplineId,numero:t.numero,titre:t.titre,description:t.description,objectifs:t.objectifs||[],dureeEstimee:t.dureeEstimee,isPremium:t.isPremium||!1,actif:t.actif!==!1,createdAt:t.createdAt?.toDate()||new Date,updatedAt:t.updatedAt?.toDate()}},xi={async getByDiscipline(e){try{const t=Ke(Te(he,yi),Be("disciplineId","==",e),Pt("numero","asc"));return(await $e(t)).docs.map(Zh)}catch(t){throw console.error("Erreur lors de la rcupration des chapitres:",t),new Error("Impossible de rcuprer les chapitres")}},async getAll(){try{const e=Ke(Te(he,yi),Pt("numero","asc"));return(await $e(e)).docs.map(Zh)}catch(e){throw console.error("Erreur lors de la rcupration des chapitres:",e),new Error("Impossible de rcuprer les chapitres")}},async getById(e){try{const t=De(he,yi,e),r=await yr(t);return r.exists()?Zh(r):null}catch(t){throw console.error("Erreur lors de la rcupration du chapitre:",t),new Error("Impossible de rcuprer le chapitre")}},async create(e){try{return(await Lr(Te(he,yi),{...e,actif:e.actif!==!1,createdAt:jt(),updatedAt:jt()})).id}catch(t){throw console.error("Erreur lors de la cration du chapitre:",t),new Error("Impossible de crer le chapitre")}},async update(e,t){try{const r=De(he,yi,e);await _t(r,{...t,updatedAt:jt()})}catch(r){throw console.error("Erreur lors de la mise  jour du chapitre:",r),new Error("Impossible de mettre  jour le chapitre")}},async delete(e){try{const t=De(he,yi,e);await js(t)}catch(t){throw console.error("Erreur lors de la suppression du chapitre:",t),new Error("Impossible de supprimer le chapitre")}},async deleteByDiscipline(e){try{const t=await this.getByDiscipline(e),r=sc(he);t.forEach(n=>{const l=De(he,yi,n.id);r.delete(l)}),await r.commit()}catch(t){throw console.error("Erreur lors de la suppression des chapitres:",t),new Error("Impossible de supprimer les chapitres")}},async reorder(e,t){try{const r=sc(he);t.forEach((n,l)=>{const o=De(he,yi,n);r.update(o,{numero:l+1,updatedAt:jt()})}),await r.commit()}catch(r){throw console.error("Erreur lors de la rorganisation des chapitres:",r),new Error("Impossible de rorganiser les chapitres")}},async toggleActive(e,t){await this.update(e,{actif:t})},async countByDiscipline(e){return(await this.getByDiscipline(e)).length},async getNextNumero(e){return await this.countByDiscipline(e)+1}},oq=()=>{const{currentUser:e}=Ht(),t=Zr(),[r,n]=j.useState({totalDisciplines:0,totalChapitres:0,totalRessources:0,ressourcesPremium:0,ressourcesGratuites:0,totalQuiz:0,totalQuizAvances:0,ressourcesParType:{cours:0,exercice:0,video:0,document:0,quiz:0}}),[l,o]=j.useState(!0),[u,f]=j.useState(null);return j.useEffect(()=>{(async()=>{try{o(!0),f(null);const[p,h,v,x,b]=await Promise.all([zi.getAll(),xi.getAll(),Na.getStats(),$e(Te(he,"quizzes")),$e(Te(he,"quizzes_v2"))]);n({totalDisciplines:p.length,totalChapitres:h.length,totalRessources:v.total,ressourcesPremium:v.premium,ressourcesGratuites:v.gratuit,totalQuiz:x.size,totalQuizAvances:b.size,ressourcesParType:v.parType})}catch(p){console.error("Erreur lors du chargement des statistiques:",p),f("Impossible de charger les statistiques")}finally{o(!1)}})()},[]),i.jsxs("div",{className:"admin-dashboard",children:[i.jsx("header",{className:"admin-page-header",children:i.jsxs("div",{className:"admin-page-header__info",children:[i.jsx("h1",{className:"admin-page-header__title",children:"Tableau de bord"}),i.jsxs("p",{className:"admin-page-header__subtitle",children:["Bienvenue, ",e?.displayName||"Administrateur"," ! Grez votre contenu pdagogique depuis cette interface."]})]})}),u&&i.jsxs("div",{className:"alert alert--error",children:[i.jsx("span",{className:"alert__icon",children:""}),i.jsx("div",{className:"alert__content",children:i.jsx("p",{className:"alert__message",children:u})})]}),l?i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Chargement des statistiques..."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("section",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card stat-card--clickable",onClick:()=>t("/admin/disciplines"),role:"button",tabIndex:0,onKeyDown:m=>m.key==="Enter"&&t("/admin/disciplines"),children:[i.jsx("div",{className:"stat-card__icon stat-card__icon--primary",children:""}),i.jsxs("div",{className:"stat-card__content",children:[i.jsx("div",{className:"stat-card__value",children:r.totalDisciplines}),i.jsx("div",{className:"stat-card__label",children:"Disciplines"})]})]}),i.jsxs("div",{className:"stat-card stat-card--clickable",onClick:()=>t("/admin/chapitres"),role:"button",tabIndex:0,onKeyDown:m=>m.key==="Enter"&&t("/admin/chapitres"),children:[i.jsx("div",{className:"stat-card__icon stat-card__icon--secondary",children:""}),i.jsxs("div",{className:"stat-card__content",children:[i.jsx("div",{className:"stat-card__value",children:r.totalChapitres}),i.jsx("div",{className:"stat-card__label",children:"Chapitres"})]})]}),i.jsxs("div",{className:"stat-card stat-card--clickable",onClick:()=>t("/admin/ressources"),role:"button",tabIndex:0,onKeyDown:m=>m.key==="Enter"&&t("/admin/ressources"),children:[i.jsx("div",{className:"stat-card__icon stat-card__icon--info",children:""}),i.jsxs("div",{className:"stat-card__content",children:[i.jsx("div",{className:"stat-card__value",children:r.totalRessources}),i.jsx("div",{className:"stat-card__label",children:"Ressources"})]})]}),i.jsxs("div",{className:"stat-card stat-card--clickable",onClick:()=>t("/admin/ressources"),role:"button",tabIndex:0,onKeyDown:m=>m.key==="Enter"&&t("/admin/ressources"),children:[i.jsx("div",{className:"stat-card__icon stat-card__icon--warning",children:""}),i.jsxs("div",{className:"stat-card__content",children:[i.jsx("div",{className:"stat-card__value",children:r.ressourcesPremium}),i.jsx("div",{className:"stat-card__label",children:"Ressources Premium"})]})]}),i.jsxs("div",{className:"stat-card stat-card--clickable",onClick:()=>t("/admin/quiz"),role:"button",tabIndex:0,onKeyDown:m=>m.key==="Enter"&&t("/admin/quiz"),children:[i.jsx("div",{className:"stat-card__icon stat-card__icon--quiz",children:""}),i.jsxs("div",{className:"stat-card__content",children:[i.jsx("div",{className:"stat-card__value",children:r.totalQuiz}),i.jsx("div",{className:"stat-card__label",children:"Quiz"})]})]}),i.jsxs("div",{className:"stat-card stat-card--clickable",onClick:()=>t("/admin/quiz-avance"),role:"button",tabIndex:0,onKeyDown:m=>m.key==="Enter"&&t("/admin/quiz-avance"),children:[i.jsx("div",{className:"stat-card__icon stat-card__icon--advanced",children:""}),i.jsxs("div",{className:"stat-card__content",children:[i.jsx("div",{className:"stat-card__value",children:r.totalQuizAvances}),i.jsx("div",{className:"stat-card__label",children:"Quiz Avancs"})]})]})]}),i.jsxs("section",{className:"content-card",children:[i.jsx("div",{className:"content-card__header",children:i.jsx("h2",{children:"Rpartition des ressources par type"})}),i.jsx("div",{className:"content-card__body",children:i.jsxs("div",{className:"resource-type-grid",children:[i.jsxs("div",{className:"resource-type-item resource-type-item--clickable",onClick:()=>t("/admin/ressources"),role:"button",tabIndex:0,children:[i.jsx("div",{className:"resource-item__icon resource-item__icon--cours",children:""}),i.jsxs("div",{className:"resource-type-info",children:[i.jsx("span",{className:"resource-type-value",children:r.ressourcesParType.cours}),i.jsx("span",{className:"resource-type-label",children:"Cours"})]})]}),i.jsxs("div",{className:"resource-type-item resource-type-item--clickable",onClick:()=>t("/admin/ressources"),role:"button",tabIndex:0,children:[i.jsx("div",{className:"resource-item__icon resource-item__icon--exercice",children:""}),i.jsxs("div",{className:"resource-type-info",children:[i.jsx("span",{className:"resource-type-value",children:r.ressourcesParType.exercice}),i.jsx("span",{className:"resource-type-label",children:"Exercices"})]})]}),i.jsxs("div",{className:"resource-type-item resource-type-item--clickable",onClick:()=>t("/admin/ressources"),role:"button",tabIndex:0,children:[i.jsx("div",{className:"resource-item__icon resource-item__icon--video",children:""}),i.jsxs("div",{className:"resource-type-info",children:[i.jsx("span",{className:"resource-type-value",children:r.ressourcesParType.video}),i.jsx("span",{className:"resource-type-label",children:"Vidos"})]})]}),i.jsxs("div",{className:"resource-type-item resource-type-item--clickable",onClick:()=>t("/admin/ressources"),role:"button",tabIndex:0,children:[i.jsx("div",{className:"resource-item__icon resource-item__icon--document",children:""}),i.jsxs("div",{className:"resource-type-info",children:[i.jsx("span",{className:"resource-type-value",children:r.ressourcesParType.document}),i.jsx("span",{className:"resource-type-label",children:"Documents"})]})]}),i.jsxs("div",{className:"resource-type-item resource-type-item--clickable",onClick:()=>t("/admin/quiz"),role:"button",tabIndex:0,children:[i.jsx("div",{className:"resource-item__icon resource-item__icon--quiz",children:""}),i.jsxs("div",{className:"resource-type-info",children:[i.jsx("span",{className:"resource-type-value",children:r.totalQuiz+r.totalQuizAvances}),i.jsx("span",{className:"resource-type-label",children:"Quiz (tous)"})]})]})]})})]}),i.jsxs("section",{className:"content-card",style:{marginTop:"var(--spacing-xl)"},children:[i.jsx("div",{className:"content-card__header",children:i.jsx("h2",{children:"Actions rapides"})}),i.jsx("div",{className:"content-card__body",children:i.jsxs("div",{className:"quick-actions-grid",children:[i.jsxs("a",{href:"/admin/disciplines",className:"quick-action-card",children:[i.jsx("div",{className:"quick-action-icon",children:""}),i.jsxs("div",{className:"quick-action-content",children:[i.jsx("h3",{children:"Grer les disciplines"}),i.jsx("p",{children:"Ajouter, modifier ou supprimer des matires"})]})]}),i.jsxs("a",{href:"/admin/chapitres",className:"quick-action-card",children:[i.jsx("div",{className:"quick-action-icon",children:""}),i.jsxs("div",{className:"quick-action-content",children:[i.jsx("h3",{children:"Grer les chapitres"}),i.jsx("p",{children:"Organiser le contenu par chapitres"})]})]}),i.jsxs("a",{href:"/admin/ressources",className:"quick-action-card",children:[i.jsx("div",{className:"quick-action-icon",children:""}),i.jsxs("div",{className:"quick-action-content",children:[i.jsx("h3",{children:"Grer les ressources"}),i.jsx("p",{children:"Cours, exercices, vidos et documents"})]})]}),i.jsxs("a",{href:"/admin/quiz",className:"quick-action-card",children:[i.jsx("div",{className:"quick-action-icon",children:""}),i.jsxs("div",{className:"quick-action-content",children:[i.jsx("h3",{children:"Grer les quiz"}),i.jsx("p",{children:"Crer et modifier des quiz pour les lves"})]})]}),i.jsxs("a",{href:"/admin/quiz-avance",className:"quick-action-card",children:[i.jsx("div",{className:"quick-action-icon",children:""}),i.jsxs("div",{className:"quick-action-content",children:[i.jsx("h3",{children:"Quiz avancs"}),i.jsx("p",{children:"Quiz interactifs avec niveaux de difficult"})]})]}),i.jsxs("a",{href:"/admin/utilisateurs",className:"quick-action-card",children:[i.jsx("div",{className:"quick-action-icon",children:""}),i.jsxs("div",{className:"quick-action-content",children:[i.jsx("h3",{children:"Grer les utilisateurs"}),i.jsx("p",{children:"lves, professeurs et administrateurs"})]})]})]})})]})]}),i.jsx("style",{children:`
        /* ====== Stat cards cliquables ====== */
        /* Curseur pointer + effet hover sur les cartes de statistiques */
        .stat-card--clickable {
          cursor: pointer;
          transition: all 0.2s ease;
        }
        .stat-card--clickable:hover {
          transform: translateY(-3px);
          box-shadow: var(--shadow-lg, 0 8px 24px rgba(0,0,0,0.12));
          border-color: var(--color-primary, #3182ce);
        }
        .stat-card--clickable:active {
          transform: translateY(-1px);
        }

        /* Icne quiz (violet) */
        .stat-card__icon--quiz {
          background: #f3e8ff;
          color: #7c3aed;
        }
        /* Icne quiz avanc (rose) */
        .stat-card__icon--advanced {
          background: #fce7f3;
          color: #db2777;
        }

        /* ====== Grille des types de ressources ====== */
        .resource-type-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
          gap: var(--spacing-lg);
        }

        .resource-type-item {
          display: flex;
          align-items: center;
          gap: var(--spacing-md);
          padding: var(--spacing-md);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-lg);
        }

        /* Cartes de rpartition cliquables */
        .resource-type-item--clickable {
          cursor: pointer;
          transition: all 0.2s ease;
          border: 1px solid transparent;
        }
        .resource-type-item--clickable:hover {
          border-color: var(--color-primary, #3182ce);
          box-shadow: 0 2px 8px rgba(0,0,0,0.08);
          transform: translateY(-2px);
        }

        .resource-type-info {
          display: flex;
          flex-direction: column;
        }

        .resource-type-value {
          font-size: var(--text-2xl);
          font-weight: var(--font-bold);
          color: var(--color-text);
        }

        .resource-type-label {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        /* ====== Actions rapides ====== */
        .quick-actions-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: var(--spacing-lg);
        }

        .quick-action-card {
          display: flex;
          align-items: flex-start;
          gap: var(--spacing-lg);
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          text-decoration: none;
          color: inherit;
          transition: all var(--transition-base);
        }

        .quick-action-card:hover {
          border-color: var(--color-primary);
          box-shadow: var(--shadow-md);
          transform: translateY(-2px);
        }

        .quick-action-icon {
          font-size: 2rem;
          line-height: 1;
        }

        .quick-action-content h3 {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          margin-bottom: var(--spacing-xs);
          color: var(--color-text);
        }

        .quick-action-content p {
          font-size: var(--text-sm);
          color: var(--color-text-light);
          margin: 0;
        }

        @media (max-width: 768px) {
          .resource-type-grid,
          .quick-actions-grid {
            grid-template-columns: 1fr;
          }
        }
      `})]})},Oe={container:{maxWidth:"900px",margin:"0 auto",padding:"24px"},title:{fontSize:"1.5rem",fontWeight:700,color:"#1a365d",marginBottom:"24px"},form:{background:"#ffffff",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",marginBottom:"32px",border:"1px solid #e2e8f0"},formTitle:{fontSize:"1.1rem",fontWeight:600,color:"#2d3748",marginBottom:"20px",paddingBottom:"12px",borderBottom:"2px solid #3182ce"},formGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px",marginBottom:"20px"},fieldGroup:{display:"flex",flexDirection:"column",gap:"6px"},label:{fontSize:"0.875rem",fontWeight:600,color:"#4a5568"},labelOptional:{fontSize:"0.75rem",fontWeight:400,color:"#a0aec0",marginLeft:"4px"},input:{padding:"10px 14px",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"0.95rem",outline:"none",transition:"border-color 0.2s"},select:{padding:"10px 14px",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"0.95rem",background:"#fff",cursor:"pointer"},textarea:{padding:"10px 14px",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"0.95rem",minHeight:"80px",resize:"vertical",fontFamily:"inherit"},btnPrimary:{padding:"12px 28px",background:"#3182ce",color:"#fff",border:"none",borderRadius:"8px",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",transition:"background 0.2s"},btnSecondary:{padding:"12px 28px",background:"#e2e8f0",color:"#4a5568",border:"none",borderRadius:"8px",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",marginLeft:"12px"},btnDanger:{padding:"6px 14px",background:"#fed7d7",color:"#c53030",border:"1px solid #fc8181",borderRadius:"6px",fontSize:"0.8rem",cursor:"pointer"},btnEdit:{padding:"6px 14px",background:"#ebf8ff",color:"#2b6cb0",border:"1px solid #90cdf4",borderRadius:"6px",fontSize:"0.8rem",cursor:"pointer",marginRight:"8px"},card:{background:"#fff",borderRadius:"10px",padding:"16px 20px",boxShadow:"0 1px 4px rgba(0,0,0,0.06)",border:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},badge:{display:"inline-block",padding:"3px 10px",borderRadius:"12px",fontSize:"0.75rem",fontWeight:600},badgeCollege:{background:"#ebf8ff",color:"#2b6cb0"},badgeLycee:{background:"#fefcbf",color:"#975a16"},badgeFormationLibre:{background:"#f0fff4",color:"#276749"},tabs:{display:"flex",gap:"8px",marginBottom:"20px",flexWrap:"wrap"},tab:{padding:"8px 20px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"#fff",cursor:"pointer",fontSize:"0.9rem",fontWeight:500,transition:"all 0.2s"},tabActive:{background:"#3182ce",color:"#fff",borderColor:"#3182ce"}},Jh={nom:"",niveau:"college",classe:"6eme",ordre:0,coefficient:void 0,couleur:"",icone:"",description:""},cq=()=>{const[e,t]=j.useState([]),[r,n]=j.useState(Jh),[l,o]=j.useState(null),[u,f]=j.useState(!1),[m,p]=j.useState("all");j.useEffect(()=>{const O=Ke(Te(he,"disciplines"),Pt("nom")),C=YC(O,E=>{const z=E.docs.map(D=>({id:D.id,...D.data(),createdAt:D.data().createdAt?.toDate()||new Date,updatedAt:D.data().updatedAt?.toDate()||new Date}));t(z)});return()=>C()},[]);const h=j.useCallback(O=>{const C=R_(O)[0]?.value||"6eme";n(E=>({...E,niveau:O,classe:C,coefficient:O==="formation_libre"?void 0:E.coefficient}))},[]),v=async O=>{if(O.preventDefault(),!!r.nom.trim()){f(!0);try{const C={nom:r.nom.trim(),niveau:r.niveau,classe:r.classe,ordre:r.ordre,...r.coefficient!==void 0&&{coefficient:r.coefficient},couleur:r.couleur||"",icone:r.icone||"",description:r.description||"",updatedAt:Mt.now()};l?await _t(De(he,"disciplines",l),C):await Lr(Te(he,"disciplines"),{...C,createdAt:Mt.now()}),n(Jh),o(null)}catch(C){console.error("Erreur lors de la sauvegarde :",C),alert("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{f(!1)}}},x=O=>{n({nom:O.nom,niveau:O.niveau,classe:O.classe,ordre:O.ordre,coefficient:O.coefficient,couleur:O.couleur||"",icone:O.icone||"",description:O.description||""}),o(O.id)},b=async(O,C)=>{if(window.confirm(`Supprimer la discipline "${C}" ? Cette action est irrversible.`))try{await js(De(he,"disciplines",O))}catch(E){console.error("Erreur lors de la suppression :",E)}},_=()=>{n(Jh),o(null)},N=R_(r.niveau),S=m==="all"?e:e.filter(O=>O.niveau===m),A=O=>({...Oe.badge,...O==="college"?Oe.badgeCollege:{},...O==="lycee"?Oe.badgeLycee:{},...O==="formation_libre"?Oe.badgeFormationLibre:{}});return i.jsxs("div",{style:Oe.container,children:[i.jsx("h2",{style:Oe.title,children:" Gestion des Disciplines"}),i.jsxs("form",{style:Oe.form,onSubmit:v,children:[i.jsx("h3",{style:Oe.formTitle,children:l?" Modifier la discipline":" Ajouter une discipline"}),i.jsxs("div",{style:Oe.formGrid,children:[i.jsxs("div",{style:Oe.fieldGroup,children:[i.jsx("label",{style:Oe.label,children:"Nom de la discipline"}),i.jsx("input",{type:"text",style:Oe.input,value:r.nom,onChange:O=>n({...r,nom:O.target.value}),placeholder:"Ex : Cuisine sngalaise, Couture, Franais...",required:!0})]}),i.jsxs("div",{style:Oe.fieldGroup,children:[i.jsx("label",{style:Oe.label,children:"Niveau"}),i.jsxs("select",{style:Oe.select,value:r.niveau,onChange:O=>h(O.target.value),children:[i.jsx("option",{value:"college",children:" Collge"}),i.jsx("option",{value:"lycee",children:" Lyce"}),i.jsx("option",{value:"formation_libre",children:" Formation libre"})]})]}),i.jsxs("div",{style:Oe.fieldGroup,children:[i.jsx("label",{style:Oe.label,children:r.niveau==="formation_libre"?"Niveau de formation":"Classe"}),i.jsx("select",{style:Oe.select,value:r.classe,onChange:O=>n({...r,classe:O.target.value}),children:N.map(({value:O,label:C})=>i.jsx("option",{value:O,children:C},O))})]}),i.jsxs("div",{style:Oe.fieldGroup,children:[i.jsx("label",{style:Oe.label,children:"Ordre d'affichage"}),i.jsx("input",{type:"number",style:Oe.input,value:r.ordre,onChange:O=>n({...r,ordre:Number(O.target.value)}),placeholder:"Ex : 1",min:"0"})]}),i.jsxs("div",{style:Oe.fieldGroup,children:[i.jsxs("label",{style:Oe.label,children:["Coefficient",r.niveau==="formation_libre"&&i.jsx("span",{style:Oe.labelOptional,children:"(optionnel)"})]}),i.jsx("input",{type:"number",style:Oe.input,value:r.coefficient??"",onChange:O=>n({...r,coefficient:O.target.value?Number(O.target.value):void 0}),placeholder:r.niveau==="formation_libre"?"Non requis":"Ex : 3",min:"1",max:"10",required:r.niveau!=="formation_libre"})]}),i.jsxs("div",{style:Oe.fieldGroup,children:[i.jsxs("label",{style:Oe.label,children:["Couleur",i.jsx("span",{style:Oe.labelOptional,children:"(optionnel)"})]}),i.jsx("input",{type:"color",style:{...Oe.input,maxWidth:"80px",padding:"4px",height:"40px"},value:r.couleur||"#3182ce",onChange:O=>n({...r,couleur:O.target.value})})]})]}),i.jsxs("div",{style:{...Oe.fieldGroup,marginBottom:"20px"},children:[i.jsxs("label",{style:Oe.label,children:["Description",i.jsx("span",{style:Oe.labelOptional,children:"(optionnel)"})]}),i.jsx("textarea",{style:Oe.textarea,value:r.description,onChange:O=>n({...r,description:O.target.value}),placeholder:"Brve description de la discipline..."})]}),i.jsxs("div",{style:{...Oe.fieldGroup,marginBottom:"20px"},children:[i.jsxs("label",{style:Oe.label,children:["Icne (emoji)",i.jsx("span",{style:Oe.labelOptional,children:"(optionnel)"})]}),i.jsx("input",{type:"text",style:{...Oe.input,maxWidth:"120px"},value:r.icone,onChange:O=>n({...r,icone:O.target.value}),placeholder:""})]}),i.jsxs("div",{children:[i.jsx("button",{type:"submit",style:Oe.btnPrimary,disabled:u,children:u?"Enregistrement...":l?"Mettre  jour":"Ajouter la discipline"}),l&&i.jsx("button",{type:"button",style:Oe.btnSecondary,onClick:_,children:"Annuler"})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{style:Oe.formTitle,children:[" Disciplines existantes (",S.length,")"]}),i.jsxs("div",{style:Oe.tabs,children:[i.jsx("button",{style:{...Oe.tab,...m==="all"?Oe.tabActive:{}},onClick:()=>p("all"),children:"Toutes"}),i.jsx("button",{style:{...Oe.tab,...m==="college"?Oe.tabActive:{}},onClick:()=>p("college"),children:" Collge"}),i.jsx("button",{style:{...Oe.tab,...m==="lycee"?Oe.tabActive:{}},onClick:()=>p("lycee"),children:" Lyce"}),i.jsx("button",{style:{...Oe.tab,...m==="formation_libre"?Oe.tabActive:{}},onClick:()=>p("formation_libre"),children:" Formation libre"})]}),S.length===0?i.jsx("p",{style:{color:"#a0aec0",fontStyle:"italic",textAlign:"center",padding:"32px"},children:"Aucune discipline trouve pour ce filtre."}):S.map(O=>i.jsxs("div",{style:Oe.card,children:[i.jsxs("div",{children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[O.icone&&i.jsx("span",{style:{fontSize:"1.2rem"},children:O.icone}),i.jsx("strong",{style:{fontSize:"1rem",color:"#2d3748"},children:O.nom}),i.jsx("span",{style:A(O.niveau),children:n2[O.niveau]})]}),i.jsxs("div",{style:{fontSize:"0.85rem",color:"#718096"},children:[O.niveau==="formation_libre"?"Niveau":"Classe"," :"," ",a2(O.classe),O.coefficient!==void 0&&i.jsxs("span",{style:{marginLeft:"12px"},children:["| Coeff : ",O.coefficient]})]})]}),i.jsxs("div",{style:{display:"flex",gap:"4px"},children:[i.jsx("button",{style:Oe.btnEdit,onClick:()=>x(O),children:"Modifier"}),i.jsx("button",{style:Oe.btnDanger,onClick:()=>b(O.id,O.nom),children:"Supprimer"})]})]},O.id))]})]})},$_={numero:1,titre:"",description:"",objectifs:[],dureeEstimee:void 0,isPremium:!1,actif:!0},uq=()=>{const[e,t]=j.useState([]),[r,n]=j.useState([]),[l,o]=j.useState(""),[u,f]=j.useState(!0),[m,p]=j.useState(!1),[h,v]=j.useState(!1),[x,b]=j.useState(null),[_,N]=j.useState(null),[S,A]=j.useState(null),[O,C]=j.useState(!1),[E,z]=j.useState(!1),[D,L]=j.useState(null),[T,q]=j.useState(null),[Y,X]=j.useState({...$_,disciplineId:""}),[$,oe]=j.useState({}),[ue,V]=j.useState(""),k=j.useCallback(async()=>{try{f(!0);const R=await zi.getAll();t(R),R.length>0&&!l&&o(R[0].id)}catch(R){console.error("Erreur lors du chargement des disciplines:",R),N("Impossible de charger les disciplines.")}finally{f(!1)}},[l]),J=j.useCallback(async()=>{if(!l){n([]);return}try{p(!0);const R=await xi.getByDiscipline(l);n(R)}catch(R){console.error("Erreur lors du chargement des chapitres:",R),N("Impossible de charger les chapitres.")}finally{p(!1)}},[l]);j.useEffect(()=>{k()},[k]),j.useEffect(()=>{J()},[J]);const G=()=>{const R={};return Y.disciplineId||(R.disciplineId="Veuillez slectionner une discipline"),Y.titre.trim()?Y.titre.length<3&&(R.titre="Le titre doit contenir au moins 3 caractres"):R.titre="Le titre du chapitre est requis",Y.numero<1&&(R.numero="Le numro doit tre suprieur  0"),oe(R),Object.keys(R).length===0},me=R=>{o(R),N(null)},I=async()=>{const R=await xi.getNextNumero(l);L(null),X({...$_,disciplineId:l,numero:R}),oe({}),V(""),C(!0)},ve=R=>{L(R),X({disciplineId:R.disciplineId,numero:R.numero,titre:R.titre,description:R.description,objectifs:R.objectifs||[],dureeEstimee:R.dureeEstimee,isPremium:R.isPremium,actif:R.actif}),oe({}),V(""),C(!0)},xe=R=>{q(R),z(!0)},pe=()=>{C(!1),z(!1),L(null),q(null),oe({}),V("")},ye=R=>{const{name:ne,value:H,type:ge}=R.target,Pe=R.target.checked;X(qe=>({...qe,[ne]:ge==="checkbox"?Pe:ge==="number"?Number(H):H})),$[ne]&&oe(qe=>({...qe,[ne]:void 0}))},fe=()=>{ue.trim()&&(X(R=>({...R,objectifs:[...R.objectifs||[],ue.trim()]})),V(""))},U=R=>{X(ne=>({...ne,objectifs:(ne.objectifs||[]).filter((H,ge)=>ge!==R)}))},le=async R=>{if(R.preventDefault(),!!G())try{v(!0),N(null),D?(await xi.update(D.id,Y),A("Chapitre modifi avec succs !")):(await xi.create(Y),A("Chapitre cr avec succs !")),pe(),await J(),setTimeout(()=>A(null),3e3)}catch(ne){console.error("Erreur lors de la sauvegarde:",ne),N("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{v(!1)}},we=async()=>{if(T)try{b(T.id),await xi.delete(T.id),A("Chapitre supprim avec succs !"),pe(),await J(),setTimeout(()=>A(null),3e3)}catch(R){console.error("Erreur lors de la suppression:",R),N("Erreur lors de la suppression. Veuillez ressayer.")}finally{b(null)}},re=async R=>{try{await xi.toggleActive(R.id,!R.actif),await J(),A(R.actif?"Chapitre dsactiv":"Chapitre activ"),setTimeout(()=>A(null),2e3)}catch{N("Erreur lors de la mise  jour")}},Q=R=>{const ne=e.find(H=>H.id===R);return ne?ne.nom:"Non trouve"};return i.jsxs("div",{className:"chapitre-manager",children:[i.jsxs("header",{className:"admin-page-header",children:[i.jsxs("div",{className:"admin-page-header__info",children:[i.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Chapitres"}),i.jsx("p",{className:"admin-page-header__subtitle",children:"Organisez le contenu pdagogique par chapitres"})]}),i.jsx("div",{className:"admin-page-header__actions",children:i.jsxs("button",{onClick:I,className:"btn btn--primary",disabled:!l||u,children:[i.jsx("span",{children:""}),"Nouveau chapitre"]})})]}),_&&i.jsxs("div",{className:"alert alert--error",children:[i.jsx("span",{className:"alert__icon",children:""}),i.jsx("div",{className:"alert__content",children:i.jsx("p",{className:"alert__message",children:_})}),i.jsx("button",{onClick:()=>N(null),className:"alert__close",children:""})]}),S&&i.jsxs("div",{className:"alert alert--success",children:[i.jsx("span",{className:"alert__icon",children:""}),i.jsx("div",{className:"alert__content",children:i.jsx("p",{className:"alert__message",children:S})})]}),i.jsx("div",{className:"content-card",style:{marginBottom:"var(--spacing-lg)"},children:i.jsx("div",{className:"content-card__body",children:i.jsxs("div",{className:"discipline-selector",children:[i.jsx("label",{className:"form-label",children:"Slectionner une discipline :"}),u?i.jsx("p",{className:"text-muted",children:"Chargement des disciplines..."}):e.length===0?i.jsxs("p",{className:"text-muted",children:["Aucune discipline disponible.",i.jsx("a",{href:"/admin/disciplines",children:" Crer une discipline"})]}):i.jsx("div",{className:"discipline-tabs",children:e.map(R=>i.jsxs("button",{className:`discipline-tab ${l===R.id?"discipline-tab--active":""}`,onClick:()=>me(R.id),style:{"--discipline-color":R.couleur||"#2563eb"},children:[i.jsx("span",{className:"discipline-tab__icon",children:R.icone||""}),i.jsx("span",{className:"discipline-tab__name",children:R.nom}),i.jsx("span",{className:"discipline-tab__class",children:R.classe})]},R.id))})]})})}),i.jsxs("div",{className:"admin-table-container",children:[i.jsx("div",{className:"admin-table-header",children:i.jsxs("h2",{className:"admin-table-title",children:["Chapitres ",l&&`- ${Q(l)}`,r.length>0&&` (${r.length})`]})}),m?i.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Chargement des chapitres..."})]}):l?r.length===0?i.jsxs("div",{className:"empty-state",children:[i.jsx("div",{className:"empty-state__icon",children:""}),i.jsx("h3",{className:"empty-state__title",children:"Aucun chapitre"}),i.jsx("p",{className:"empty-state__message",children:"Cette discipline n'a pas encore de chapitres."}),i.jsx("button",{onClick:I,className:"btn btn--primary",children:"Crer le premier chapitre"})]}):i.jsx("div",{className:"chapitres-list",children:r.map(R=>i.jsxs("div",{className:`chapitre-card ${R.actif?"":"chapitre-card--inactive"}`,children:[i.jsx("div",{className:"chapitre-card__number",children:R.numero}),i.jsxs("div",{className:"chapitre-card__content",children:[i.jsxs("h3",{className:"chapitre-card__title",children:[R.titre,R.isPremium&&i.jsx("span",{className:"badge badge--premium",children:"Premium"}),!R.actif&&i.jsx("span",{className:"badge badge--warning",children:"Inactif"})]}),R.description&&i.jsx("p",{className:"chapitre-card__description",children:R.description}),i.jsxs("div",{className:"chapitre-card__meta",children:[R.dureeEstimee&&i.jsxs("span",{children:[" ",R.dureeEstimee,"h estime"]}),R.objectifs&&R.objectifs.length>0&&i.jsxs("span",{children:[" ",R.objectifs.length," objectif(s)"]})]})]}),i.jsxs("div",{className:"chapitre-card__actions",children:[i.jsx("button",{onClick:()=>re(R),className:`table-action-btn ${R.actif?"table-action-btn--view":"table-action-btn--edit"}`,title:R.actif?"Dsactiver":"Activer",children:R.actif?"":""}),i.jsx("button",{onClick:()=>ve(R),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),i.jsx("button",{onClick:()=>xe(R),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:x===R.id,children:x===R.id?"":""})]})]},R.id))}):i.jsxs("div",{className:"empty-state",children:[i.jsx("div",{className:"empty-state__icon",children:""}),i.jsx("h3",{className:"empty-state__title",children:"Slectionnez une discipline"}),i.jsx("p",{className:"empty-state__message",children:"Choisissez une discipline ci-dessus pour voir ses chapitres."})]})]}),O&&i.jsx("div",{className:"modal-overlay",onClick:pe,children:i.jsxs("div",{className:"modal modal--lg",onClick:R=>R.stopPropagation(),children:[i.jsxs("div",{className:"modal__header",children:[i.jsx("h2",{className:"modal__title",children:D?"Modifier le chapitre":"Nouveau chapitre"}),i.jsx("button",{onClick:pe,className:"modal__close",children:""})]}),i.jsxs("form",{onSubmit:le,children:[i.jsxs("div",{className:"modal__body",children:[!D&&i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label form-label--required",children:"Discipline"}),i.jsxs("select",{name:"disciplineId",className:`form-select ${$.disciplineId?"form-select--error":""}`,value:Y.disciplineId,onChange:ye,children:[i.jsx("option",{value:"",children:"Slectionner une discipline"}),e.map(R=>i.jsxs("option",{value:R.id,children:[R.icone," ",R.nom," (",R.classe,")"]},R.id))]}),$.disciplineId&&i.jsx("span",{className:"form-error",children:$.disciplineId})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",style:{flex:"0 0 100px"},children:[i.jsx("label",{className:"form-label form-label--required",children:"N"}),i.jsx("input",{type:"number",name:"numero",className:`form-input ${$.numero?"form-input--error":""}`,min:"1",value:Y.numero,onChange:ye}),$.numero&&i.jsx("span",{className:"form-error",children:$.numero})]}),i.jsxs("div",{className:"form-group",style:{flex:1},children:[i.jsx("label",{className:"form-label form-label--required",children:"Titre du chapitre"}),i.jsx("input",{type:"text",name:"titre",className:`form-input ${$.titre?"form-input--error":""}`,placeholder:"Ex: Les fractions, La Rvolution franaise...",value:Y.titre,onChange:ye}),$.titre&&i.jsx("span",{className:"form-error",children:$.titre})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Description"}),i.jsx("textarea",{name:"description",className:"form-textarea",rows:3,placeholder:"Description du chapitre...",value:Y.description||"",onChange:ye})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Objectifs pdagogiques"}),i.jsxs("div",{className:"objectifs-input",children:[i.jsx("input",{type:"text",className:"form-input",placeholder:"Ajouter un objectif...",value:ue,onChange:R=>V(R.target.value),onKeyPress:R=>R.key==="Enter"&&(R.preventDefault(),fe())}),i.jsx("button",{type:"button",onClick:fe,className:"btn btn--outline btn--sm",children:"Ajouter"})]}),Y.objectifs&&Y.objectifs.length>0&&i.jsx("ul",{className:"objectifs-list",children:Y.objectifs.map((R,ne)=>i.jsxs("li",{className:"objectif-item",children:[i.jsxs("span",{children:[" ",R]}),i.jsx("button",{type:"button",onClick:()=>U(ne),className:"objectif-remove",children:""})]},ne))})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Dure estime (heures)"}),i.jsx("input",{type:"number",name:"dureeEstimee",className:"form-input",min:"0",step:"0.5",placeholder:"Ex: 2",value:Y.dureeEstimee||"",onChange:ye})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Options"}),i.jsxs("div",{className:"form-options",children:[i.jsxs("label",{className:"form-checkbox",children:[i.jsx("input",{type:"checkbox",name:"isPremium",checked:Y.isPremium,onChange:ye}),i.jsx("span",{children:"Contenu Premium "})]}),i.jsxs("label",{className:"form-checkbox",children:[i.jsx("input",{type:"checkbox",name:"actif",checked:Y.actif!==!1,onChange:ye}),i.jsx("span",{children:"Chapitre actif"})]})]})]})]})]}),i.jsxs("div",{className:"modal__footer",children:[i.jsx("button",{type:"button",onClick:pe,className:"btn btn--outline",disabled:h,children:"Annuler"}),i.jsx("button",{type:"submit",className:"btn btn--primary",disabled:h,children:h?"Enregistrement...":D?"Mettre  jour":"Crer le chapitre"})]})]})]})}),E&&T&&i.jsx("div",{className:"modal-overlay",onClick:pe,children:i.jsxs("div",{className:"modal",onClick:R=>R.stopPropagation(),children:[i.jsxs("div",{className:"modal__header",children:[i.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),i.jsx("button",{onClick:pe,className:"modal__close",children:""})]}),i.jsxs("div",{className:"modal__body",children:[i.jsxs("p",{children:["Supprimer le chapitre ",i.jsxs("strong",{children:[T.numero,". ",T.titre]})," ?"]}),i.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[i.jsx("span",{className:"alert__icon",children:""}),i.jsx("div",{className:"alert__content",children:i.jsx("p",{className:"alert__message",children:"Les ressources associes ne seront pas supprimes automatiquement."})})]})]}),i.jsxs("div",{className:"modal__footer",children:[i.jsx("button",{onClick:pe,className:"btn btn--outline",children:"Annuler"}),i.jsx("button",{onClick:we,className:"btn btn--danger",disabled:x!==null,children:x?"Suppression...":"Supprimer"})]})]})}),i.jsx("style",{children:`
        /* Slecteur de discipline */
        .discipline-tabs {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
          margin-top: var(--spacing-md);
        }

        .discipline-tab {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          padding: var(--spacing-sm) var(--spacing-md);
          border: 2px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: white;
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .discipline-tab:hover {
          border-color: var(--discipline-color, var(--color-primary));
        }

        .discipline-tab--active {
          border-color: var(--discipline-color, var(--color-primary));
          background: color-mix(in srgb, var(--discipline-color, var(--color-primary)) 10%, white);
        }

        .discipline-tab__icon {
          font-size: var(--text-lg);
        }

        .discipline-tab__name {
          font-weight: var(--font-medium);
        }

        .discipline-tab__class {
          font-size: var(--text-xs);
          color: var(--color-text-light);
          background: var(--color-bg-secondary);
          padding: 2px 6px;
          border-radius: var(--radius-sm);
        }

        /* Liste des chapitres */
        .chapitres-list {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-md);
          padding: var(--spacing-lg);
        }

        .chapitre-card {
          display: flex;
          align-items: center;
          gap: var(--spacing-lg);
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          transition: all var(--transition-base);
        }

        .chapitre-card:hover {
          border-color: var(--color-primary);
          box-shadow: var(--shadow-md);
        }

        .chapitre-card--inactive {
          opacity: 0.6;
          background: var(--color-bg-tertiary);
        }

        .chapitre-card__number {
          width: 48px;
          height: 48px;
          background: var(--color-primary);
          color: white;
          border-radius: var(--radius-md);
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: var(--text-xl);
          font-weight: var(--font-bold);
          flex-shrink: 0;
        }

        .chapitre-card__content {
          flex: 1;
          min-width: 0;
        }

        .chapitre-card__title {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          margin-bottom: var(--spacing-xs);
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        .chapitre-card__description {
          font-size: var(--text-sm);
          color: var(--color-text-light);
          margin: 0 0 var(--spacing-sm);
        }

        .chapitre-card__meta {
          display: flex;
          gap: var(--spacing-lg);
          font-size: var(--text-xs);
          color: var(--color-text-lighter);
        }

        .chapitre-card__actions {
          display: flex;
          gap: var(--spacing-sm);
        }

        /* Formulaire: Ligne */
        .form-row {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: var(--spacing-lg);
        }

        @media (max-width: 600px) {
          .form-row {
            grid-template-columns: 1fr;
          }
        }

        /* Objectifs */
        .objectifs-input {
          display: flex;
          gap: var(--spacing-sm);
        }

        .objectifs-list {
          list-style: none;
          margin-top: var(--spacing-md);
        }

        .objectif-item {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--spacing-sm) var(--spacing-md);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-md);
          margin-bottom: var(--spacing-xs);
        }

        .objectif-remove {
          background: none;
          border: none;
          cursor: pointer;
          color: var(--color-error);
          opacity: 0.7;
        }

        .objectif-remove:hover {
          opacity: 1;
        }

        /* Options */
        .form-options {
          display: flex;
          flex-direction: column;
          gap: var(--spacing-sm);
          margin-top: var(--spacing-sm);
        }
      `})]})},rd=[{value:"cours",label:"Cours",icon:"",color:"#2563eb"},{value:"exercice",label:"Exercice",icon:"",color:"#10b981"},{value:"video",label:"Vido",icon:"",color:"#ef4444"},{value:"document",label:"Document",icon:"",color:"#f59e0b"},{value:"quiz",label:"Quiz",icon:"",color:"#8b5cf6"}],nd={cours:[".pdf",".doc",".docx",".ppt",".pptx"],exercice:[".pdf",".doc",".docx"],video:[".mp4",".webm",".mov",".avi"],document:[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx"],quiz:[".json",".pdf"]},ev=50,U_={titre:"",type:"cours",description:"",contenu:"",chapitre:"",ordre:1,isPremium:!1,actif:!0,tags:[],duree:void 0,urlExterne:""},dq=()=>{const{currentUser:e}=Ht(),[t,r]=j.useState([]),[n,l]=j.useState([]),[o,u]=j.useState([]),[f,m]=j.useState([]),[p,h]=j.useState(""),[v,x]=j.useState(""),[b,_]=j.useState(""),[N,S]=j.useState(""),[A,O]=j.useState(""),[C,E]=j.useState(!0),[z,D]=j.useState(!1),[L,T]=j.useState(!1),[q,Y]=j.useState(!1),[X,$]=j.useState(null),[oe,ue]=j.useState(!1),[V,k]=j.useState(0),[J,G]=j.useState(null),[me,I]=j.useState(null),[ve,xe]=j.useState(!1),[pe,ye]=j.useState(!1),[fe,U]=j.useState(!1),[le,we]=j.useState(null),[re,Q]=j.useState(null),[R,ne]=j.useState(null),[H,ge]=j.useState({...U_,disciplineId:""}),[Pe,qe]=j.useState({}),[Ge,Gt]=j.useState(null),[jn,Jr]=j.useState(null),ra=j.useRef(null),[ie,Se]=j.useState(""),ze=j.useCallback(async()=>{try{E(!0);const K=await zi.getAll();r(K),K.length>0&&!p&&h(K[0].id)}catch(K){console.error("Erreur lors du chargement des disciplines:",K),G("Impossible de charger les disciplines.")}finally{E(!1)}},[p]),Re=j.useCallback(async()=>{if(!p){l([]);return}try{D(!0);const K=await xi.getByDiscipline(p);l(K)}catch(K){console.error("Erreur lors du chargement des chapitres:",K)}finally{D(!1)}},[p]),yt=j.useCallback(async()=>{if(!p){u([]),m([]);return}try{T(!0);const K=await Na.getByDiscipline(p);u(K),m(K)}catch(K){console.error("Erreur lors du chargement des ressources:",K),G("Impossible de charger les ressources.")}finally{T(!1)}},[p]);j.useEffect(()=>{ze()},[ze]),j.useEffect(()=>{Re()},[Re]),j.useEffect(()=>{yt()},[yt]),j.useEffect(()=>{let K=[...o];if(v&&(K=K.filter(Ee=>Ee.chapitre===v)),b&&(K=K.filter(Ee=>Ee.type===b)),N==="premium"?K=K.filter(Ee=>Ee.isPremium):N==="free"&&(K=K.filter(Ee=>!Ee.isPremium)),A){const Ee=A.toLowerCase();K=K.filter(ct=>ct.titre.toLowerCase().includes(Ee)||ct.description?.toLowerCase().includes(Ee)||ct.tags?.some(hr=>hr.toLowerCase().includes(Ee)))}m(K)},[o,v,b,N,A]);const mr=()=>{const K={};if(H.disciplineId||(K.disciplineId="Veuillez slectionner une discipline"),H.titre.trim()?H.titre.length<3&&(K.titre="Le titre doit contenir au moins 3 caractres"):K.titre="Le titre est requis",H.type||(K.type="Veuillez slectionner un type de ressource"),Ge){const Ee="."+Ge.name.split(".").pop()?.toLowerCase(),ct=nd[H.type];ct.includes(Ee)||(K.fichier=`Extension non autorise. Extensions acceptes : ${ct.join(", ")}`),Ge.size/(1024*1024)>ev&&(K.fichier=`Le fichier est trop volumineux (max ${ev} Mo)`)}return qe(K),Object.keys(K).length===0},Rn=K=>{h(K),x(""),G(null)},Es=()=>{we(null),ge({...U_,disciplineId:p}),qe({}),Gt(null),Jr(null),Se(""),xe(!0)},en=K=>{we(K),ge({disciplineId:K.disciplineId,titre:K.titre,type:K.type,description:K.description,contenu:K.contenu,chapitre:K.chapitre||"",ordre:K.ordre,isPremium:K.isPremium,actif:K.actif,tags:K.tags||[],duree:K.duree,urlExterne:K.urlExterne||""}),qe({}),Gt(null),Jr(K.fichierURL||null),Se(""),xe(!0)},Va=K=>{ne(K),U(!0)},zm=K=>{Q(K),ye(!0)},pr=()=>{xe(!1),ye(!1),U(!1),we(null),Q(null),ne(null),qe({}),Gt(null),Jr(null),Se("")},pt=K=>{const{name:Ee,value:ct,type:hr}=K.target,Yl=K.target.checked;ge(Pi=>({...Pi,[Ee]:hr==="checkbox"?Yl:hr==="number"?Number(ct):ct})),Pe[Ee]&&qe(Pi=>({...Pi,[Ee]:void 0}))},Ln=K=>{const Ee=K.target.files?.[0];if(Ee)if(Gt(Ee),qe(ct=>({...ct,fichier:void 0})),Ee.type.startsWith("image/")||Ee.type.startsWith("video/")){const ct=new FileReader;ct.onloadend=()=>{Jr(ct.result)},ct.readAsDataURL(Ee)}else Jr(null)},br=()=>{Gt(null),Jr(null),ra.current&&(ra.current.value="")},Uc=()=>{ie.trim()&&!H.tags?.includes(ie.trim())&&(ge(K=>({...K,tags:[...K.tags||[],ie.trim()]})),Se(""))},Mm=K=>{ge(Ee=>({...Ee,tags:(Ee.tags||[]).filter((ct,hr)=>hr!==K)}))},Dm=async K=>{if(K.preventDefault(),!!mr())try{Y(!0),G(null);let Ee=le?.fichierURL,ct=le?.fichierNom;if(Ge){ue(!0);const Yl=le?.id||`temp_${Date.now()}`;Ee=await Na.uploadFile(Ge,Yl),ct=Ge?.name||"fichier",ue(!1)}const hr={...H,fichierURL:Ee,fichierNom:ct};le?(await Na.update(le.id,hr),I("Ressource modifie avec succs !")):(await Na.create(hr,"admin"),I("Ressource cre avec succs !")),pr(),await yt(),setTimeout(()=>I(null),3e3)}catch(Ee){console.error("Erreur lors de la sauvegarde:",Ee),G("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{Y(!1),ue(!1),k(0)}},Os=async()=>{if(re)try{$(re.id),re.fichierURL&&await Na.deleteFile(re.fichierURL),await Na.delete(re.id),I("Ressource supprime avec succs !"),pr(),await yt(),setTimeout(()=>I(null),3e3)}catch(K){console.error("Erreur lors de la suppression:",K),G("Erreur lors de la suppression. Veuillez ressayer.")}finally{$(null)}},zs=async K=>{try{await Na.togglePremium(K.id,!K.isPremium),await yt(),I(K.isPremium?"Ressource passe en gratuit":"Ressource passe en Premium"),setTimeout(()=>I(null),2e3)}catch{G("Erreur lors de la mise  jour")}},Ms=K=>{const Ee=t.find(ct=>ct.id===K);return Ee?Ee.nom:"Non trouve"},na=K=>{const Ee=n.find(ct=>ct.id===K);return Ee?`${Ee.numero}. ${Ee.titre}`:""},In=K=>rd.find(Ee=>Ee.value===K)||rd[0],Ti=K=>K<1024?K+" o":K<1024*1024?(K/1024).toFixed(1)+" Ko":(K/(1024*1024)).toFixed(1)+" Mo";return i.jsxs("div",{className:"resource-manager",children:[i.jsxs("header",{className:"admin-page-header",children:[i.jsxs("div",{className:"admin-page-header__info",children:[i.jsx("h1",{className:"admin-page-header__title",children:"Gestion des Ressources"}),i.jsx("p",{className:"admin-page-header__subtitle",children:"Grez les cours, exercices, vidos et documents pdagogiques"})]}),i.jsx("div",{className:"admin-page-header__actions",children:i.jsxs("button",{onClick:Es,className:"btn btn--primary",disabled:!p||C,children:[i.jsx("span",{children:""}),"Nouvelle ressource"]})})]}),J&&i.jsxs("div",{className:"alert alert--error",children:[i.jsx("span",{className:"alert__icon",children:""}),i.jsx("div",{className:"alert__content",children:i.jsx("p",{className:"alert__message",children:J})}),i.jsx("button",{onClick:()=>G(null),className:"alert__close",children:""})]}),me&&i.jsxs("div",{className:"alert alert--success",children:[i.jsx("span",{className:"alert__icon",children:""}),i.jsx("div",{className:"alert__content",children:i.jsx("p",{className:"alert__message",children:me})})]}),i.jsx("div",{className:"content-card",style:{marginBottom:"var(--spacing-lg)"},children:i.jsx("div",{className:"content-card__body",children:i.jsxs("div",{className:"discipline-selector",children:[i.jsx("label",{className:"form-label",children:"Slectionner une discipline :"}),C?i.jsx("p",{className:"text-muted",children:"Chargement des disciplines..."}):t.length===0?i.jsxs("p",{className:"text-muted",children:["Aucune discipline disponible.",i.jsx("a",{href:"/admin/disciplines",children:" Crer une discipline"})]}):i.jsx("div",{className:"discipline-tabs",children:t.map(K=>i.jsxs("button",{className:`discipline-tab ${p===K.id?"discipline-tab--active":""}`,onClick:()=>Rn(K.id),style:{"--discipline-color":K.couleur||"#2563eb"},children:[i.jsx("span",{className:"discipline-tab__icon",children:K.icone||""}),i.jsx("span",{className:"discipline-tab__name",children:K.nom}),i.jsx("span",{className:"discipline-tab__class",children:K.classe})]},K.id))})]})})}),i.jsxs("div",{className:"admin-table-container",children:[i.jsxs("div",{className:"admin-table-header",children:[i.jsxs("h2",{className:"admin-table-title",children:["Ressources ",p&&`- ${Ms(p)}`,f.length>0&&` (${f.length})`]}),i.jsxs("div",{className:"admin-table-actions",children:[i.jsxs("div",{className:"search-input",children:[i.jsx("span",{className:"search-input__icon",children:""}),i.jsx("input",{type:"text",className:"search-input__field",placeholder:"Rechercher...",value:A,onChange:K=>O(K.target.value)})]}),i.jsxs("select",{className:"form-select form-select--sm",value:v,onChange:K=>x(K.target.value),disabled:z||n.length===0,children:[i.jsx("option",{value:"",children:"Tous les chapitres"}),n.map(K=>i.jsxs("option",{value:K.id,children:[K.numero,". ",K.titre]},K.id))]}),i.jsxs("select",{className:"form-select form-select--sm",value:b,onChange:K=>_(K.target.value),children:[i.jsx("option",{value:"",children:"Tous les types"}),rd.map(K=>i.jsxs("option",{value:K.value,children:[K.icon," ",K.label]},K.value))]}),i.jsxs("select",{className:"form-select form-select--sm",value:N,onChange:K=>S(K.target.value),children:[i.jsx("option",{value:"",children:"Tous"}),i.jsx("option",{value:"premium",children:" Premium"}),i.jsx("option",{value:"free",children:"Gratuit"})]})]})]}),L?i.jsxs("div",{className:"loading-container",style:{padding:"var(--spacing-2xl)"},children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Chargement des ressources..."})]}):p?f.length===0?i.jsxs("div",{className:"empty-state",children:[i.jsx("div",{className:"empty-state__icon",children:""}),i.jsx("h3",{className:"empty-state__title",children:"Aucune ressource"}),i.jsx("p",{className:"empty-state__message",children:A||b||N||v?"Aucune ressource ne correspond aux critres de recherche.":"Cette discipline n'a pas encore de ressources."}),!A&&!b&&!N&&!v&&i.jsx("button",{onClick:Es,className:"btn btn--primary",children:"Crer la premire ressource"})]}):i.jsx("div",{className:"resource-list",style:{padding:"var(--spacing-lg)"},children:f.map(K=>{const Ee=In(K.type);return i.jsxs("div",{className:"resource-item",children:[i.jsx("div",{className:`resource-item__icon resource-item__icon--${K.type}`,style:{backgroundColor:`${Ee.color}15`,color:Ee.color},children:Ee.icon}),i.jsxs("div",{className:"resource-item__content",children:[i.jsxs("div",{className:"resource-item__title",children:[K.titre,K.isPremium&&i.jsx("span",{className:"badge badge--premium",children:"Premium"}),!K.actif&&i.jsx("span",{className:"badge badge--warning",children:"Inactif"})]}),i.jsxs("div",{className:"resource-item__meta",children:[i.jsx("span",{children:Ee.label}),K.chapitre&&i.jsxs("span",{children:[" ",na(K.chapitre)]}),K.duree&&i.jsxs("span",{children:[" ",K.duree," min"]}),K.fichierNom&&i.jsxs("span",{children:[" ",K.fichierNom]}),K.tags&&K.tags.length>0&&i.jsxs("span",{children:[" ",K.tags.join(", ")]})]})]}),i.jsxs("div",{className:"resource-item__actions",children:[i.jsx("button",{onClick:()=>zs(K),className:`table-action-btn ${K.isPremium?"table-action-btn--warning":"table-action-btn--view"}`,title:K.isPremium?"Passer en gratuit":"Passer en Premium",children:K.isPremium?"":""}),(K.fichierURL||K.urlExterne)&&i.jsx("button",{onClick:()=>Va(K),className:"table-action-btn table-action-btn--view",title:"Prvisualiser",children:""}),i.jsx("button",{onClick:()=>en(K),className:"table-action-btn table-action-btn--edit",title:"Modifier",children:""}),i.jsx("button",{onClick:()=>zm(K),className:"table-action-btn table-action-btn--delete",title:"Supprimer",disabled:X===K.id,children:X===K.id?"":""})]})]},K.id)})}):i.jsxs("div",{className:"empty-state",children:[i.jsx("div",{className:"empty-state__icon",children:""}),i.jsx("h3",{className:"empty-state__title",children:"Slectionnez une discipline"}),i.jsx("p",{className:"empty-state__message",children:"Choisissez une discipline ci-dessus pour voir ses ressources."})]})]}),ve&&i.jsx("div",{className:"modal-overlay",onClick:pr,children:i.jsxs("div",{className:"modal modal--xl",onClick:K=>K.stopPropagation(),children:[i.jsxs("div",{className:"modal__header",children:[i.jsx("h2",{className:"modal__title",children:le?"Modifier la ressource":"Nouvelle ressource"}),i.jsx("button",{onClick:pr,className:"modal__close",children:""})]}),i.jsxs("form",{onSubmit:Dm,children:[i.jsxs("div",{className:"modal__body",children:[!le&&i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label form-label--required",children:"Discipline"}),i.jsxs("select",{name:"disciplineId",className:`form-select ${Pe.disciplineId?"form-select--error":""}`,value:H.disciplineId,onChange:pt,children:[i.jsx("option",{value:"",children:"Slectionner une discipline"}),t.map(K=>i.jsxs("option",{value:K.id,children:[K.icone," ",K.nom," (",K.classe,")"]},K.id))]}),Pe.disciplineId&&i.jsx("span",{className:"form-error",children:Pe.disciplineId})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",style:{flex:2},children:[i.jsx("label",{className:"form-label form-label--required",children:"Titre"}),i.jsx("input",{type:"text",name:"titre",className:`form-input ${Pe.titre?"form-input--error":""}`,placeholder:"Ex: Introduction aux fractions",value:H.titre,onChange:pt}),Pe.titre&&i.jsx("span",{className:"form-error",children:Pe.titre})]}),i.jsxs("div",{className:"form-group",style:{flex:1},children:[i.jsx("label",{className:"form-label form-label--required",children:"Type"}),i.jsx("select",{name:"type",className:`form-select ${Pe.type?"form-select--error":""}`,value:H.type,onChange:pt,children:rd.map(K=>i.jsxs("option",{value:K.value,children:[K.icon," ",K.label]},K.value))}),Pe.type&&i.jsx("span",{className:"form-error",children:Pe.type})]})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Chapitre (optionnel)"}),i.jsxs("select",{name:"chapitreId",className:"form-select",value:H.chapitre||"",onChange:pt,disabled:z,children:[i.jsx("option",{value:"",children:"Aucun chapitre"}),n.map(K=>i.jsxs("option",{value:K.id,children:[K.numero,". ",K.titre]},K.id))]})]}),i.jsxs("div",{className:"form-group",style:{flex:"0 0 120px"},children:[i.jsx("label",{className:"form-label",children:"Ordre"}),i.jsx("input",{type:"number",name:"ordre",className:"form-input",min:"1",value:H.ordre,onChange:pt})]}),i.jsxs("div",{className:"form-group",style:{flex:"0 0 120px"},children:[i.jsx("label",{className:"form-label",children:"Dure (min)"}),i.jsx("input",{type:"number",name:"duree",className:"form-input",min:"0",placeholder:"Ex: 30",value:H.duree||"",onChange:pt})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Description"}),i.jsx("textarea",{name:"description",className:"form-textarea",rows:3,placeholder:"Description de la ressource...",value:H.description||"",onChange:pt})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{className:"form-label",children:["Fichier",i.jsxs("span",{className:"form-helper",style:{marginLeft:"var(--spacing-sm)"},children:["(",nd[H.type].join(", ")," - max ",ev," Mo)"]})]}),i.jsxs("div",{className:"file-upload",children:[i.jsx("input",{ref:ra,type:"file",accept:nd[H.type].join(","),onChange:Ln,className:"file-upload__input",id:"file-input"}),!Ge&&!jn?i.jsxs("label",{htmlFor:"file-input",className:"file-upload__dropzone",children:[i.jsx("div",{className:"file-upload__icon",children:""}),i.jsx("p",{className:"file-upload__text",children:"Cliquez ou glissez un fichier ici"}),i.jsx("p",{className:"file-upload__hint",children:nd[H.type].join(", ")})]}):i.jsxs("div",{className:"file-upload__preview",children:[Ge?.type.startsWith("image/")&&jn&&i.jsx("img",{src:jn,alt:"Aperu",className:"file-preview__image"}),Ge?.type.startsWith("video/")&&jn&&i.jsx("video",{src:jn,controls:!0,className:"file-preview__video"}),!Ge?.type.startsWith("image/")&&!Ge?.type.startsWith("video/")&&i.jsx("div",{className:"file-preview__document",children:i.jsx("span",{className:"file-preview__icon",children:In(H.type).icon})}),i.jsxs("div",{className:"file-preview__info",children:[i.jsx("p",{className:"file-preview__name",children:Ge?.name||le?.fichierNom}),Ge&&i.jsx("p",{className:"file-preview__size",children:Ti(Ge.size)})]}),i.jsx("button",{type:"button",onClick:br,className:"file-preview__remove",children:""})]})]}),Pe.fichier&&i.jsx("span",{className:"form-error",children:Pe.fichier}),oe&&i.jsxs("div",{className:"upload-progress",children:[i.jsx("div",{className:"upload-progress__bar",style:{width:`${V}%`}}),i.jsxs("span",{className:"upload-progress__text",children:[V,"%"]})]})]}),H.type==="video"&&i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"URL externe (YouTube, Vimeo...)"}),i.jsx("input",{type:"url",name:"urlExterne",className:"form-input",placeholder:"https://www.youtube.com/watch?v=...",value:H.urlExterne||"",onChange:pt}),i.jsx("span",{className:"form-helper",children:"Alternative  l'upload de fichier"})]}),H.type==="cours"&&i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Contenu du cours"}),i.jsx("textarea",{name:"contenu",className:"form-textarea",rows:6,placeholder:"Saisissez le contenu du cours ici...",value:H.contenu||"",onChange:pt}),i.jsx("span",{className:"form-helper",children:"Optionnel si vous uploadez un fichier"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Tags"}),i.jsxs("div",{className:"tags-input",children:[i.jsx("input",{type:"text",className:"form-input",placeholder:"Ajouter un tag...",value:ie,onChange:K=>Se(K.target.value),onKeyPress:K=>K.key==="Enter"&&(K.preventDefault(),Uc())}),i.jsx("button",{type:"button",onClick:Uc,className:"btn btn--outline btn--sm",children:"Ajouter"})]}),H.tags&&H.tags.length>0&&i.jsx("div",{className:"tags-list",children:H.tags.map((K,Ee)=>i.jsxs("span",{className:"tag",children:[K,i.jsx("button",{type:"button",onClick:()=>Mm(Ee),className:"tag__remove",children:""})]},Ee))})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Options"}),i.jsxs("div",{className:"form-options",children:[i.jsxs("label",{className:"form-checkbox",children:[i.jsx("input",{type:"checkbox",name:"isPremium",checked:H.isPremium,onChange:pt}),i.jsx("span",{children:"Contenu Premium "})]}),i.jsxs("label",{className:"form-checkbox",children:[i.jsx("input",{type:"checkbox",name:"actif",checked:H.actif!==!1,onChange:pt}),i.jsx("span",{children:"Ressource active"})]})]})]})]}),i.jsxs("div",{className:"modal__footer",children:[i.jsx("button",{type:"button",onClick:pr,className:"btn btn--outline",disabled:q||oe,children:"Annuler"}),i.jsx("button",{type:"submit",className:"btn btn--primary",disabled:q||oe,children:q||oe?oe?`Upload ${V}%...`:"Enregistrement...":le?"Mettre  jour":"Crer la ressource"})]})]})]})}),fe&&R&&i.jsx("div",{className:"modal-overlay",onClick:pr,children:i.jsxs("div",{className:"modal modal--xl",onClick:K=>K.stopPropagation(),children:[i.jsxs("div",{className:"modal__header",children:[i.jsxs("h2",{className:"modal__title",children:[In(R.type).icon," ",R.titre]}),i.jsx("button",{onClick:pr,className:"modal__close",children:""})]}),i.jsxs("div",{className:"modal__body",children:[R.type==="video"&&R.urlExterne?i.jsx("div",{className:"preview-video",children:i.jsx("iframe",{src:R.urlExterne.replace("watch?v=","embed/"),title:R.titre,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):R.fichierURL?i.jsx("div",{className:"preview-file",children:R.fichierURL.match(/\.(jpg|jpeg|png|gif|webp)$/i)?i.jsx("img",{src:R.fichierURL,alt:R.titre}):R.fichierURL.match(/\.(mp4|webm)$/i)?i.jsx("video",{src:R.fichierURL,controls:!0}):R.fichierURL.match(/\.pdf$/i)?i.jsx("iframe",{src:R.fichierURL,title:R.titre}):i.jsxs("div",{className:"preview-download",children:[i.jsx("span",{className:"preview-download__icon",children:In(R.type).icon}),i.jsx("p",{children:R.fichierNom}),i.jsx("a",{href:R.fichierURL,target:"_blank",rel:"noopener noreferrer",className:"btn btn--primary",children:"Tlcharger"})]})}):R.contenu?i.jsx("div",{className:"preview-content",children:i.jsx("p",{children:R.contenu})}):i.jsx("div",{className:"preview-empty",children:i.jsx("p",{children:"Aucun contenu  prvisualiser"})}),i.jsxs("div",{className:"preview-info",children:[R.description&&i.jsx("p",{className:"preview-description",children:R.description}),i.jsxs("div",{className:"preview-meta",children:[i.jsxs("span",{children:["Type : ",In(R.type).label]}),R.duree&&i.jsxs("span",{children:["Dure : ",R.duree," min"]}),R.isPremium&&i.jsx("span",{className:"badge badge--premium",children:"Premium"})]})]})]})]})}),pe&&re&&i.jsx("div",{className:"modal-overlay",onClick:pr,children:i.jsxs("div",{className:"modal",onClick:K=>K.stopPropagation(),children:[i.jsxs("div",{className:"modal__header",children:[i.jsx("h2",{className:"modal__title",children:"Confirmer la suppression"}),i.jsx("button",{onClick:pr,className:"modal__close",children:""})]}),i.jsxs("div",{className:"modal__body",children:[i.jsxs("p",{children:["Supprimer la ressource ",i.jsx("strong",{children:re.titre})," ?"]}),re.fichierURL&&i.jsxs("div",{className:"alert alert--warning",style:{marginTop:"var(--spacing-md)"},children:[i.jsx("span",{className:"alert__icon",children:""}),i.jsx("div",{className:"alert__content",children:i.jsx("p",{className:"alert__message",children:"Le fichier associ sera galement supprim de faon permanente."})})]})]}),i.jsxs("div",{className:"modal__footer",children:[i.jsx("button",{onClick:pr,className:"btn btn--outline",children:"Annuler"}),i.jsx("button",{onClick:Os,className:"btn btn--danger",disabled:X!==null,children:X?"Suppression...":"Supprimer"})]})]})}),i.jsx("style",{children:`
        /* ==================== SLECTEUR DE DISCIPLINE ==================== */
        
        .discipline-tabs {
          display: flex;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
          margin-top: var(--spacing-md);
        }

        .discipline-tab {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          padding: var(--spacing-sm) var(--spacing-md);
          border: 2px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: white;
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .discipline-tab:hover {
          border-color: var(--discipline-color, var(--color-primary));
        }

        .discipline-tab--active {
          border-color: var(--discipline-color, var(--color-primary));
          background: color-mix(in srgb, var(--discipline-color, var(--color-primary)) 10%, white);
        }

        .discipline-tab__icon {
          font-size: var(--text-lg);
        }

        .discipline-tab__name {
          font-weight: var(--font-medium);
        }

        .discipline-tab__class {
          font-size: var(--text-xs);
          color: var(--color-text-light);
          background: var(--color-bg-secondary);
          padding: 2px 6px;
          border-radius: var(--radius-sm);
        }

        /* ==================== FORMULAIRE ==================== */
        
        .form-row {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: var(--spacing-lg);
        }

        .form-options {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-lg);
          margin-top: var(--spacing-sm);
        }

        .form-select--sm {
          padding: var(--spacing-sm) var(--spacing-md);
          font-size: var(--text-sm);
          min-width: 140px;
        }

        /* ==================== UPLOAD DE FICHIER ==================== */
        
        .file-upload {
          position: relative;
        }

        .file-upload__input {
          position: absolute;
          opacity: 0;
          pointer-events: none;
        }

        .file-upload__dropzone {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: var(--spacing-xl);
          border: 2px dashed var(--color-border);
          border-radius: var(--radius-lg);
          background: var(--color-bg-secondary);
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .file-upload__dropzone:hover {
          border-color: var(--color-primary);
          background: rgba(37, 99, 235, 0.05);
        }

        .file-upload__icon {
          font-size: 48px;
          margin-bottom: var(--spacing-md);
        }

        .file-upload__text {
          font-weight: var(--font-medium);
          margin-bottom: var(--spacing-xs);
        }

        .file-upload__hint {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        .file-upload__preview {
          display: flex;
          align-items: center;
          gap: var(--spacing-lg);
          padding: var(--spacing-md);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-lg);
          background: var(--color-bg-secondary);
        }

        .file-preview__image,
        .file-preview__video {
          width: 120px;
          height: 80px;
          object-fit: cover;
          border-radius: var(--radius-md);
        }

        .file-preview__document {
          width: 80px;
          height: 80px;
          background: white;
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .file-preview__icon {
          font-size: 32px;
        }

        .file-preview__info {
          flex: 1;
        }

        .file-preview__name {
          font-weight: var(--font-medium);
          margin-bottom: var(--spacing-xs);
          word-break: break-all;
        }

        .file-preview__size {
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        .file-preview__remove {
          width: 32px;
          height: 32px;
          border: none;
          background: var(--color-error);
          color: white;
          border-radius: 50%;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all var(--transition-base);
        }

        .file-preview__remove:hover {
          background: #dc2626;
          transform: scale(1.1);
        }

        /* ==================== BARRE DE PROGRESSION ==================== */
        
        .upload-progress {
          margin-top: var(--spacing-md);
          height: 8px;
          background: var(--color-bg-tertiary);
          border-radius: var(--radius-full);
          overflow: hidden;
          position: relative;
        }

        .upload-progress__bar {
          height: 100%;
          background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
          border-radius: var(--radius-full);
          transition: width var(--transition-base);
        }

        .upload-progress__text {
          position: absolute;
          right: var(--spacing-sm);
          top: 50%;
          transform: translateY(-50%);
          font-size: var(--text-xs);
          font-weight: var(--font-semibold);
          color: var(--color-text);
        }

        /* ==================== TAGS ==================== */
        
        .tags-input {
          display: flex;
          gap: var(--spacing-sm);
        }

        .tags-list {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-sm);
          margin-top: var(--spacing-md);
        }

        .tag {
          display: inline-flex;
          align-items: center;
          gap: var(--spacing-xs);
          padding: var(--spacing-xs) var(--spacing-sm);
          background: var(--color-bg-tertiary);
          border-radius: var(--radius-full);
          font-size: var(--text-sm);
          color: var(--color-text);
        }

        .tag__remove {
          width: 18px;
          height: 18px;
          border: none;
          background: transparent;
          color: var(--color-text-light);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          transition: all var(--transition-base);
        }

        .tag__remove:hover {
          background: var(--color-error);
          color: white;
        }

        /* ==================== PRVISUALISATION ==================== */
        
        .preview-video {
          position: relative;
          padding-bottom: 56.25%;
          height: 0;
          overflow: hidden;
          border-radius: var(--radius-lg);
        }

        .preview-video iframe {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          border: none;
        }

        .preview-file {
          text-align: center;
        }

        .preview-file img,
        .preview-file video {
          max-width: 100%;
          max-height: 60vh;
          border-radius: var(--radius-lg);
        }

        .preview-file iframe {
          width: 100%;
          height: 60vh;
          border: none;
          border-radius: var(--radius-lg);
        }

        .preview-download {
          padding: var(--spacing-2xl);
          text-align: center;
        }

        .preview-download__icon {
          font-size: 64px;
          display: block;
          margin-bottom: var(--spacing-lg);
        }

        .preview-content {
          padding: var(--spacing-lg);
          background: var(--color-bg-secondary);
          border-radius: var(--radius-lg);
          white-space: pre-wrap;
        }

        .preview-empty {
          padding: var(--spacing-2xl);
          text-align: center;
          color: var(--color-text-light);
        }

        .preview-info {
          margin-top: var(--spacing-lg);
          padding-top: var(--spacing-lg);
          border-top: 1px solid var(--color-border);
        }

        .preview-description {
          color: var(--color-text-light);
          margin-bottom: var(--spacing-md);
        }

        .preview-meta {
          display: flex;
          flex-wrap: wrap;
          gap: var(--spacing-lg);
          font-size: var(--text-sm);
          color: var(--color-text-light);
        }

        /* ==================== RESSOURCES - AFFICHAGE CARTE ==================== */
        
        .resource-item__title {
          display: flex;
          align-items: center;
          gap: var(--spacing-sm);
          flex-wrap: wrap;
        }

        /* ==================== ACTION WARNING ==================== */
        
        .table-action-btn--warning {
          color: var(--color-warning);
        }

        /* ==================== RESPONSIVE ==================== */
        
        @media (max-width: 768px) {
          .form-row {
            grid-template-columns: 1fr;
          }

          .admin-table-actions {
            flex-direction: column;
            align-items: stretch;
          }

          .search-input__field {
            width: 100%;
          }

          .file-upload__preview {
            flex-direction: column;
            text-align: center;
          }

          .preview-meta {
            flex-direction: column;
            gap: var(--spacing-sm);
          }
        }
      `})]})},i2=Te(he,"quizzes"),s2=async e=>{try{let t=Ke(i2,Pt("titre","asc"));e?.disciplineId;let n=(await $e(t)).docs.map(l=>({id:l.id,...l.data()}));return e?.isPremium,e?.difficulte,n}catch(t){throw console.error("Erreur lors de la rcupration des quiz :",t),t}},fq=async e=>{try{const t=await yr(De(he,"quizzes",e));return t.exists()?{id:t.id,...t.data()}:null}catch(t){throw console.error("Erreur lors de la rcupration du quiz :",t),t}},mq=async e=>{try{return(await Lr(i2,{...e,createdAt:Mt.now(),updatedAt:Mt.now()})).id}catch(t){throw console.error("Erreur lors de la cration du quiz :",t),t}},pq=async(e,t)=>{try{await _t(De(he,"quizzes",e),{...t,updatedAt:Mt.now()})}catch(r){throw console.error("Erreur lors de la mise  jour du quiz :",r),r}},hq=async e=>{try{await js(De(he,"quizzes",e))}catch(t){throw console.error("Erreur lors de la suppression du quiz :",t),t}},vq=()=>`q_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,H_=()=>({id:vq(),question:"",options:["","","",""],reponseCorrecte:0,explication:"",difficulte:"moyen",points:1}),G_=e=>{const t=e.questions||[],r=t.reduce((l,o)=>l+(o.points||1),0),n={facile:t.filter(l=>l.difficulte==="facile").length,moyen:t.filter(l=>l.difficulte==="moyen").length,difficile:t.filter(l=>l.difficulte==="difficile").length};return{nombreQuestions:t.length,totalPoints:r,parDifficulte:n,duree:e.duree||0}},gq=()=>{const[e,t]=j.useState([]),[r,n]=j.useState([]),[l,o]=j.useState(!0),[u,f]=j.useState(null),[m,p]=j.useState(null),[h,v]=j.useState(""),[x,b]=j.useState(""),[_,N]=j.useState(""),[S,A]=j.useState(""),[O,C]=j.useState(!1),[E,z]=j.useState("list"),[D,L]=j.useState(null),[T,q]=j.useState({disciplineId:"",titre:"",questions:[],duree:15,isPremium:!1,noteMinimale:50}),[Y,X]=j.useState(null),[$,oe]=j.useState(!1),[ue,V]=j.useState(null),[k,J]=j.useState(null),[G,me]=j.useState({}),[I,ve]=j.useState(!1),xe=j.useCallback(async()=>{o(!0),f(null);try{const[ie,Se]=await Promise.all([s2(),zi.getAll()]);t(ie),n(Se.map(ze=>({id:ze.id,nom:ze.nom||ze.name||ze.id})))}catch(ie){f("Erreur lors du chargement des donnes."),console.error(ie)}finally{o(!1)}},[]);j.useEffect(()=>{xe()},[xe]),j.useEffect(()=>{if(m){const ie=setTimeout(()=>p(null),4e3);return()=>clearTimeout(ie)}},[m]);const pe=e.filter(ie=>{if(h){const Se=h.toLowerCase();if(!ie.titre.toLowerCase().includes(Se))return!1}return!(x&&ie.disciplineId!==x||_==="true"&&!ie.isPremium||_==="false"&&ie.isPremium||S&&!ie.questions?.some(ze=>ze.difficulte===S))}),ye=()=>{L(null),q({disciplineId:"",titre:"",questions:[H_()],duree:15,isPremium:!1,noteMinimale:50}),X(null),z("form")},fe=ie=>{L(ie),q({disciplineId:ie.disciplineId,titre:ie.titre,questions:ie.questions||[],duree:ie.duree||15,isPremium:ie.isPremium||!1,noteMinimale:ie.noteMinimale||50}),X(null),z("form")},U=async()=>{if(!T.titre.trim()){f("Le titre du quiz est obligatoire.");return}if(!T.disciplineId){f("Veuillez slectionner une discipline.");return}if(T.questions.length===0){f("Le quiz doit contenir au moins une question.");return}for(let ie=0;ie<T.questions.length;ie++){const Se=T.questions[ie];if(!Se.question.trim()){f(`La question ${ie+1} n'a pas d'nonc.`);return}if(Se.options.filter(Re=>!Re.trim()).length>0){f(`La question ${ie+1} a des options vides.`);return}}oe(!0),f(null);try{D?(await pq(D.id,T),p("Quiz mis  jour avec succs !")):(await mq(T),p("Quiz cr avec succs !")),await xe(),z("list")}catch(ie){f("Erreur lors de la sauvegarde du quiz."),console.error(ie)}finally{oe(!1)}},le=async ie=>{try{await hq(ie),p("Quiz supprim avec succs."),V(null),await xe()}catch(Se){f("Erreur lors de la suppression du quiz."),console.error(Se)}},we=()=>{const ie=H_();q(Se=>({...Se,questions:[...Se.questions,ie]})),X(ie.id)},re=ie=>{const Se=T.questions.find(mr=>mr.id===ie);if(!Se)return;const ze={...Se,id:`q_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,question:`${Se.question} (copie)`},Re=T.questions.findIndex(mr=>mr.id===ie),yt=[...T.questions];yt.splice(Re+1,0,ze),q(mr=>({...mr,questions:yt})),X(ze.id)},Q=ie=>{q(Se=>({...Se,questions:Se.questions.filter(ze=>ze.id!==ie)})),Y===ie&&X(null)},R=(ie,Se,ze)=>{q(Re=>({...Re,questions:Re.questions.map(yt=>yt.id===ie?{...yt,[Se]:ze}:yt)}))},ne=(ie,Se,ze)=>{q(Re=>({...Re,questions:Re.questions.map(yt=>yt.id===ie?{...yt,options:yt.options.map((mr,Rn)=>Rn===Se?ze:mr)}:yt)}))},H=ie=>{J(ie),me({}),ve(!1),z("preview")},ge=(ie,Se)=>{I||me(ze=>({...ze,[ie]:Se}))},Pe=()=>{ve(!0)},qe=ie=>r.find(Se=>Se.id===ie)?.nom||ie,Ge=({level:ie})=>{const Se={facile:"quiz-badge-facile",moyen:"quiz-badge-moyen",difficile:"quiz-badge-difficile"};return i.jsx("span",{className:`quiz-badge ${Se[ie]||"quiz-badge-moyen"}`,children:ie.charAt(0).toUpperCase()+ie.slice(1)})},Gt=()=>i.jsxs(i.Fragment,{children:[u&&i.jsxs("div",{className:"admin-message admin-message-error",children:[i.jsx(Dd,{size:18}),i.jsx("span",{children:u}),i.jsx("button",{onClick:()=>f(null),className:"admin-message-close",children:i.jsx(Si,{size:16})})]}),m&&i.jsxs("div",{className:"admin-message admin-message-success",children:[i.jsx(Et,{size:18}),i.jsx("span",{children:m})]})]}),jn=()=>i.jsxs("div",{className:"quiz-manager",children:[i.jsxs("div",{className:"admin-header",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"admin-title",children:[i.jsx(Mn,{size:24})," Gestion des Quiz"]}),i.jsxs("p",{className:"admin-subtitle",children:[e.length," quiz au total  ",pe.length," affich(s)"]})]}),i.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:ye,children:[i.jsx(Jo,{size:18})," Nouveau Quiz"]})]}),i.jsxs("div",{className:"admin-toolbar",children:[i.jsxs("div",{className:"admin-search-wrapper",children:[i.jsx(ZC,{size:18,className:"admin-search-icon"}),i.jsx("input",{type:"text",className:"admin-search-input",placeholder:"Rechercher un quiz...",value:h,onChange:ie=>v(ie.target.value)})]}),i.jsxs("button",{className:`admin-btn admin-btn-outline ${O?"active":""}`,onClick:()=>C(!O),children:[i.jsx(Gy,{size:16})," Filtres",O?i.jsx(Lg,{size:14}):i.jsx(Md,{size:14})]})]}),O&&i.jsxs("div",{className:"admin-filters-panel",children:[i.jsxs("div",{className:"admin-filter-group",children:[i.jsx("label",{className:"admin-filter-label",children:"Discipline"}),i.jsxs("select",{className:"admin-select",value:x,onChange:ie=>b(ie.target.value),children:[i.jsx("option",{value:"",children:"Toutes les disciplines"}),r.map(ie=>i.jsx("option",{value:ie.id,children:ie.nom},ie.id))]})]}),i.jsxs("div",{className:"admin-filter-group",children:[i.jsx("label",{className:"admin-filter-label",children:"Accs"}),i.jsxs("select",{className:"admin-select",value:_,onChange:ie=>N(ie.target.value),children:[i.jsx("option",{value:"",children:"Tous"}),i.jsx("option",{value:"false",children:"Gratuit"}),i.jsx("option",{value:"true",children:"Premium"})]})]}),i.jsxs("div",{className:"admin-filter-group",children:[i.jsx("label",{className:"admin-filter-label",children:"Difficult"}),i.jsxs("select",{className:"admin-select",value:S,onChange:ie=>A(ie.target.value),children:[i.jsx("option",{value:"",children:"Toutes"}),i.jsx("option",{value:"facile",children:"Facile"}),i.jsx("option",{value:"moyen",children:"Moyen"}),i.jsx("option",{value:"difficile",children:"Difficile"})]})]}),i.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{b(""),N(""),A(""),v("")},children:"Rinitialiser"})]}),l?i.jsxs("div",{className:"admin-loading",children:[i.jsx("div",{className:"admin-spinner"}),i.jsx("p",{children:"Chargement des quiz..."})]}):pe.length===0?i.jsxs("div",{className:"admin-empty-state",children:[i.jsx(Sd,{size:48}),i.jsx("h3",{children:"Aucun quiz trouv"}),i.jsx("p",{children:e.length===0?"Crez votre premier quiz pour vos lves.":"Aucun quiz ne correspond  vos filtres."}),e.length===0&&i.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:ye,children:[i.jsx(Jo,{size:18})," Crer un quiz"]})]}):i.jsx("div",{className:"quiz-grid",children:pe.map(ie=>{const Se=G_(ie);return i.jsxs("div",{className:"quiz-card",children:[i.jsxs("div",{className:"quiz-card-header",children:[i.jsxs("div",{className:"quiz-card-title-row",children:[i.jsx("h3",{className:"quiz-card-title",children:ie.titre}),ie.isPremium&&i.jsxs("span",{className:"quiz-badge quiz-badge-premium",children:[i.jsx(Yr,{size:12})," Premium"]})]}),i.jsx("span",{className:"quiz-card-discipline",children:qe(ie.disciplineId)})]}),i.jsxs("div",{className:"quiz-card-stats",children:[i.jsxs("div",{className:"quiz-stat",children:[i.jsx(Sd,{size:14}),i.jsxs("span",{children:[Se.nombreQuestions," question(s)"]})]}),i.jsxs("div",{className:"quiz-stat",children:[i.jsx(Ci,{size:14}),i.jsxs("span",{children:[Se.totalPoints," pts"]})]}),i.jsxs("div",{className:"quiz-stat",children:[i.jsx(zl,{size:14}),i.jsxs("span",{children:[Se.duree," min"]})]})]}),i.jsxs("div",{className:"quiz-card-difficulty",children:[Se.parDifficulte.facile>0&&i.jsx(Ge,{level:"facile"}),Se.parDifficulte.moyen>0&&i.jsx(Ge,{level:"moyen"}),Se.parDifficulte.difficile>0&&i.jsx(Ge,{level:"difficile"})]}),i.jsxs("div",{className:"quiz-card-actions",children:[i.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>H(ie),title:"Prvisualiser",children:[i.jsx(Al,{size:14})," Aperu"]}),i.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>fe(ie),title:"Modifier",children:[i.jsx(_k,{size:14})," Modifier"]}),ue===ie.id?i.jsxs("div",{className:"quiz-delete-confirm",children:[i.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-danger",onClick:()=>le(ie.id),children:"Confirmer"}),i.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-ghost",onClick:()=>V(null),children:"Annuler"})]}):i.jsx("button",{className:"admin-btn admin-btn-sm admin-btn-danger-outline",onClick:()=>V(ie.id),title:"Supprimer",children:i.jsx(C_,{size:14})})]})]},ie.id)})})]}),Jr=()=>i.jsxs("div",{className:"quiz-manager",children:[i.jsxs("div",{className:"admin-header",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"admin-title",children:[i.jsx(Mn,{size:24}),D?"Modifier le quiz":"Nouveau quiz"]}),i.jsxs("p",{className:"admin-subtitle",children:[T.questions.length," question(s) ajoute(s)"]})]}),i.jsxs("div",{className:"admin-header-actions",children:[i.jsxs("button",{className:"admin-btn admin-btn-ghost",onClick:()=>z("list"),children:[i.jsx(Si,{size:18})," Annuler"]}),i.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:U,disabled:$,children:[i.jsx(Sk,{size:18})," ",$?"Enregistrement...":"Enregistrer"]})]})]}),i.jsxs("div",{className:"admin-card quiz-form-section",children:[i.jsx("h3",{className:"quiz-form-section-title",children:"Informations gnrales"}),i.jsxs("div",{className:"quiz-form-grid",children:[i.jsxs("div",{className:"admin-form-group quiz-form-full",children:[i.jsx("label",{className:"admin-label",children:"Titre du quiz *"}),i.jsx("input",{type:"text",className:"admin-input",placeholder:"Ex : Quiz - Les Misrables, Chapitre 1",value:T.titre,onChange:ie=>q(Se=>({...Se,titre:ie.target.value}))})]}),i.jsxs("div",{className:"admin-form-group",children:[i.jsx("label",{className:"admin-label",children:"Discipline *"}),i.jsxs("select",{className:"admin-select",value:T.disciplineId,onChange:ie=>q(Se=>({...Se,disciplineId:ie.target.value})),children:[i.jsx("option",{value:"",children:"-- Slectionner --"}),r.map(ie=>i.jsx("option",{value:ie.id,children:ie.nom},ie.id))]})]}),i.jsxs("div",{className:"admin-form-group",children:[i.jsx("label",{className:"admin-label",children:"Dure (minutes)"}),i.jsx("input",{type:"number",className:"admin-input",min:1,max:180,value:T.duree,onChange:ie=>q(Se=>({...Se,duree:parseInt(ie.target.value)||15}))})]}),i.jsxs("div",{className:"admin-form-group",children:[i.jsx("label",{className:"admin-label",children:"Note minimale (%)"}),i.jsx("input",{type:"number",className:"admin-input",min:0,max:100,value:T.noteMinimale,onChange:ie=>q(Se=>({...Se,noteMinimale:parseInt(ie.target.value)||50}))})]}),i.jsxs("div",{className:"admin-form-group",children:[i.jsx("label",{className:"admin-label",children:"Accs"}),i.jsxs("div",{className:`quiz-toggle ${T.isPremium?"quiz-toggle-active":""}`,onClick:()=>q(ie=>({...ie,isPremium:!ie.isPremium})),children:[i.jsx(Yr,{size:16}),i.jsx("span",{children:T.isPremium?"Premium (2 000 FCFA/mois)":"Gratuit"})]})]})]})]}),i.jsxs("div",{className:"admin-card quiz-form-section",children:[i.jsxs("div",{className:"quiz-questions-header",children:[i.jsxs("h3",{className:"quiz-form-section-title",children:["Questions (",T.questions.length,")"]}),i.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-primary",onClick:we,children:[i.jsx(Jo,{size:14})," Ajouter une question"]})]}),T.questions.length===0?i.jsxs("div",{className:"admin-empty-state",style:{padding:"2rem"},children:[i.jsx(Sd,{size:36}),i.jsx("p",{children:'Aucune question. Cliquez sur "Ajouter une question" pour commencer.'})]}):i.jsx("div",{className:"quiz-questions-list",children:T.questions.map((ie,Se)=>i.jsxs("div",{className:`quiz-question-item ${Y===ie.id?"expanded":""}`,children:[i.jsxs("div",{className:"quiz-question-header",onClick:()=>X(Y===ie.id?null:ie.id),children:[i.jsxs("div",{className:"quiz-question-header-left",children:[i.jsx(wk,{size:16,className:"quiz-grip-icon"}),i.jsxs("span",{className:"quiz-question-number",children:["Q",Se+1]}),i.jsx("span",{className:"quiz-question-preview",children:ie.question||"Question sans nonc..."})]}),i.jsxs("div",{className:"quiz-question-header-right",children:[i.jsx(Ge,{level:ie.difficulte||"moyen"}),i.jsxs("span",{className:"quiz-question-points",children:[ie.points," pt(s)"]}),Y===ie.id?i.jsx(Lg,{size:16}):i.jsx(Md,{size:16})]})]}),Y===ie.id&&i.jsxs("div",{className:"quiz-question-body",children:[i.jsxs("div",{className:"admin-form-group",children:[i.jsx("label",{className:"admin-label",children:"nonc de la question *"}),i.jsx("textarea",{className:"admin-textarea",rows:2,placeholder:"Ex : Quel est le personnage principal du roman ?",value:ie.question,onChange:ze=>R(ie.id,"question",ze.target.value)})]}),i.jsxs("div",{className:"admin-form-group",children:[i.jsx("label",{className:"admin-label",children:"Options de rponse (cliquez sur la bonne rponse)"}),i.jsx("div",{className:"quiz-options-grid",children:ie.options.map((ze,Re)=>i.jsxs("div",{className:`quiz-option-item ${ie.reponseCorrecte===Re?"quiz-option-correct":""}`,children:[i.jsx("button",{type:"button",className:`quiz-option-radio ${ie.reponseCorrecte===Re?"active":""}`,onClick:()=>R(ie.id,"reponseCorrecte",Re),title:ie.reponseCorrecte===Re?"Bonne rponse":"Marquer comme bonne rponse",children:ie.reponseCorrecte===Re?i.jsx(Et,{size:16}):i.jsx("span",{className:"quiz-option-letter",children:String.fromCharCode(65+Re)})}),i.jsx("input",{type:"text",className:"admin-input",placeholder:`Option ${String.fromCharCode(65+Re)}`,value:ze,onChange:yt=>ne(ie.id,Re,yt.target.value)})]},Re))})]}),i.jsxs("div",{className:"admin-form-group",children:[i.jsx("label",{className:"admin-label",children:"Explication (affiche aprs rponse)"}),i.jsx("textarea",{className:"admin-textarea",rows:2,placeholder:"Ex : Jean Valjean est le protagoniste du roman de Victor Hugo...",value:ie.explication,onChange:ze=>R(ie.id,"explication",ze.target.value)})]}),i.jsxs("div",{className:"quiz-question-meta",children:[i.jsxs("div",{className:"admin-form-group",children:[i.jsx("label",{className:"admin-label",children:"Difficult"}),i.jsxs("select",{className:"admin-select",value:ie.difficulte,onChange:ze=>R(ie.id,"difficulte",ze.target.value),children:[i.jsx("option",{value:"facile",children:"Facile"}),i.jsx("option",{value:"moyen",children:"Moyen"}),i.jsx("option",{value:"difficile",children:"Difficile"})]})]}),i.jsxs("div",{className:"admin-form-group",children:[i.jsx("label",{className:"admin-label",children:"Points"}),i.jsx("input",{type:"number",className:"admin-input",min:1,max:10,value:ie.points,onChange:ze=>R(ie.id,"points",parseInt(ze.target.value)||1)})]})]}),i.jsxs("div",{className:"quiz-question-actions",children:[i.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>re(ie.id),children:[i.jsx(Ak,{size:14})," Dupliquer"]}),i.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-danger-outline",onClick:()=>Q(ie.id),children:[i.jsx(C_,{size:14})," Supprimer"]})]})]})]},ie.id))}),T.questions.length>0&&i.jsx("div",{className:"quiz-add-question-bottom",children:i.jsxs("button",{className:"admin-btn admin-btn-outline",onClick:we,children:[i.jsx(Jo,{size:16})," Ajouter une question"]})})]})]}),ra=()=>{if(!k)return null;const ie=G_(k);let Se=0,ze=0;return I&&k.questions.forEach(Re=>{ze+=Re.points||1,G[Re.id]===Re.reponseCorrecte&&(Se+=Re.points||1)}),i.jsxs("div",{className:"quiz-manager",children:[i.jsxs("div",{className:"admin-header",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"admin-title",children:[i.jsx(Al,{size:24})," Prvisualisation : ",k.titre]}),i.jsxs("p",{className:"admin-subtitle",children:[qe(k.disciplineId),"  ",ie.nombreQuestions," questions  ",ie.duree," min"]})]}),i.jsxs("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{z("list"),J(null)},children:[i.jsx(Si,{size:18})," Fermer"]})]}),I&&i.jsxs("div",{className:`quiz-preview-score ${Se/ze>=(k.noteMinimale||50)/100?"success":"fail"}`,children:[i.jsx(Ci,{size:32}),i.jsxs("div",{children:[i.jsxs("h3",{children:["Score : ",Se,"/",ze," (",Math.round(Se/ze*100),"%)"]}),i.jsxs("p",{children:["Note minimale : ",k.noteMinimale||50,"% "," ",Se/ze>=(k.noteMinimale||50)/100?" Russi !":" Non russi"]})]})]}),i.jsx("div",{className:"quiz-preview-questions",children:k.questions.map((Re,yt)=>{const mr=G[Re.id],Rn=mr===Re.reponseCorrecte;return i.jsxs("div",{className:"admin-card quiz-preview-question",children:[i.jsxs("div",{className:"quiz-preview-question-header",children:[i.jsxs("span",{className:"quiz-question-number",children:["Q",yt+1]}),i.jsx(Ge,{level:Re.difficulte||"moyen"}),i.jsxs("span",{className:"quiz-question-points",children:[Re.points," pt(s)"]})]}),i.jsx("p",{className:"quiz-preview-question-text",children:Re.question}),i.jsx("div",{className:"quiz-preview-options",children:Re.options.map((Es,en)=>{let Va="quiz-preview-option";return I?en===Re.reponseCorrecte?Va+=" correct":en===mr&&!Rn&&(Va+=" incorrect"):mr===en&&(Va+=" selected"),i.jsxs("button",{className:Va,onClick:()=>ge(Re.id,en),disabled:I,children:[i.jsx("span",{className:"quiz-preview-option-letter",children:String.fromCharCode(65+en)}),i.jsx("span",{children:Es}),I&&en===Re.reponseCorrecte&&i.jsx(Et,{size:16,className:"quiz-preview-check"})]},en)})}),I&&Re.explication&&i.jsxs("div",{className:"quiz-preview-explication",children:[i.jsx("strong",{children:"Explication :"})," ",Re.explication]})]},Re.id)})}),!I&&i.jsx("div",{className:"quiz-preview-submit",children:i.jsxs("button",{className:"admin-btn admin-btn-primary admin-btn-lg",onClick:Pe,disabled:Object.keys(G).length<k.questions.length,children:[i.jsx(Et,{size:18})," Soumettre (",Object.keys(G).length,"/",k.questions.length,")"]})})]})};return i.jsxs("div",{className:"admin-container",children:[Gt(),E==="list"&&jn(),E==="form"&&Jr(),E==="preview"&&ra()]})},l2=Te(he,"users"),yq=Te(he,"quizResults"),xq=async e=>{try{let t=Ke(l2,Pt("displayName","asc"));e?.role;let n=(await $e(t)).docs.map(l=>({uid:l.id,...l.data()}));return e?.isPremium,e?.isActive,e?.search,n}catch(t){throw console.error("Erreur lors de la rcupration des utilisateurs :",t),t}},bq=async(e,t)=>{try{await _t(De(he,"users",e),{role:t,updatedAt:Mt.now()})}catch(r){throw console.error("Erreur lors de la mise  jour du rle :",r),r}},jq=async(e,t)=>{try{const r={isPremium:t,updatedAt:Mt.now()};if(t){const n=new Date;n.setDate(n.getDate()+30),r.subscriptionEnd=Mt.fromDate(n)}else r.subscriptionEnd=null;await _t(De(he,"users",e),r)}catch(r){throw console.error("Erreur lors de la mise  jour du statut Premium :",r),r}},Nq=async(e,t)=>{try{await _t(De(he,"users",e),{isActive:t,updatedAt:Mt.now()})}catch(r){throw console.error("Erreur lors du changement de statut du compte :",r),r}},_q=async e=>{try{const t=Ke(yq,Be("userId","==",e)),n=(await $e(t)).docs.map(m=>({id:m.id,...m.data()})),l=n.length,o=n.filter(m=>m.reussi).length,u=l>0?Math.round(n.reduce((m,p)=>m+p.score,0)/l):0,f=n.length>0?new Date(Math.max(...n.map(m=>{const p=m.datePassage;return p?.toDate?p.toDate().getTime():new Date(p).getTime()}))):null;return{totalQuizPasses:l,scoresMoyens:u,quizReussis:o,dernierQuiz:f}}catch(t){return console.error("Erreur lors du calcul des statistiques :",t),{totalQuizPasses:0,scoresMoyens:0,quizReussis:0,dernierQuiz:null}}},Sq=async()=>{try{const t=(await $e(l2)).docs.map(r=>r.data());return{total:t.length,admins:t.filter(r=>r.role==="admin").length,profs:t.filter(r=>r.role==="prof").length,eleves:t.filter(r=>r.role==="eleve").length,premium:t.filter(r=>r.isPremium).length,actifs:t.filter(r=>r.isActive!==!1).length}}catch(e){throw console.error("Erreur lors du calcul des stats globales :",e),e}},wq=()=>{const[e,t]=j.useState([]),[r,n]=j.useState(null),[l,o]=j.useState(!0),[u,f]=j.useState(null),[m,p]=j.useState(null),[h,v]=j.useState(""),[x,b]=j.useState(""),[_,N]=j.useState(""),[S,A]=j.useState(""),[O,C]=j.useState(!1),[E]=GP();j.useEffect(()=>{E.get("filter")==="premium"&&N("true")},[E]);const[z,D]=j.useState(null),[L,T]=j.useState(null),[q,Y]=j.useState(!1),[X,$]=j.useState(null),[oe,ue]=j.useState(null),V=j.useCallback(async()=>{o(!0),f(null);try{const[U,le]=await Promise.all([xq(),Sq()]);t(U),n(le)}catch(U){f("Erreur lors du chargement des utilisateurs."),console.error(U)}finally{o(!1)}},[]);j.useEffect(()=>{V()},[V]),j.useEffect(()=>{if(m){const U=setTimeout(()=>p(null),4e3);return()=>clearTimeout(U)}},[m]);const k=e.filter(U=>{if(h){const le=h.toLowerCase();if(!U.displayName?.toLowerCase().includes(le)&&!U.email?.toLowerCase().includes(le))return!1}return!(x&&U.role!==x||_==="true"&&!U.isPremium||_==="false"&&U.isPremium||S==="true"&&U.isActive===!1||S==="false"&&U.isActive!==!1)}),J=async U=>{D(U),Y(!0);try{const le=await _q(U.uid);T(le)}catch(le){console.error("Erreur lors du chargement des statistiques :",le),T(null)}finally{Y(!1)}},G=async()=>{if(oe){$(oe.userId);try{switch(oe.type){case"role":await bq(oe.userId,oe.value),p("Rle mis  jour avec succs.");break;case"premium":await jq(oe.userId,oe.value),p(oe.value?"Statut Premium activ (30 jours).":"Statut Premium dsactiv.");break;case"active":await Nq(oe.userId,oe.value),p(oe.value?"Compte ractiv.":"Compte dsactiv.");break}await V()}catch(U){f("Erreur lors de l'excution de l'action."),console.error(U)}finally{$(null),ue(null)}}},me=({role:U})=>{const le={admin:{icon:i.jsx(Hy,{size:12}),className:"user-badge-admin",label:"Admin"},prof:{icon:i.jsx(Ol,{size:12}),className:"user-badge-prof",label:"Professeur"},eleve:{icon:i.jsx(Mn,{size:12}),className:"user-badge-eleve",label:"lve"}},we=le[U]||le.eleve;return i.jsxs("span",{className:`user-badge ${we.className}`,children:[we.icon," ",we.label]})},I=U=>U?(U?.toDate?U.toDate():new Date(U)).toLocaleDateString("fr-SN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",ve=U=>U?U.charAt(0).toUpperCase():"?",xe=()=>i.jsxs(i.Fragment,{children:[u&&i.jsxs("div",{className:"admin-message admin-message-error",children:[i.jsx(Dd,{size:18}),i.jsx("span",{children:u}),i.jsx("button",{onClick:()=>f(null),className:"admin-message-close",children:i.jsx(Si,{size:16})})]}),m&&i.jsxs("div",{className:"admin-message admin-message-success",children:[i.jsx(Et,{size:18}),i.jsx("span",{children:m})]})]}),pe=()=>{if(!r)return null;const U=[{label:"Total",value:r.total,icon:i.jsx(_d,{size:20}),color:"stat-blue"},{label:"lves",value:r.eleves,icon:i.jsx(Mn,{size:20}),color:"stat-green"},{label:"Professeurs",value:r.profs,icon:i.jsx(Ol,{size:20}),color:"stat-purple"},{label:"Premium",value:r.premium,icon:i.jsx(Yr,{size:20}),color:"stat-gold"}];return i.jsx("div",{className:"user-stats-grid",children:U.map(le=>i.jsxs("div",{className:`user-stat-card ${le.color}`,children:[i.jsx("div",{className:"user-stat-icon",children:le.icon}),i.jsxs("div",{className:"user-stat-info",children:[i.jsx("span",{className:"user-stat-value",children:le.value}),i.jsx("span",{className:"user-stat-label",children:le.label})]})]},le.label))})},ye=()=>oe?i.jsx("div",{className:"admin-modal-overlay",onClick:()=>ue(null),children:i.jsxs("div",{className:"admin-modal",onClick:U=>U.stopPropagation(),children:[i.jsxs("div",{className:"admin-modal-header",children:[i.jsx("h3",{children:"Confirmer l'action"}),i.jsx("button",{className:"admin-modal-close",onClick:()=>ue(null),children:i.jsx(Si,{size:20})})]}),i.jsx("div",{className:"admin-modal-body",children:i.jsx("p",{children:oe.label})}),i.jsxs("div",{className:"admin-modal-footer",children:[i.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>ue(null),children:"Annuler"}),i.jsx("button",{className:"admin-btn admin-btn-primary",onClick:G,disabled:X===oe.userId,children:X===oe.userId?"En cours...":"Confirmer"})]})]})}):null,fe=()=>z?i.jsx("div",{className:"admin-modal-overlay",onClick:()=>D(null),children:i.jsxs("div",{className:"admin-modal admin-modal-lg",onClick:U=>U.stopPropagation(),children:[i.jsxs("div",{className:"admin-modal-header",children:[i.jsx("h3",{children:"Dtail de l'utilisateur"}),i.jsx("button",{className:"admin-modal-close",onClick:()=>D(null),children:i.jsx(Si,{size:20})})]}),i.jsxs("div",{className:"admin-modal-body",children:[i.jsxs("div",{className:"user-detail-profile",children:[i.jsx("div",{className:"user-detail-avatar",children:ve(z.displayName)}),i.jsxs("div",{className:"user-detail-info",children:[i.jsx("h4",{children:z.displayName||"Sans nom"}),i.jsx("p",{children:z.email}),i.jsxs("div",{className:"user-detail-badges",children:[i.jsx(me,{role:z.role}),z.isPremium&&i.jsxs("span",{className:"user-badge user-badge-premium",children:[i.jsx(Yr,{size:12})," Premium"]}),i.jsx("span",{className:`user-badge ${z.isActive!==!1?"user-badge-active":"user-badge-inactive"}`,children:z.isActive!==!1?"Actif":"Dsactiv"})]})]})]}),i.jsxs("div",{className:"user-detail-dates",children:[i.jsxs("div",{children:[i.jsx("span",{className:"user-detail-date-label",children:"Inscription"}),i.jsx("span",{children:I(z.createdAt)})]}),z.isPremium&&z.subscriptionEnd&&i.jsxs("div",{children:[i.jsx("span",{className:"user-detail-date-label",children:"Premium jusqu'au"}),i.jsx("span",{children:I(z.subscriptionEnd)})]})]}),i.jsxs("div",{className:"user-detail-stats-section",children:[i.jsxs("h4",{children:[i.jsx(os,{size:18})," Statistiques"]}),q?i.jsxs("div",{className:"admin-loading",style:{padding:"1rem"},children:[i.jsx("div",{className:"admin-spinner"}),i.jsx("p",{children:"Chargement des statistiques..."})]}):L?i.jsxs("div",{className:"user-detail-stats-grid",children:[i.jsxs("div",{className:"user-detail-stat",children:[i.jsx(Mn,{size:20}),i.jsx("span",{className:"user-detail-stat-value",children:L.totalQuizPasses}),i.jsx("span",{className:"user-detail-stat-label",children:"Quiz passs"})]}),i.jsxs("div",{className:"user-detail-stat",children:[i.jsx(ec,{size:20}),i.jsxs("span",{className:"user-detail-stat-value",children:[L.scoresMoyens,"%"]}),i.jsx("span",{className:"user-detail-stat-label",children:"Score moyen"})]}),i.jsxs("div",{className:"user-detail-stat",children:[i.jsx(Ci,{size:20}),i.jsx("span",{className:"user-detail-stat-value",children:L.quizReussis}),i.jsx("span",{className:"user-detail-stat-label",children:"Quiz russis"})]}),i.jsxs("div",{className:"user-detail-stat",children:[i.jsx(zl,{size:20}),i.jsx("span",{className:"user-detail-stat-value",children:L.dernierQuiz?I(L.dernierQuiz):"Aucun"}),i.jsx("span",{className:"user-detail-stat-label",children:"Dernier quiz"})]})]}):i.jsx("p",{className:"user-detail-no-stats",children:"Aucune statistique disponible."})]})]})]})}):null;return i.jsxs("div",{className:"admin-container",children:[xe(),ye(),fe(),i.jsxs("div",{className:"user-manager",children:[i.jsxs("div",{className:"admin-header",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"admin-title",children:[i.jsx(_d,{size:24})," Gestion des Utilisateurs"]}),i.jsxs("p",{className:"admin-subtitle",children:[e.length," utilisateur(s) au total  ",k.length," affich(s)"]})]}),i.jsxs("button",{className:"admin-btn admin-btn-outline",onClick:V,children:[i.jsx(Ck,{size:16})," Actualiser"]})]}),pe(),i.jsxs("div",{className:"admin-toolbar",children:[i.jsxs("div",{className:"admin-search-wrapper",children:[i.jsx(ZC,{size:18,className:"admin-search-icon"}),i.jsx("input",{type:"text",className:"admin-search-input",placeholder:"Rechercher par nom ou email...",value:h,onChange:U=>v(U.target.value)})]}),i.jsxs("button",{className:`admin-btn admin-btn-outline ${O?"active":""}`,onClick:()=>C(!O),children:[i.jsx(Gy,{size:16})," Filtres",O?i.jsx(Lg,{size:14}):i.jsx(Md,{size:14})]})]}),O&&i.jsxs("div",{className:"admin-filters-panel",children:[i.jsxs("div",{className:"admin-filter-group",children:[i.jsx("label",{className:"admin-filter-label",children:"Rle"}),i.jsxs("select",{className:"admin-select",value:x,onChange:U=>b(U.target.value),children:[i.jsx("option",{value:"",children:"Tous les rles"}),i.jsx("option",{value:"admin",children:"Admin"}),i.jsx("option",{value:"prof",children:"Professeur"}),i.jsx("option",{value:"eleve",children:"lve"})]})]}),i.jsxs("div",{className:"admin-filter-group",children:[i.jsx("label",{className:"admin-filter-label",children:"Abonnement"}),i.jsxs("select",{className:"admin-select",value:_,onChange:U=>N(U.target.value),children:[i.jsx("option",{value:"",children:"Tous"}),i.jsx("option",{value:"true",children:"Premium"}),i.jsx("option",{value:"false",children:"Gratuit"})]})]}),i.jsxs("div",{className:"admin-filter-group",children:[i.jsx("label",{className:"admin-filter-label",children:"Statut"}),i.jsxs("select",{className:"admin-select",value:S,onChange:U=>A(U.target.value),children:[i.jsx("option",{value:"",children:"Tous"}),i.jsx("option",{value:"true",children:"Actifs"}),i.jsx("option",{value:"false",children:"Dsactivs"})]})]}),i.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{b(""),N(""),A(""),v("")},children:"Rinitialiser"})]}),l?i.jsxs("div",{className:"admin-loading",children:[i.jsx("div",{className:"admin-spinner"}),i.jsx("p",{children:"Chargement des utilisateurs..."})]}):k.length===0?i.jsxs("div",{className:"admin-empty-state",children:[i.jsx(_d,{size:48}),i.jsx("h3",{children:"Aucun utilisateur trouv"}),i.jsx("p",{children:e.length===0?"Aucun utilisateur n'est encore inscrit.":"Aucun utilisateur ne correspond  vos filtres."})]}):i.jsx("div",{className:"user-table-wrapper",children:i.jsxs("table",{className:"user-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Utilisateur"}),i.jsx("th",{children:"Rle"}),i.jsx("th",{children:"Abonnement"}),i.jsx("th",{children:"Statut"}),i.jsx("th",{children:"Actions"})]})}),i.jsx("tbody",{children:k.map(U=>i.jsxs("tr",{className:U.isActive===!1?"user-row-inactive":"",children:[i.jsx("td",{children:i.jsxs("div",{className:"user-cell-info",children:[i.jsx("div",{className:"user-avatar-sm",children:ve(U.displayName)}),i.jsxs("div",{children:[i.jsx("span",{className:"user-cell-name",children:U.displayName||"Sans nom"}),i.jsx("span",{className:"user-cell-email",children:U.email})]})]})}),i.jsx("td",{children:i.jsxs("select",{className:"admin-select admin-select-sm",value:U.role,onChange:le=>ue({type:"role",userId:U.uid,value:le.target.value,label:`Changer le rle de "${U.displayName||U.email}" en "${le.target.value}" ?`}),children:[i.jsx("option",{value:"eleve",children:"lve"}),i.jsx("option",{value:"prof",children:"Professeur"}),i.jsx("option",{value:"admin",children:"Admin"})]})}),i.jsx("td",{children:i.jsx("button",{className:`user-premium-toggle ${U.isPremium?"active":""}`,onClick:()=>ue({type:"premium",userId:U.uid,value:!U.isPremium,label:U.isPremium?`Dsactiver le statut Premium de "${U.displayName||U.email}" ?`:`Activer le statut Premium de "${U.displayName||U.email}" pour 30 jours ?`}),disabled:X===U.uid,children:U.isPremium?i.jsxs(i.Fragment,{children:[i.jsx(Zo,{size:14})," Premium"]}):i.jsxs(i.Fragment,{children:[i.jsx(Yr,{size:14})," Gratuit"]})})}),i.jsx("td",{children:i.jsx("button",{className:`user-status-toggle ${U.isActive!==!1?"active":"inactive"}`,onClick:()=>ue({type:"active",userId:U.uid,value:U.isActive===!1,label:U.isActive===!1?`Ractiver le compte de "${U.displayName||U.email}" ?`:`Dsactiver le compte de "${U.displayName||U.email}" ?`}),disabled:X===U.uid,children:U.isActive!==!1?i.jsxs(i.Fragment,{children:[i.jsx(Ek,{size:14})," Actif"]}):i.jsxs(i.Fragment,{children:[i.jsx(Ok,{size:14})," Dsactiv"]})})}),i.jsx("td",{children:i.jsxs("button",{className:"admin-btn admin-btn-sm admin-btn-outline",onClick:()=>J(U),title:"Voir les statistiques",children:[i.jsx(Al,{size:14})," Dtail"]})})]},U.uid))})]})})]})]})},Aq=()=>{const[e,t]=j.useState([]),[r,n]=j.useState(null),[l,o]=j.useState(!0),[u,f]=j.useState(null),[m,p]=j.useState(""),[h,v]=j.useState(""),[x,b]=j.useState(""),[_,N]=j.useState(!1),S=j.useCallback(async()=>{try{o(!0),f(null);const z=await $e(Te(he,"users")),D=new Map;z.docs.forEach(pe=>{const ye=pe.data();D.set(pe.id,{name:ye.displayName||"Sans nom",email:ye.email||""})});const L=await $e(Te(he,"quizzes")),T=new Map;L.docs.forEach(pe=>{const ye=pe.data();T.set(pe.id,{titre:ye.titre||ye.quizTitre||"Quiz sans titre",discipline:ye.disciplineNom||ye.matiereNom||""})});const q=await $e(Te(he,"quizzes_v2")),Y=new Map;q.docs.forEach(pe=>{const ye=pe.data();Y.set(pe.id,{titre:ye.titre||"Quiz avanc sans titre",discipline:ye.disciplineNom||""})});const X=[];try{(await $e(Ke(Te(he,"quiz_results"),Pt("datePassage","desc"),Wn(200)))).docs.forEach(ye=>{const fe=ye.data(),U=D.get(fe.userId)||{name:"Inconnu",email:""},le=T.get(fe.quizId)||{titre:fe.quizTitre||"Quiz",discipline:fe.disciplineNom||""},we=fe.pourcentage??(fe.totalPoints>0?Math.round(fe.score/fe.totalPoints*100):fe.score>0?Math.round(fe.score/20*100):0);X.push({id:ye.id,quizId:fe.quizId||"",quizTitre:le.titre,userId:fe.userId||"",userName:U.name,userEmail:U.email,score:fe.score||0,scoreMax:fe.totalPoints||20,pourcentage:we,reussi:fe.reussi??we>=50,tempsEcoule:fe.tempsEcoule||0,datePassage:fe.datePassage?.toDate?.()||new Date,type:"classique",disciplineNom:le.discipline})})}catch(pe){console.warn("Pas de rsultats v1 ou index manquant:",pe)}const $=[];try{(await $e(Ke(Te(he,"quiz_results_v2"),Pt("datePassage","desc"),Wn(200)))).docs.forEach(ye=>{const fe=ye.data(),U=D.get(fe.userId)||{name:"Inconnu",email:""},le=Y.get(fe.quizId)||{titre:fe.quizTitre||"Quiz avanc",discipline:fe.disciplineNom||""},we=fe.scoreMax>0?Math.round(fe.score/fe.scoreMax*100):0;$.push({id:ye.id,quizId:fe.quizId||"",quizTitre:le.titre,userId:fe.userId||"",userName:U.name,userEmail:U.email,score:fe.score||0,scoreMax:fe.scoreMax||0,pourcentage:we,reussi:fe.reussi??we>=50,tempsEcoule:fe.tempsTotal||fe.tempsEcoule||0,datePassage:fe.datePassage?.toDate?.()||new Date,type:"avance",disciplineNom:le.discipline})})}catch(pe){console.warn("Pas de rsultats v2 ou index manquant:",pe)}const oe=[...X,...$].sort((pe,ye)=>ye.datePassage.getTime()-pe.datePassage.getTime());t(oe);const ue=new Date,V=new Date(ue.getFullYear(),ue.getMonth(),ue.getDate()),k=new Date(V.getTime()-10080*60*1e3),J=oe.length,G=J>0?Math.round(oe.reduce((pe,ye)=>pe+ye.pourcentage,0)/J):0,me=J>0?Math.round(oe.filter(pe=>pe.reussi).length/J*100):0,I=J>0?Math.round(oe.reduce((pe,ye)=>pe+ye.tempsEcoule,0)/J):0,ve=oe.filter(pe=>pe.datePassage>=V).length,xe=oe.filter(pe=>pe.datePassage>=k).length;n({totalResultats:J,moyenneGenerale:G,tauxReussite:me,tempsEcouleMoyen:I,resultatsAujourdHui:ve,resultats7Jours:xe})}catch(z){console.error("Erreur chargement rsultats:",z),f("Impossible de charger les rsultats. Vrifiez votre connexion.")}finally{o(!1)}},[]);j.useEffect(()=>{S()},[S]);const A=e.filter(z=>{if(m&&z.type!==m||h==="true"&&!z.reussi||h==="false"&&z.reussi)return!1;if(x){const D=x.toLowerCase();if(!z.userName.toLowerCase().includes(D)&&!z.userEmail.toLowerCase().includes(D)&&!z.quizTitre.toLowerCase().includes(D)&&!z.disciplineNom.toLowerCase().includes(D))return!1}return!0}),O=z=>{if(z<60)return`${z}s`;const D=Math.floor(z/60),L=z%60;return L>0?`${D}min ${L}s`:`${D}min`},C=z=>z.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),E=z=>z>=80?"results-score--excellent":z>=60?"results-score--bien":z>=40?"results-score--moyen":"results-score--faible";return i.jsxs("div",{className:"results-admin",children:[i.jsxs("div",{className:"admin-page-header",children:[i.jsxs("div",{className:"admin-page-header__info",children:[i.jsx("h1",{className:"admin-page-header__title",children:" Rsultats des Quiz"}),i.jsx("p",{className:"admin-page-header__subtitle",children:"Vue d'ensemble des performances des lves"})]}),i.jsx("div",{className:"admin-page-header__actions",children:i.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:S,children:" Actualiser"})})]}),r&&i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-card__icon stat-card__icon--primary",children:""}),i.jsxs("div",{className:"stat-card__content",children:[i.jsx("div",{className:"stat-card__value",children:r.totalResultats}),i.jsx("div",{className:"stat-card__label",children:"Rsultats totaux"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-card__icon stat-card__icon--secondary",children:""}),i.jsxs("div",{className:"stat-card__content",children:[i.jsxs("div",{className:"stat-card__value",children:[r.moyenneGenerale,"%"]}),i.jsx("div",{className:"stat-card__label",children:"Moyenne gnrale"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-card__icon stat-card__icon--warning",children:""}),i.jsxs("div",{className:"stat-card__content",children:[i.jsxs("div",{className:"stat-card__value",children:[r.tauxReussite,"%"]}),i.jsx("div",{className:"stat-card__label",children:"Taux de russite"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-card__icon stat-card__icon--info",children:""}),i.jsxs("div",{className:"stat-card__content",children:[i.jsx("div",{className:"stat-card__value",children:r.resultatsAujourdHui}),i.jsx("div",{className:"stat-card__label",children:"Aujourd'hui"})]})]})]}),i.jsxs("div",{className:"admin-toolbar",children:[i.jsxs("div",{className:"admin-search",children:[i.jsx("span",{className:"admin-search-icon",children:""}),i.jsx("input",{type:"text",className:"admin-search-input",placeholder:"Rechercher par lve, quiz ou discipline...",value:x,onChange:z=>b(z.target.value)})]}),i.jsx("button",{className:`admin-btn admin-btn-ghost ${_?"active":""}`,onClick:()=>N(!_),children:" Filtres"})]}),_&&i.jsxs("div",{className:"admin-filters-panel",children:[i.jsxs("div",{className:"admin-filter-group",children:[i.jsx("label",{className:"admin-filter-label",children:"Type de quiz"}),i.jsxs("select",{className:"admin-select",value:m,onChange:z=>p(z.target.value),children:[i.jsx("option",{value:"",children:"Tous les types"}),i.jsx("option",{value:"classique",children:"Classique (v1)"}),i.jsx("option",{value:"avance",children:"Avanc (v2)"})]})]}),i.jsxs("div",{className:"admin-filter-group",children:[i.jsx("label",{className:"admin-filter-label",children:"Rsultat"}),i.jsxs("select",{className:"admin-select",value:h,onChange:z=>v(z.target.value),children:[i.jsx("option",{value:"",children:"Tous"}),i.jsx("option",{value:"true",children:"Russis"}),i.jsx("option",{value:"false",children:"chous"})]})]}),i.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:()=>{p(""),v(""),b("")},children:"Rinitialiser"})]}),l?i.jsxs("div",{className:"admin-loading",children:[i.jsx("div",{className:"admin-spinner"}),i.jsx("p",{children:"Chargement des rsultats..."})]}):u?i.jsxs("div",{className:"admin-error",children:[i.jsxs("p",{children:[" ",u]}),i.jsx("button",{className:"admin-btn admin-btn-primary",onClick:S,children:"Ressayer"})]}):A.length===0?i.jsxs("div",{className:"admin-empty-state",children:[i.jsx("span",{style:{fontSize:"3rem"},children:""}),i.jsx("h3",{children:"Aucun rsultat trouv"}),i.jsx("p",{children:e.length===0?"Aucun lve n'a encore pass de quiz.":"Aucun rsultat ne correspond  vos filtres."})]}):i.jsxs("div",{className:"results-table-wrapper",children:[i.jsxs("table",{className:"results-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"lve"}),i.jsx("th",{children:"Quiz"}),i.jsx("th",{children:"Type"}),i.jsx("th",{children:"Score"}),i.jsx("th",{children:"Rsultat"}),i.jsx("th",{children:"Dure"}),i.jsx("th",{children:"Date"})]})}),i.jsx("tbody",{children:A.map(z=>i.jsxs("tr",{children:[i.jsx("td",{children:i.jsxs("div",{className:"results-cell-user",children:[i.jsx("span",{className:"results-cell-name",children:z.userName}),i.jsx("span",{className:"results-cell-email",children:z.userEmail})]})}),i.jsx("td",{children:i.jsxs("div",{className:"results-cell-quiz",children:[i.jsx("span",{className:"results-cell-quiz-title",children:z.quizTitre}),z.disciplineNom&&i.jsx("span",{className:"results-cell-discipline",children:z.disciplineNom})]})}),i.jsx("td",{children:i.jsx("span",{className:`results-badge results-badge--${z.type}`,children:z.type==="classique"?" Classique":" Avanc"})}),i.jsxs("td",{children:[i.jsxs("span",{className:`results-score ${E(z.pourcentage)}`,children:[z.pourcentage,"%"]}),i.jsxs("span",{className:"results-score-detail",children:[z.score,"/",z.scoreMax]})]}),i.jsx("td",{children:i.jsx("span",{className:`results-status ${z.reussi?"results-status--success":"results-status--fail"}`,children:z.reussi?" Russi":" chou"})}),i.jsx("td",{className:"results-cell-duration",children:O(z.tempsEcoule)}),i.jsx("td",{className:"results-cell-date",children:C(z.datePassage)})]},`${z.type}-${z.id}`))})]}),i.jsx("div",{className:"results-footer",children:i.jsxs("p",{children:[A.length," rsultat",A.length>1?"s":""," affich",A.length>1?"s":"",A.length!==e.length&&` sur ${e.length} au total`]})})]})]})},vl={siteName:"PedaClic",siteDescription:"L'cole en un clic  Plateforme ducative sngalaise",contactEmail:"contact@pedaclic.sn",contactPhone:"+221 XX XXX XX XX",premiumMensuel:2e3,premiumAnnuel:2e4,quizDureeDefaut:15,quizNoteMinimale:10,quizTentativesMax:3,maintenanceMode:!1,maintenanceMessage:"PedaClic est en maintenance. Nous revenons bientt !"},Cq=()=>{const[e,t]=j.useState(vl),[r,n]=j.useState(vl),[l,o]=j.useState(!0),[u,f]=j.useState(!1),[m,p]=j.useState(null),[h,v]=j.useState(null),[x,b]=j.useState(!1),_=j.useCallback(async()=>{try{o(!0),p(null);const C=De(he,"settings","platform"),E=await yr(C);if(E.exists()){const z=E.data(),D={...vl,...z};t(D),n(D)}else t(vl),n(vl)}catch(C){console.error("Erreur chargement paramtres:",C),p("Impossible de charger les paramtres.")}finally{o(!1)}},[]);j.useEffect(()=>{_()},[_]),j.useEffect(()=>{if(h){const C=setTimeout(()=>v(null),4e3);return()=>clearTimeout(C)}},[h]),j.useEffect(()=>{const C=JSON.stringify(e)!==JSON.stringify(r);b(C)},[e,r]);const N=(C,E)=>{t(z=>({...z,[C]:E}))},S=async()=>{try{if(f(!0),p(null),e.premiumMensuel<0||e.premiumAnnuel<0){p("Les tarifs ne peuvent pas tre ngatifs.");return}if(e.quizNoteMinimale<0||e.quizNoteMinimale>20){p("La note minimale doit tre entre 0 et 20.");return}const C=De(he,"settings","platform");await Pf(C,{...e,updatedAt:jt()}),n(e),b(!1),v("Paramtres sauvegards avec succs !")}catch(C){console.error("Erreur sauvegarde paramtres:",C),p("Impossible de sauvegarder les paramtres.")}finally{f(!1)}},A=()=>{t(r),b(!1)},O=()=>{window.confirm("Rinitialiser tous les paramtres aux valeurs par dfaut ?")&&t(vl)};return l?i.jsxs("div",{className:"admin-loading",children:[i.jsx("div",{className:"admin-spinner"}),i.jsx("p",{children:"Chargement des paramtres..."})]}):i.jsxs("div",{className:"settings-admin",children:[i.jsxs("div",{className:"admin-page-header",children:[i.jsxs("div",{className:"admin-page-header__info",children:[i.jsx("h1",{className:"admin-page-header__title",children:" Configuration"}),i.jsx("p",{className:"admin-page-header__subtitle",children:"Paramtres gnraux de la plateforme PedaClic"})]}),i.jsxs("div",{className:"admin-page-header__actions",children:[x&&i.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:A,children:"Annuler"}),i.jsx("button",{className:"admin-btn admin-btn-primary",onClick:S,disabled:!x||u,children:u?" Sauvegarde...":" Sauvegarder"})]})]}),x&&i.jsx("div",{className:"settings-unsaved-banner",children:" Vous avez des modifications non sauvegardes."}),m&&i.jsxs("div",{className:"admin-alert admin-alert--error",children:[" ",m]}),h&&i.jsxs("div",{className:"admin-alert admin-alert--success",children:[" ",h]}),i.jsxs("div",{className:"settings-section",children:[i.jsxs("div",{className:"settings-section__header",children:[i.jsx("h2",{className:"settings-section__title",children:" Informations gnrales"}),i.jsx("p",{className:"settings-section__description",children:"Informations de base de la plateforme"})]}),i.jsxs("div",{className:"settings-grid",children:[i.jsxs("div",{className:"settings-field",children:[i.jsx("label",{className:"settings-label",children:"Nom du site"}),i.jsx("input",{type:"text",className:"admin-input",value:e.siteName,onChange:C=>N("siteName",C.target.value)})]}),i.jsxs("div",{className:"settings-field settings-field--full",children:[i.jsx("label",{className:"settings-label",children:"Description"}),i.jsx("input",{type:"text",className:"admin-input",value:e.siteDescription,onChange:C=>N("siteDescription",C.target.value)})]}),i.jsxs("div",{className:"settings-field",children:[i.jsx("label",{className:"settings-label",children:"Email de contact"}),i.jsx("input",{type:"email",className:"admin-input",value:e.contactEmail,onChange:C=>N("contactEmail",C.target.value)})]}),i.jsxs("div",{className:"settings-field",children:[i.jsx("label",{className:"settings-label",children:"Tlphone"}),i.jsx("input",{type:"tel",className:"admin-input",value:e.contactPhone,onChange:C=>N("contactPhone",C.target.value)})]})]})]}),i.jsxs("div",{className:"settings-section",children:[i.jsxs("div",{className:"settings-section__header",children:[i.jsx("h2",{className:"settings-section__title",children:" Tarifs Premium"}),i.jsx("p",{className:"settings-section__description",children:"Montants des abonnements en FCFA"})]}),i.jsxs("div",{className:"settings-grid",children:[i.jsxs("div",{className:"settings-field",children:[i.jsx("label",{className:"settings-label",children:"Abonnement mensuel (FCFA)"}),i.jsx("input",{type:"number",className:"admin-input",value:e.premiumMensuel,onChange:C=>N("premiumMensuel",parseInt(C.target.value)||0),min:0,step:500}),i.jsxs("span",{className:"settings-hint",children:["Actuellement : ",e.premiumMensuel.toLocaleString("fr-FR")," FCFA/mois"]})]}),i.jsxs("div",{className:"settings-field",children:[i.jsx("label",{className:"settings-label",children:"Abonnement annuel (FCFA)"}),i.jsx("input",{type:"number",className:"admin-input",value:e.premiumAnnuel,onChange:C=>N("premiumAnnuel",parseInt(C.target.value)||0),min:0,step:1e3}),i.jsxs("span",{className:"settings-hint",children:["conomie : ",(e.premiumMensuel*12-e.premiumAnnuel).toLocaleString("fr-FR")," FCFA/an"]})]})]})]}),i.jsxs("div",{className:"settings-section",children:[i.jsxs("div",{className:"settings-section__header",children:[i.jsx("h2",{className:"settings-section__title",children:" Paramtres des Quiz"}),i.jsx("p",{className:"settings-section__description",children:"Valeurs par dfaut pour la cration de quiz"})]}),i.jsxs("div",{className:"settings-grid",children:[i.jsxs("div",{className:"settings-field",children:[i.jsx("label",{className:"settings-label",children:"Dure par dfaut (minutes)"}),i.jsx("input",{type:"number",className:"admin-input",value:e.quizDureeDefaut,onChange:C=>N("quizDureeDefaut",parseInt(C.target.value)||0),min:1,max:120})]}),i.jsxs("div",{className:"settings-field",children:[i.jsx("label",{className:"settings-label",children:"Note minimale pour russir (/20)"}),i.jsx("input",{type:"number",className:"admin-input",value:e.quizNoteMinimale,onChange:C=>N("quizNoteMinimale",parseInt(C.target.value)||0),min:0,max:20})]}),i.jsxs("div",{className:"settings-field",children:[i.jsx("label",{className:"settings-label",children:"Tentatives max par quiz"}),i.jsx("input",{type:"number",className:"admin-input",value:e.quizTentativesMax,onChange:C=>N("quizTentativesMax",parseInt(C.target.value)||0),min:1,max:10}),i.jsx("span",{className:"settings-hint",children:"0 = illimit"})]})]})]}),i.jsxs("div",{className:"settings-section",children:[i.jsxs("div",{className:"settings-section__header",children:[i.jsx("h2",{className:"settings-section__title",children:" Mode Maintenance"}),i.jsx("p",{className:"settings-section__description",children:"Activer pour bloquer l'accs au site pendant les mises  jour"})]}),i.jsxs("div",{className:"settings-grid",children:[i.jsxs("div",{className:"settings-field",children:[i.jsx("label",{className:"settings-label",children:"Mode maintenance"}),i.jsxs("div",{className:"settings-toggle-wrapper",children:[i.jsx("button",{className:`settings-toggle ${e.maintenanceMode?"settings-toggle--active":""}`,onClick:()=>N("maintenanceMode",!e.maintenanceMode),children:i.jsx("span",{className:"settings-toggle__knob"})}),i.jsx("span",{className:`settings-toggle-label ${e.maintenanceMode?"settings-toggle-label--active":""}`,children:e.maintenanceMode?" Maintenance active":" Site en ligne"})]})]}),i.jsxs("div",{className:"settings-field settings-field--full",children:[i.jsx("label",{className:"settings-label",children:"Message affich aux visiteurs"}),i.jsx("textarea",{className:"admin-input admin-textarea",rows:3,value:e.maintenanceMessage,onChange:C=>N("maintenanceMessage",C.target.value),disabled:!e.maintenanceMode})]})]})]}),i.jsxs("div",{className:"settings-actions",children:[i.jsx("button",{className:"admin-btn admin-btn-ghost",onClick:O,children:" Rinitialiser aux valeurs par dfaut"}),i.jsx("button",{className:"admin-btn admin-btn-primary",onClick:S,disabled:!x||u,children:u?" Sauvegarde...":" Sauvegarder les modifications"})]})]})},Eq=["bold","italic","underline","strikethrough","heading","color","highlight","alignLeft","alignCenter","alignRight","bulletList","numberedList","subscript","superscript","link","clean"],Oq=["#000000","#dc2626","#2563eb","#059669","#d97706","#7c3aed","#ec4899","#64748b","#ffffff"],zq=["#fef08a","#bbf7d0","#bfdbfe","#fecaca","#e9d5ff","#fed7aa","transparent"],za=({value:e,onChange:t,placeholder:r="Saisissez votre texte...",minHeight:n=100,maxHeight:l=400,toolbar:o=Eq,disabled:u=!1,className:f=""})=>{const m=j.useRef(null),p=j.useRef(!1),[h,v]=j.useState(!1),[x,b]=j.useState(!1);j.useEffect(()=>{m.current&&!p.current&&m.current.innerHTML!==e&&(m.current.innerHTML=e||""),p.current=!1},[e]);const _=j.useCallback(()=>{m.current&&(p.current=!0,t(m.current.innerHTML))},[t]),N=j.useCallback((C,E)=>{m.current?.focus(),document.execCommand(C,!1,E),_()},[_]),S=j.useCallback(()=>{const C=prompt("URL du lien :","https://");C&&N("createLink",C)},[N]),A=j.useCallback(()=>{N("removeFormat"),N("formatBlock","p")},[N]);j.useEffect(()=>{const C=()=>{v(!1),b(!1)};return document.addEventListener("click",C),()=>document.removeEventListener("click",C)},[]);const O=C=>{switch(C){case"bold":return i.jsx("button",{type:"button",className:"rte-btn",title:"Gras (Ctrl+B)",onMouseDown:E=>{E.preventDefault(),N("bold")},children:i.jsx("strong",{children:"G"})},"bold");case"italic":return i.jsx("button",{type:"button",className:"rte-btn",title:"Italique (Ctrl+I)",onMouseDown:E=>{E.preventDefault(),N("italic")},children:i.jsx("em",{children:"I"})},"italic");case"underline":return i.jsx("button",{type:"button",className:"rte-btn",title:"Soulign (Ctrl+U)",onMouseDown:E=>{E.preventDefault(),N("underline")},children:i.jsx("u",{children:"S"})},"underline");case"strikethrough":return i.jsx("button",{type:"button",className:"rte-btn",title:"Barr",onMouseDown:E=>{E.preventDefault(),N("strikeThrough")},children:i.jsx("s",{children:"B"})},"strike");case"heading":return i.jsx("button",{type:"button",className:"rte-btn",title:"Titre",onMouseDown:E=>{E.preventDefault(),N("formatBlock","h3")},children:"H"},"heading");case"color":return i.jsxs("span",{className:"rte-dropdown-wrapper",onClick:E=>E.stopPropagation(),children:[i.jsx("button",{type:"button",className:"rte-btn",title:"Couleur du texte",onClick:()=>{v(!h),b(!1)},children:i.jsx("span",{style:{borderBottom:"3px solid #dc2626"},children:"A"})}),h&&i.jsx("div",{className:"rte-color-picker",children:Oq.map(E=>i.jsx("button",{type:"button",className:"rte-color-swatch",style:{backgroundColor:E,border:E==="#ffffff"?"1px solid #ccc":"none"},onMouseDown:z=>{z.preventDefault(),N("foreColor",E),v(!1)}},E))})]},"color");case"highlight":return i.jsxs("span",{className:"rte-dropdown-wrapper",onClick:E=>E.stopPropagation(),children:[i.jsx("button",{type:"button",className:"rte-btn",title:"Surligner",onClick:()=>{b(!x),v(!1)},children:i.jsx("span",{style:{backgroundColor:"#fef08a",padding:"0 3px"},children:"S"})}),x&&i.jsx("div",{className:"rte-color-picker",children:zq.map(E=>i.jsx("button",{type:"button",className:"rte-color-swatch",style:{backgroundColor:E==="transparent"?"#fff":E,border:"1px solid #ccc"},onMouseDown:z=>{z.preventDefault(),N("hiliteColor",E),b(!1)},children:E==="transparent"?"":""},E))})]},"highlight");case"alignLeft":return i.jsx("button",{type:"button",className:"rte-btn",title:"Aligner  gauche",onMouseDown:E=>{E.preventDefault(),N("justifyLeft")},children:""},"alignL");case"alignCenter":return i.jsx("button",{type:"button",className:"rte-btn",title:"Centrer",onMouseDown:E=>{E.preventDefault(),N("justifyCenter")},children:""},"alignC");case"alignRight":return i.jsx("button",{type:"button",className:"rte-btn",title:"Aligner  droite",onMouseDown:E=>{E.preventDefault(),N("justifyRight")},children:""},"alignR");case"bulletList":return i.jsx("button",{type:"button",className:"rte-btn",title:"Liste  puces",onMouseDown:E=>{E.preventDefault(),N("insertUnorderedList")},children:""},"ul");case"numberedList":return i.jsx("button",{type:"button",className:"rte-btn",title:"Liste numrote",onMouseDown:E=>{E.preventDefault(),N("insertOrderedList")},children:"1"},"ol");case"subscript":return i.jsxs("button",{type:"button",className:"rte-btn",title:"Indice",onMouseDown:E=>{E.preventDefault(),N("subscript")},children:["X",i.jsx("sub",{children:""})]},"sub");case"superscript":return i.jsxs("button",{type:"button",className:"rte-btn",title:"Exposant",onMouseDown:E=>{E.preventDefault(),N("superscript")},children:["X",i.jsx("sup",{children:""})]},"sup");case"link":return i.jsx("button",{type:"button",className:"rte-btn",title:"Insrer un lien",onMouseDown:E=>{E.preventDefault(),S()},children:""},"link");case"clean":return i.jsx("button",{type:"button",className:"rte-btn rte-btn-clean",title:"Nettoyer le formatage",onMouseDown:E=>{E.preventDefault(),A()},children:""},"clean");default:return null}};return i.jsxs("div",{className:`rte-container ${u?"rte-disabled":""} ${f}`,children:[!u&&i.jsx("div",{className:"rte-toolbar",children:o.map(C=>O(C))}),i.jsx("div",{ref:m,className:"rte-editor",contentEditable:!u,onInput:_,onBlur:_,"data-placeholder":r,style:{minHeight:`${n}px`,maxHeight:`${l}px`},suppressContentEditableWarning:!0})]})},Ml={qcm_unique:"QCM  Choix unique",qcm_multiple:"QCM  Choix multiple",drag_drop:"Glisser-Dposer",mise_en_relation:"Mise en relation",essai:"Essai / Rdaction"},Td={qcm_unique:"",qcm_multiple:"",drag_drop:"",mise_en_relation:"",essai:""},Pd={qcm_unique:"#2563eb",qcm_multiple:"#7c3aed",drag_drop:"#059669",mise_en_relation:"#d97706",essai:"#dc2626"};function Bt(e="id"){return`${e}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function Mq(e,t){const r={id:Bt("q"),type:e,enonce:"",difficulte:"moyen",points:2,ordre:t};switch(e){case"qcm_unique":return{...r,typeData:{options:[{id:Bt("opt"),texte:"",isCorrect:!0},{id:Bt("opt"),texte:"",isCorrect:!1},{id:Bt("opt"),texte:"",isCorrect:!1},{id:Bt("opt"),texte:"",isCorrect:!1}]}};case"qcm_multiple":return{...r,typeData:{options:[{id:Bt("opt"),texte:"",isCorrect:!0},{id:Bt("opt"),texte:"",isCorrect:!0},{id:Bt("opt"),texte:"",isCorrect:!1},{id:Bt("opt"),texte:"",isCorrect:!1}],scoringPartiel:!0}};case"drag_drop":return{...r,typeData:{items:[{id:Bt("item"),texte:"",ordreCorrect:1},{id:Bt("item"),texte:"",ordreCorrect:2},{id:Bt("item"),texte:"",ordreCorrect:3}],consigneOrdre:"Remettez les lments dans le bon ordre"}};case"mise_en_relation":return{...r,typeData:{paires:[{id:Bt("pair"),gauche:"",droite:""},{id:Bt("pair"),gauche:"",droite:""},{id:Bt("pair"),gauche:"",droite:""}]}};case"essai":return{...r,points:5,typeData:{nombreMotsMin:50,nombreMotsMax:500,motsCles:[],correctionMode:"manuelle"}}}}const _c="quizzes_v2",Dq="quiz_results_v2";async function Tq(e,t){try{const r=await Lr(Te(he,_c),{...e,auteurId:t,createdAt:jt(),updatedAt:jt()});return console.log(" Quiz avanc cr :",r.id),r.id}catch(r){throw console.error(" Erreur cration quiz avanc :",r),new Error("Impossible de crer le quiz")}}async function Pq(e,t){try{const r=De(he,_c,e);await _t(r,{...t,updatedAt:jt()}),console.log(" Quiz avanc mis  jour :",e)}catch(r){throw console.error(" Erreur mise  jour quiz :",r),new Error("Impossible de mettre  jour le quiz")}}async function kq(e){try{await js(De(he,_c,e)),console.log(" Quiz avanc supprim :",e)}catch(t){throw console.error(" Erreur suppression quiz :",t),new Error("Impossible de supprimer le quiz")}}async function o2(e){try{const t=await yr(De(he,_c,e));if(!t.exists())return null;const r=t.data();return{id:t.id,...r,createdAt:r.createdAt?.toDate()||new Date,updatedAt:r.updatedAt?.toDate()||void 0}}catch(t){throw console.error(" Erreur rcupration quiz :",t),new Error("Impossible de rcuprer le quiz")}}async function qq(){try{const e=Ke(Te(he,_c),Pt("createdAt","desc"));return(await $e(e)).docs.map(r=>{const n=r.data();return{id:r.id,...n,createdAt:n.createdAt?.toDate()||new Date,updatedAt:n.updatedAt?.toDate()||void 0}})}catch(e){throw console.error(" Erreur rcupration tous les quiz :",e),new Error("Impossible de rcuprer les quiz")}}function Rq(e,t){let r=0,n=0;const l=[];for(const o of e.questions){n+=o.points;const u=t.find(v=>v.questionId===o.id);if(!u){l.push({questionId:o.id,type:o.type,pointsObtenus:0,pointsMax:o.points,isCorrect:!1});continue}let f=0,m=!1,p=!1,h=!1;switch(o.type){case"qcm_unique":{const x=o.typeData.options.find(b=>b.isCorrect);x&&u.selectedOptionId===x.id&&(f=o.points,m=!0);break}case"qcm_multiple":{const v=o.typeData,x=v.options.filter(A=>A.isCorrect).map(A=>A.id),b=v.options.filter(A=>!A.isCorrect).map(A=>A.id),_=u.selectedOptionIds||[],N=_.some(A=>b.includes(A)),S=_.filter(A=>x.includes(A)).length;!N&&S===x.length?(f=o.points,m=!0):v.scoringPartiel&&S>0&&!N&&(f=Math.round(o.points*S/x.length*100)/100,p=!0);break}case"drag_drop":{const v=o.typeData,x=u.ordrePropose||[],b=v.items.sort((N,S)=>N.ordreCorrect-S.ordreCorrect).map(N=>N.id);let _=0;for(let N=0;N<b.length;N++)x[N]===b[N]&&_++;_===b.length?(f=o.points,m=!0):_>0&&(f=Math.round(o.points*_/b.length*100)/100,p=!0);break}case"mise_en_relation":{const v=o.typeData,x=u.relationsProposees||{};let b=0;for(const _ of v.paires)x[_.id]===_.id&&b++;b===v.paires.length?(f=o.points,m=!0):b>0&&(f=Math.round(o.points*b/v.paires.length*100)/100,p=!0);break}case"essai":{const v=o.typeData,x=u.texteReponse||"";if(v.correctionMode==="mots_cles"&&v.motsCles.length>0){const b=x.toLowerCase().replace(/<[^>]*>/g,"");let _=0,N=0;for(const S of v.motsCles)_+=S.poids,b.includes(S.mot.toLowerCase())&&(N+=S.poids);_>0&&(f=Math.round(o.points*N/_*100)/100,m=N===_,p=N>0&&N<_)}else h=!0;break}}r+=f,l.push({questionId:o.id,type:o.type,pointsObtenus:f,pointsMax:o.points,isCorrect:m,isPartiel:p,correctionManuelleRequise:h})}return{score:r,scoreMax:n,details:l}}async function Lq(e,t,r,n){try{const{score:l,scoreMax:o,details:u}=Rq(e,r),f=o>0?Math.round(l/o*20*100)/100:0,m=u.some(v=>v.correctionManuelleRequise),p={quizId:e.id,userId:t,reponses:r,score:l,scoreMax:o,note20:f,tempsEcoule:n,datePassage:new Date,reussi:f>=e.noteMinimale,correctionManuelle:m,detailsParQuestion:u},h=await Lr(Te(he,Dq),{...p,datePassage:jt()});return console.log(" Rsultat quiz enregistr :",h.id),{id:h.id,...p}}catch(l){throw console.error(" Erreur soumission quiz :",l),new Error("Impossible d'enregistrer le rsultat")}}const Iq=({existingQuiz:e,disciplines:t,auteurId:r,onSave:n,onCancel:l})=>{const[o,u]=j.useState(e?.titre||""),[f,m]=j.useState(e?.description||""),[p,h]=j.useState(e?.disciplineId||""),[v,x]=j.useState(e?.duree||30),[b,_]=j.useState(e?.isPremium??!0),[N,S]=j.useState(e?.noteMinimale||10),[A,O]=j.useState(e?.melangerQuestions??!1),[C,E]=j.useState(e?.melangerOptions??!1),[z,D]=j.useState(e?.afficherCorrection??!0),[L,T]=j.useState(e?.tentativesMax||0),[q,Y]=j.useState(e?.questions||[]),[X,$]=j.useState(null),[oe,ue]=j.useState(!1),[V,k]=j.useState(null),[J,G]=j.useState(!1),me=j.useCallback(U=>{const le=Mq(U,q.length+1);Y(we=>[...we,le]),$(q.length),G(!1)},[q.length]),I=j.useCallback(U=>{confirm("Supprimer cette question ?")&&(Y(le=>le.filter((re,Q)=>Q!==U).map((re,Q)=>({...re,ordre:Q+1}))),$(null))},[]),ve=j.useCallback(U=>{Y(le=>{const we=le[U],re={...JSON.parse(JSON.stringify(we)),id:Bt("q"),ordre:le.length+1};return[...le,re]})},[]),xe=j.useCallback((U,le)=>{Y(we=>{const re=[...we],Q=le==="up"?U-1:U+1;return Q<0||Q>=re.length?we:([re[U],re[Q]]=[re[Q],re[U]],re.map((R,ne)=>({...R,ordre:ne+1})))}),$(le==="up"?X!==null?X-1:null:X!==null?X+1:null)},[X]),pe=j.useCallback((U,le)=>{Y(we=>we.map((re,Q)=>Q===U?{...re,...le}:re))},[]),ye=async()=>{if(!o.trim()){k("Le titre est obligatoire");return}if(!p){k("Slectionnez une discipline");return}if(q.length===0){k("Ajoutez au moins une question");return}for(let U=0;U<q.length;U++)if(!q[U].enonce.replace(/<[^>]*>/g,"").trim()){k(`La question ${U+1} n'a pas d'nonc`),$(U);return}k(null),ue(!0);try{const U={disciplineId:p,titre:o.trim(),description:f.trim()||void 0,questions:q,duree:v,isPremium:b,noteMinimale:N,melangerQuestions:A,melangerOptions:C,afficherCorrection:z,tentativesMax:L};let le;e?.id?(await Pq(e.id,U),le=e.id):le=await Tq(U,r),n?.(le)}catch(U){k(U.message||"Erreur lors de la sauvegarde")}finally{ue(!1)}},fe=q.reduce((U,le)=>U+le.points,0);return i.jsxs("div",{className:"quiz-editor",children:[i.jsxs("div",{className:"quiz-editor__header",children:[i.jsx("h2",{children:e?" Modifier le quiz":" Nouveau quiz avanc"}),i.jsxs("div",{className:"quiz-editor__header-actions",children:[i.jsxs("span",{className:"quiz-editor__score-badge",children:["Score total : ",fe," pts"]}),i.jsxs("span",{className:"quiz-editor__count-badge",children:[q.length," question",q.length>1?"s":""]})]})]}),V&&i.jsxs("div",{className:"quiz-editor__error",children:[" ",V,i.jsx("button",{onClick:()=>k(null),children:""})]}),i.jsxs("div",{className:"quiz-editor__section",children:[i.jsx("h3",{className:"quiz-editor__section-title",children:" Paramtres du quiz"}),i.jsxs("div",{className:"quiz-editor__grid",children:[i.jsxs("div",{className:"quiz-editor__field quiz-editor__field--full",children:[i.jsx("label",{children:"Titre du quiz *"}),i.jsx("input",{type:"text",value:o,onChange:U=>u(U.target.value),placeholder:"Ex: valuation Chapitre 3  Les fonctions",className:"quiz-editor__input"})]}),i.jsxs("div",{className:"quiz-editor__field",children:[i.jsx("label",{children:"Discipline *"}),i.jsxs("select",{value:p,onChange:U=>h(U.target.value),className:"quiz-editor__select",children:[i.jsx("option",{value:"",children:" Slectionner "}),t.map(U=>i.jsxs("option",{value:U.id,children:[U.nom," (",U.classe,")"]},U.id))]})]}),i.jsxs("div",{className:"quiz-editor__field",children:[i.jsx("label",{children:"Dure (minutes)"}),i.jsx("input",{type:"number",value:v,onChange:U=>x(Number(U.target.value)),min:1,max:180,className:"quiz-editor__input"})]}),i.jsxs("div",{className:"quiz-editor__field",children:[i.jsx("label",{children:"Note minimale (/20)"}),i.jsx("input",{type:"number",value:N,onChange:U=>S(Number(U.target.value)),min:0,max:20,className:"quiz-editor__input"})]}),i.jsxs("div",{className:"quiz-editor__field",children:[i.jsx("label",{children:"Tentatives max (0 = illimit)"}),i.jsx("input",{type:"number",value:L,onChange:U=>T(Number(U.target.value)),min:0,max:10,className:"quiz-editor__input"})]}),i.jsxs("div",{className:"quiz-editor__field quiz-editor__field--full",children:[i.jsx("label",{children:"Description (optionnel)"}),i.jsx(za,{value:f,onChange:m,placeholder:"Dcrivez le contenu et les objectifs de ce quiz...",minHeight:80,toolbar:["bold","italic","underline","color","bulletList"]})]})]}),i.jsxs("div",{className:"quiz-editor__options-row",children:[i.jsxs("label",{className:"quiz-editor__checkbox",children:[i.jsx("input",{type:"checkbox",checked:b,onChange:U=>_(U.target.checked)}),i.jsx("span",{children:" Premium"})]}),i.jsxs("label",{className:"quiz-editor__checkbox",children:[i.jsx("input",{type:"checkbox",checked:A,onChange:U=>O(U.target.checked)}),i.jsx("span",{children:" Mlanger les questions"})]}),i.jsxs("label",{className:"quiz-editor__checkbox",children:[i.jsx("input",{type:"checkbox",checked:C,onChange:U=>E(U.target.checked)}),i.jsx("span",{children:" Mlanger les options QCM"})]}),i.jsxs("label",{className:"quiz-editor__checkbox",children:[i.jsx("input",{type:"checkbox",checked:z,onChange:U=>D(U.target.checked)}),i.jsx("span",{children:" Afficher la correction"})]})]})]}),i.jsxs("div",{className:"quiz-editor__section",children:[i.jsx("h3",{className:"quiz-editor__section-title",children:" Questions"}),i.jsx("div",{className:"quiz-editor__questions-list",children:q.map((U,le)=>i.jsx(Bq,{question:U,index:le,isActive:X===le,onToggle:()=>$(X===le?null:le),onUpdate:we=>pe(le,we),onDelete:()=>I(le),onDuplicate:()=>ve(le),onMoveUp:()=>xe(le,"up"),onMoveDown:()=>xe(le,"down"),isFirst:le===0,isLast:le===q.length-1},U.id))}),i.jsxs("div",{className:"quiz-editor__add-wrapper",children:[i.jsx("button",{type:"button",className:"quiz-editor__add-btn",onClick:()=>G(!J),children:"+ Ajouter une question"}),J&&i.jsx("div",{className:"quiz-editor__add-menu",children:Object.keys(Ml).map(U=>i.jsxs("button",{type:"button",className:"quiz-editor__add-menu-item",onClick:()=>me(U),children:[i.jsx("span",{className:"quiz-editor__type-badge",style:{backgroundColor:Pd[U]},children:Td[U]}),i.jsx("span",{children:Ml[U]})]},U))})]})]}),i.jsxs("div",{className:"quiz-editor__actions",children:[i.jsx("button",{type:"button",className:"quiz-editor__btn quiz-editor__btn--secondary",onClick:l,disabled:oe,children:"Annuler"}),i.jsx("button",{type:"button",className:"quiz-editor__btn quiz-editor__btn--primary",onClick:ye,disabled:oe||q.length===0,children:oe?" Sauvegarde...":e?" Mettre  jour":" Crer le quiz"})]})]})},Bq=({question:e,index:t,isActive:r,onToggle:n,onUpdate:l,onDelete:o,onDuplicate:u,onMoveUp:f,onMoveDown:m,isFirst:p,isLast:h})=>{const v=Pd[e.type],x=Td[e.type],b=Ml[e.type],_=N=>{const S=N.replace(/<[^>]*>/g,"").trim();return S.length>80?S.substring(0,80)+"...":S||"(sans nonc)"};return i.jsxs("div",{className:`question-editor ${r?"question-editor--active":""}`,style:{borderLeftColor:v},children:[i.jsxs("div",{className:"question-editor__header",onClick:n,children:[i.jsxs("div",{className:"question-editor__header-left",children:[i.jsx("span",{className:"question-editor__number",children:t+1}),i.jsxs("span",{className:"question-editor__type-badge",style:{backgroundColor:v},children:[x," ",b]}),!r&&i.jsx("span",{className:"question-editor__preview",children:_(e.enonce)})]}),i.jsxs("div",{className:"question-editor__header-right",children:[i.jsxs("span",{className:"question-editor__points",children:[e.points," pts"]}),i.jsx("span",{className:"question-editor__toggle",children:r?"":""})]})]}),r&&i.jsxs("div",{className:"question-editor__body",children:[i.jsxs("div",{className:"question-editor__toolbar",children:[i.jsx("button",{type:"button",onClick:f,disabled:p,title:"Monter",children:""}),i.jsx("button",{type:"button",onClick:m,disabled:h,title:"Descendre",children:""}),i.jsx("button",{type:"button",onClick:u,title:"Dupliquer",children:""}),i.jsx("button",{type:"button",onClick:o,className:"btn-danger",title:"Supprimer",children:""})]}),i.jsxs("div",{className:"question-editor__field",children:[i.jsx("label",{children:"nonc de la question *"}),i.jsx(za,{value:e.enonce,onChange:N=>l({enonce:N}),placeholder:"Saisissez l'nonc de la question...",minHeight:100})]}),i.jsxs("div",{className:"question-editor__params",children:[i.jsxs("div",{className:"question-editor__param",children:[i.jsx("label",{children:"Difficult"}),i.jsxs("select",{value:e.difficulte,onChange:N=>l({difficulte:N.target.value}),children:[i.jsx("option",{value:"facile",children:" Facile"}),i.jsx("option",{value:"moyen",children:" Moyen"}),i.jsx("option",{value:"difficile",children:" Difficile"})]})]}),i.jsxs("div",{className:"question-editor__param",children:[i.jsx("label",{children:"Points"}),i.jsx("input",{type:"number",value:e.points,onChange:N=>l({points:Number(N.target.value)}),min:1,max:20})]})]}),i.jsxs("div",{className:"question-editor__type-specific",children:[e.type==="qcm_unique"&&i.jsx($q,{data:e.typeData,onChange:N=>l({typeData:N})}),e.type==="qcm_multiple"&&i.jsx(Uq,{data:e.typeData,onChange:N=>l({typeData:N})}),e.type==="drag_drop"&&i.jsx(Hq,{data:e.typeData,onChange:N=>l({typeData:N})}),e.type==="mise_en_relation"&&i.jsx(Gq,{data:e.typeData,onChange:N=>l({typeData:N})}),e.type==="essai"&&i.jsx(Qq,{data:e.typeData,onChange:N=>l({typeData:N})})]}),i.jsxs("div",{className:"question-editor__field",children:[i.jsx("label",{children:"Explication (affiche aprs correction, optionnel)"}),i.jsx(za,{value:e.explication||"",onChange:N=>l({explication:N}),placeholder:"Expliquez la bonne rponse...",minHeight:60,toolbar:["bold","italic","color","link"]})]})]})]})},$q=({data:e,onChange:t})=>{const r=(o,u)=>{const f=e.options.map((m,p)=>p===o?{...m,...u}:u.isCorrect===!0?{...m,isCorrect:!1}:m);t({options:f})},n=()=>{e.options.length>=6||t({options:[...e.options,{id:Bt("opt"),texte:"",isCorrect:!1}]})},l=o=>{e.options.length<=2||t({options:e.options.filter((u,f)=>f!==o)})};return i.jsxs("div",{className:"type-editor",children:[i.jsx("label",{className:"type-editor__label",children:" Options (slectionnez la bonne rponse)"}),e.options.map((o,u)=>i.jsxs("div",{className:"type-editor__option-row",children:[i.jsx("input",{type:"radio",name:`qcm_unique_${o.id}`,checked:o.isCorrect,onChange:()=>r(u,{isCorrect:!0}),className:"type-editor__radio",title:"Bonne rponse"}),i.jsx("div",{className:"type-editor__option-text",children:i.jsx(za,{value:o.texte,onChange:f=>r(u,{texte:f}),placeholder:`Option ${u+1}...`,minHeight:40,toolbar:["bold","italic","color","subscript","superscript"]})}),o.isCorrect&&i.jsx("span",{className:"type-editor__correct-badge",children:""}),i.jsx("button",{type:"button",className:"type-editor__remove-btn",onClick:()=>l(u),disabled:e.options.length<=2,title:"Supprimer cette option",children:""})]},o.id)),e.options.length<6&&i.jsx("button",{type:"button",className:"type-editor__add-btn",onClick:n,children:"+ Ajouter une option"})]})},Uq=({data:e,onChange:t})=>{const r=(o,u)=>{const f=e.options.map((m,p)=>p===o?{...m,...u}:m);t({...e,options:f})},n=()=>{e.options.length>=8||t({...e,options:[...e.options,{id:Bt("opt"),texte:"",isCorrect:!1}]})},l=o=>{e.options.length<=2||t({...e,options:e.options.filter((u,f)=>f!==o)})};return i.jsxs("div",{className:"type-editor",children:[i.jsx("label",{className:"type-editor__label",children:" Options (cochez toutes les bonnes rponses)"}),e.options.map((o,u)=>i.jsxs("div",{className:"type-editor__option-row",children:[i.jsx("input",{type:"checkbox",checked:o.isCorrect,onChange:f=>r(u,{isCorrect:f.target.checked}),className:"type-editor__checkbox",title:"Bonne rponse"}),i.jsx("div",{className:"type-editor__option-text",children:i.jsx(za,{value:o.texte,onChange:f=>r(u,{texte:f}),placeholder:`Option ${u+1}...`,minHeight:40,toolbar:["bold","italic","color","subscript","superscript"]})}),o.isCorrect&&i.jsx("span",{className:"type-editor__correct-badge",children:""}),i.jsx("button",{type:"button",className:"type-editor__remove-btn",onClick:()=>l(u),disabled:e.options.length<=2,children:""})]},o.id)),e.options.length<8&&i.jsx("button",{type:"button",className:"type-editor__add-btn",onClick:n,children:"+ Ajouter une option"}),i.jsxs("label",{className:"type-editor__sub-option",children:[i.jsx("input",{type:"checkbox",checked:e.scoringPartiel,onChange:o=>t({...e,scoringPartiel:o.target.checked})}),i.jsx("span",{children:"Accorder des points partiels (proportionnel aux bonnes rponses trouves)"})]})]})},Hq=({data:e,onChange:t})=>{const r=(o,u)=>{const f=e.items.map((m,p)=>p===o?{...m,...u}:m);t({...e,items:f})},n=()=>{e.items.length>=10||t({...e,items:[...e.items,{id:Bt("item"),texte:"",ordreCorrect:e.items.length+1}]})},l=o=>{if(e.items.length<=2)return;const u=e.items.filter((f,m)=>m!==o).map((f,m)=>({...f,ordreCorrect:m+1}));t({...e,items:u})};return i.jsxs("div",{className:"type-editor",children:[i.jsx("label",{className:"type-editor__label",children:" lments  rordonner (dans l'ordre correct)"}),i.jsx("p",{className:"type-editor__hint",children:"Saisissez les lments dans l'ordre correct. Ils seront mlangs automatiquement pour l'lve."}),i.jsxs("div",{className:"type-editor__field-inline",children:[i.jsx("label",{children:"Consigne :"}),i.jsx("input",{type:"text",value:e.consigneOrdre,onChange:o=>t({...e,consigneOrdre:o.target.value}),placeholder:"Ex: Classez du plus ancien au plus rcent",className:"type-editor__input"})]}),e.items.map((o,u)=>i.jsxs("div",{className:"type-editor__drag-row",children:[i.jsx("span",{className:"type-editor__drag-number",children:u+1}),i.jsx("div",{className:"type-editor__option-text",children:i.jsx(za,{value:o.texte,onChange:f=>r(u,{texte:f}),placeholder:`lment ${u+1}...`,minHeight:40,toolbar:["bold","italic","color"]})}),i.jsx("button",{type:"button",className:"type-editor__remove-btn",onClick:()=>l(u),disabled:e.items.length<=2,children:""})]},o.id)),e.items.length<10&&i.jsx("button",{type:"button",className:"type-editor__add-btn",onClick:n,children:"+ Ajouter un lment"})]})},Gq=({data:e,onChange:t})=>{const r=(o,u)=>{const f=e.paires.map((m,p)=>p===o?{...m,...u}:m);t({paires:f})},n=()=>{e.paires.length>=8||t({paires:[...e.paires,{id:Bt("pair"),gauche:"",droite:""}]})},l=o=>{e.paires.length<=2||t({paires:e.paires.filter((u,f)=>f!==o)})};return i.jsxs("div",{className:"type-editor",children:[i.jsx("label",{className:"type-editor__label",children:" Paires  relier (gauche  droite)"}),i.jsx("p",{className:"type-editor__hint",children:"Saisissez les correspondances correctes. La colonne droite sera mlange pour l'lve."}),i.jsxs("div",{className:"type-editor__relation-header",children:[i.jsx("span",{children:"Colonne A (gauche)"}),i.jsx("span",{}),i.jsx("span",{children:"Colonne B (droite)"}),i.jsx("span",{})]}),e.paires.map((o,u)=>i.jsxs("div",{className:"type-editor__relation-row",children:[i.jsx("div",{className:"type-editor__relation-cell",children:i.jsx(za,{value:o.gauche,onChange:f=>r(u,{gauche:f}),placeholder:`lment A${u+1}...`,minHeight:40,toolbar:["bold","italic","color"]})}),i.jsx("span",{className:"type-editor__relation-arrow",children:""}),i.jsx("div",{className:"type-editor__relation-cell",children:i.jsx(za,{value:o.droite,onChange:f=>r(u,{droite:f}),placeholder:`lment B${u+1}...`,minHeight:40,toolbar:["bold","italic","color"]})}),i.jsx("button",{type:"button",className:"type-editor__remove-btn",onClick:()=>l(u),disabled:e.paires.length<=2,children:""})]},o.id)),e.paires.length<8&&i.jsx("button",{type:"button",className:"type-editor__add-btn",onClick:n,children:"+ Ajouter une paire"})]})},Qq=({data:e,onChange:t})=>{const r=()=>{t({...e,motsCles:[...e.motsCles,{mot:"",poids:1,obligatoire:!1}]})},n=(o,u)=>{const f=e.motsCles.map((m,p)=>p===o?{...m,...u}:m);t({...e,motsCles:f})},l=o=>{t({...e,motsCles:e.motsCles.filter((u,f)=>f!==o)})};return i.jsxs("div",{className:"type-editor",children:[i.jsx("label",{className:"type-editor__label",children:" Paramtres de l'essai"}),i.jsxs("div",{className:"type-editor__params-row",children:[i.jsxs("div",{className:"type-editor__param-inline",children:[i.jsx("label",{children:"Mots minimum :"}),i.jsx("input",{type:"number",value:e.nombreMotsMin||"",onChange:o=>t({...e,nombreMotsMin:Number(o.target.value)||void 0}),min:0,placeholder:"Ex: 50"})]}),i.jsxs("div",{className:"type-editor__param-inline",children:[i.jsx("label",{children:"Mots maximum :"}),i.jsx("input",{type:"number",value:e.nombreMotsMax||"",onChange:o=>t({...e,nombreMotsMax:Number(o.target.value)||void 0}),min:0,placeholder:"Ex: 500"})]})]}),i.jsxs("div",{className:"type-editor__field-inline",children:[i.jsx("label",{children:"Mode de correction :"}),i.jsxs("select",{value:e.correctionMode,onChange:o=>t({...e,correctionMode:o.target.value}),children:[i.jsx("option",{value:"manuelle",children:" Manuelle (par le prof)"}),i.jsx("option",{value:"mots_cles",children:" Par mots-cls (automatique)"}),i.jsx("option",{value:"semi_auto",children:" Semi-automatique (mots-cls + validation prof)"})]})]}),(e.correctionMode==="mots_cles"||e.correctionMode==="semi_auto")&&i.jsxs("div",{className:"type-editor__keywords",children:[i.jsx("label",{className:"type-editor__sub-label",children:"Mots-cls attendus"}),e.motsCles.map((o,u)=>i.jsxs("div",{className:"type-editor__keyword-row",children:[i.jsx("input",{type:"text",value:o.mot,onChange:f=>n(u,{mot:f.target.value}),placeholder:"Mot ou expression...",className:"type-editor__keyword-input"}),i.jsxs("select",{value:o.poids,onChange:f=>n(u,{poids:Number(f.target.value)}),className:"type-editor__keyword-weight",children:[i.jsx("option",{value:1,children:"Poids 1"}),i.jsx("option",{value:2,children:"Poids 2"}),i.jsx("option",{value:3,children:"Poids 3"}),i.jsx("option",{value:4,children:"Poids 4"}),i.jsx("option",{value:5,children:"Poids 5"})]}),i.jsxs("label",{className:"type-editor__keyword-required",children:[i.jsx("input",{type:"checkbox",checked:o.obligatoire,onChange:f=>n(u,{obligatoire:f.target.checked})}),i.jsx("span",{children:"Obligatoire"})]}),i.jsx("button",{type:"button",className:"type-editor__remove-btn",onClick:()=>l(u),children:""})]},u)),i.jsx("button",{type:"button",className:"type-editor__add-btn",onClick:r,children:"+ Ajouter un mot-cl"})]}),i.jsxs("div",{className:"type-editor__field-block",children:[i.jsx("label",{children:"Rponse modle (optionnel  pour le prof)"}),i.jsx(za,{value:e.reponseModele||"",onChange:o=>t({...e,reponseModele:o}),placeholder:"Saisissez une rponse modle...",minHeight:80})]})]})},Q_=()=>{const{quizId:e}=Tf(),t=Zr(),{currentUser:r}=Ht(),[n,l]=j.useState([]),[o,u]=j.useState(void 0),[f,m]=j.useState(!0),[p,h]=j.useState(null);return j.useEffect(()=>{(async()=>{try{m(!0);const x=await zi.getAll();if(l(x.map(b=>({id:b.id,nom:b.nom,classe:b.classe||""}))),e){const b=await o2(e);b?u(b):h("Quiz introuvable")}}catch(x){console.error("Erreur chargement donnes:",x),h(x.message||"Erreur de chargement")}finally{m(!1)}})()},[e]),f?i.jsx("div",{style:{textAlign:"center",padding:"3rem"},children:i.jsx("p",{children:" Chargement..."})}):p?i.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[i.jsxs("p",{style:{color:"#dc2626"},children:[" ",p]}),i.jsx("button",{onClick:()=>t(-1),children:" Retour"})]}):i.jsx(Iq,{existingQuiz:o?{...o,id:o.id}:void 0,disciplines:n,auteurId:r?.uid||"",onSave:v=>{alert(" Quiz sauvegard avec succs !"),t("/admin/quiz")},onCancel:()=>t(-1)})},Fq=()=>{const e=Zr(),{currentUser:t}=Ht(),[r,n]=j.useState([]),[l,o]=j.useState(!0),[u,f]=j.useState(null),[m,p]=j.useState(null);j.useEffect(()=>{h()},[]);const h=async()=>{try{o(!0),f(null);const N=await qq();n(N)}catch(N){console.error("Erreur chargement quiz:",N),f("Impossible de charger les quiz")}finally{o(!1)}},v=async N=>{try{await kq(N),n(S=>S.filter(A=>A.id!==N)),p(null)}catch(S){console.error("Erreur suppression:",S),alert("Erreur lors de la suppression : "+S.message)}},x=N=>{const S={};return N.questions.forEach(A=>{S[A.type]=(S[A.type]||0)+1}),Object.entries(S).map(([A,O])=>`${O} ${Ml[A]||A}`).join(", ")},b=N=>N?(N.toDate?N.toDate():new Date(N)).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}):"",_=N=>N.questions.reduce((S,A)=>S+A.points,0);return i.jsxs("div",{style:{padding:"1.5rem"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[i.jsxs("div",{children:[i.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:700,color:"#1f2937",margin:0},children:" Quiz Avancs (Multi-types)"}),i.jsxs("p",{style:{color:"#6b7280",margin:"0.25rem 0 0",fontSize:"0.9rem"},children:[r.length," quiz cr",r.length!==1?"s":""]})]}),i.jsx("button",{onClick:()=>e("/admin/quiz/nouveau"),style:{padding:"0.7rem 1.5rem",background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Nouveau quiz avanc"})]}),u&&i.jsxs("div",{style:{padding:"1rem",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#991b1b",marginBottom:"1rem"},children:[" ",u,i.jsx("button",{onClick:h,style:{marginLeft:"1rem",padding:"0.3rem 0.8rem",background:"#fff",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer"},children:" Ressayer"})]}),l&&i.jsx("div",{style:{textAlign:"center",padding:"3rem",color:"#6b7280"},children:" Chargement des quiz..."}),!l&&r.length===0&&!u&&i.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"#f9fafb",borderRadius:"12px",border:"1px solid #e5e7eb"},children:[i.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),i.jsx("h3",{style:{color:"#374151",marginBottom:"0.5rem"},children:"Aucun quiz avanc"}),i.jsx("p",{style:{color:"#6b7280",marginBottom:"1.5rem"},children:"Crez votre premier quiz multi-types avec l'diteur riche !"}),i.jsx("button",{onClick:()=>e("/admin/quiz/nouveau"),style:{padding:"0.7rem 1.5rem",background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:" Crer un quiz"})]}),!l&&r.length>0&&i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:r.map(N=>i.jsx("div",{style:{background:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb",padding:"1.25rem",boxShadow:"0 1px 3px rgba(0,0,0,0.04)",transition:"box-shadow 0.2s"},children:i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"1rem"},children:[i.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[i.jsx("h3",{style:{fontSize:"1.05rem",fontWeight:700,color:"#1f2937",margin:0},children:N.titre}),N.isPremium&&i.jsx("span",{style:{padding:"0.15rem 0.5rem",background:"#fef3c7",color:"#92400e",borderRadius:"12px",fontSize:"0.7rem",fontWeight:600,border:"1px solid #fde68a"},children:" Premium"})]}),i.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.4rem",marginBottom:"0.5rem"},children:[i.jsxs("span",{style:{padding:"0.2rem 0.6rem",background:"#eff6ff",color:"#1d4ed8",borderRadius:"12px",fontSize:"0.75rem",fontWeight:500},children:[" ",N.questions.length," question",N.questions.length!==1?"s":""]}),i.jsxs("span",{style:{padding:"0.2rem 0.6rem",background:"#f0fdf4",color:"#166534",borderRadius:"12px",fontSize:"0.75rem",fontWeight:500},children:[" ",_(N)," pts"]}),i.jsxs("span",{style:{padding:"0.2rem 0.6rem",background:"#fdf4ff",color:"#86198f",borderRadius:"12px",fontSize:"0.75rem",fontWeight:500},children:[" ",N.duree," min"]})]}),i.jsxs("p",{style:{fontSize:"0.8rem",color:"#6b7280",margin:0},children:["Types : ",x(N)]}),i.jsxs("p",{style:{fontSize:"0.75rem",color:"#9ca3af",margin:"0.25rem 0 0"},children:["Cr le ",b(N.createdAt)]})]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexShrink:0,flexWrap:"wrap"},children:[i.jsx("button",{onClick:()=>e(`/quiz-avance/${N.id}`),title:"Tester le quiz",style:{padding:"0.5rem 0.9rem",background:"#f0fdf4",color:"#166534",border:"1px solid #bbf7d0",borderRadius:"8px",cursor:"pointer",fontWeight:600,fontSize:"0.8rem"},children:" Tester"}),i.jsx("button",{onClick:()=>e(`/admin/quiz/modifier/${N.id}`),title:"Modifier le quiz",style:{padding:"0.5rem 0.9rem",background:"#eff6ff",color:"#1d4ed8",border:"1px solid #bfdbfe",borderRadius:"8px",cursor:"pointer",fontWeight:600,fontSize:"0.8rem"},children:" Modifier"}),i.jsx("button",{onClick:()=>{const S=`${window.location.origin}/quiz-avance/${N.id}`;navigator.clipboard.writeText(S).then(()=>{alert(` Lien copi !

`+S+`

Partagez ce lien aux lves.`)})},title:"Copier le lien pour les lves",style:{padding:"0.5rem 0.9rem",background:"#fdf4ff",color:"#86198f",border:"1px solid #e9d5ff",borderRadius:"8px",cursor:"pointer",fontWeight:600,fontSize:"0.8rem"},children:" Lien"}),m===N.id?i.jsxs("div",{style:{display:"flex",gap:"0.3rem"},children:[i.jsx("button",{onClick:()=>v(N.id),style:{padding:"0.5rem 0.7rem",background:"#dc2626",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,fontSize:"0.8rem"},children:" Confirmer"}),i.jsx("button",{onClick:()=>p(null),style:{padding:"0.5rem 0.7rem",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"8px",cursor:"pointer",fontSize:"0.8rem"},children:""})]}):i.jsx("button",{onClick:()=>p(N.id),title:"Supprimer le quiz",style:{padding:"0.5rem 0.9rem",background:"#fef2f2",color:"#991b1b",border:"1px solid #fecaca",borderRadius:"8px",cursor:"pointer",fontWeight:600,fontSize:"0.8rem"},children:""})]})]})},N.id))})]})},Vq=({quiz:e,userId:t,onComplete:r,onQuit:n})=>{const l=j.useMemo(()=>{let T=[...e.questions];return e.melangerQuestions&&(T=T.sort(()=>Math.random()-.5)),T},[e]),[o,u]=j.useState(0),[f,m]=j.useState(new Map),[p,h]=j.useState(e.duree*60),[v,x]=j.useState(!1),[b,_]=j.useState(null),[N,S]=j.useState(!1),A=j.useRef(Date.now());j.useEffect(()=>{if(b)return;const T=setInterval(()=>{h(q=>q<=1?(clearInterval(T),D(),0):q-1)},1e3);return()=>clearInterval(T)},[b]);const O=T=>{const q=Math.floor(T/60),Y=T%60;return`${q.toString().padStart(2,"0")}:${Y.toString().padStart(2,"0")}`},C=l[o],E=j.useCallback((T,q)=>{m(Y=>{const X=new Map(Y),$=X.get(T)||{questionId:T,type:C.type};return X.set(T,{...$,...q}),X})},[C]),z=T=>{T>=0&&T<l.length&&u(T)},D=async()=>{S(!1),x(!0);try{const T=Array.from(f.values()),q=Math.round((Date.now()-A.current)/1e3),Y=await Lq(e,t,T,q);_(Y),r?.(Y)}catch(T){alert("Erreur lors de la soumission : "+T.message)}finally{x(!1)}},L=f.size;return b?i.jsx("div",{className:"quiz-player quiz-player--results",children:i.jsxs("div",{className:"quiz-results",children:[i.jsxs("div",{className:`quiz-results__header ${b.reussi?"quiz-results__header--success":"quiz-results__header--fail"}`,children:[i.jsx("div",{className:"quiz-results__emoji",children:b.reussi?"":""}),i.jsx("h2",{children:b.reussi?"Flicitations !":"Quiz termin"}),i.jsxs("div",{className:"quiz-results__score",children:[i.jsxs("span",{className:"quiz-results__note",children:[b.note20,"/20"]}),i.jsxs("span",{className:"quiz-results__detail",children:[b.score,"/",b.scoreMax," points"]})]}),i.jsxs("div",{className:"quiz-results__time",children:[" Temps : ",O(b.tempsEcoule)]}),b.correctionManuelle&&i.jsx("p",{className:"quiz-results__pending",children:" Ce quiz contient des questions  correction manuelle. Votre note finale pourra tre ajuste par le professeur."})]}),e.afficherCorrection&&i.jsxs("div",{className:"quiz-results__details",children:[i.jsx("h3",{children:" Dtail des rponses"}),l.map((T,q)=>{const Y=b.detailsParQuestion.find(X=>X.questionId===T.id);return i.jsxs("div",{className:`quiz-results__question ${Y?.isCorrect?"quiz-results__question--correct":Y?.isPartiel?"quiz-results__question--partial":"quiz-results__question--wrong"}`,children:[i.jsxs("div",{className:"quiz-results__q-header",children:[i.jsxs("span",{children:["Q",q+1," "," ",i.jsxs("span",{style:{color:Pd[T.type]},children:[Td[T.type]," ",Ml[T.type]]})]}),i.jsxs("span",{className:"quiz-results__q-score",children:[Y?.pointsObtenus||0,"/",Y?.pointsMax||T.points," pts",Y?.isCorrect&&" ",Y?.isPartiel&&" ",!Y?.isCorrect&&!Y?.isPartiel&&" "]})]}),i.jsx("div",{className:"quiz-results__q-enonce",dangerouslySetInnerHTML:{__html:T.enonce}}),T.explication&&i.jsxs("div",{className:"quiz-results__q-explanation",children:[i.jsx("strong",{children:" Explication :"}),i.jsx("div",{dangerouslySetInnerHTML:{__html:T.explication}})]})]},T.id)})]}),i.jsx("div",{className:"quiz-results__actions",children:i.jsx("button",{className:"quiz-player__btn quiz-player__btn--primary",onClick:n,children:"Retour au tableau de bord"})})]})}):i.jsxs("div",{className:"quiz-player",children:[i.jsxs("div",{className:"quiz-player__topbar",children:[i.jsxs("div",{className:"quiz-player__info",children:[i.jsx("span",{className:"quiz-player__title",children:e.titre}),i.jsxs("span",{className:"quiz-player__progress",children:["Question ",o+1,"/",l.length]})]}),i.jsxs("div",{className:"quiz-player__topbar-right",children:[i.jsxs("span",{className:`quiz-player__timer ${p<60?"quiz-player__timer--danger":p<300?"quiz-player__timer--warning":""}`,children:[" ",O(p)]}),i.jsxs("span",{className:"quiz-player__answered",children:[L,"/",l.length," rpondue",L>1?"s":""]})]})]}),i.jsx("div",{className:"quiz-player__progress-bar",children:i.jsx("div",{className:"quiz-player__progress-fill",style:{width:`${(o+1)/l.length*100}%`}})}),i.jsxs("div",{className:"quiz-player__question-area",children:[i.jsxs("div",{className:"quiz-player__question-meta",children:[i.jsxs("span",{className:"quiz-player__type-badge",style:{backgroundColor:Pd[C.type]},children:[Td[C.type]," ",Ml[C.type]]}),i.jsxs("span",{className:"quiz-player__points",children:[C.points," point",C.points>1?"s":""]})]}),i.jsx("div",{className:"quiz-player__enonce",dangerouslySetInnerHTML:{__html:C.enonce}}),i.jsxs("div",{className:"quiz-player__answer-area",children:[C.type==="qcm_unique"&&i.jsx(Yq,{question:C,reponse:f.get(C.id),onUpdate:T=>E(C.id,T),melangerOptions:e.melangerOptions}),C.type==="qcm_multiple"&&i.jsx(Kq,{question:C,reponse:f.get(C.id),onUpdate:T=>E(C.id,T),melangerOptions:e.melangerOptions}),C.type==="drag_drop"&&i.jsx(Xq,{question:C,reponse:f.get(C.id),onUpdate:T=>E(C.id,T)}),C.type==="mise_en_relation"&&i.jsx(Wq,{question:C,reponse:f.get(C.id),onUpdate:T=>E(C.id,T)}),C.type==="essai"&&i.jsx(Zq,{question:C,reponse:f.get(C.id),onUpdate:T=>E(C.id,T)})]})]}),i.jsxs("div",{className:"quiz-player__nav",children:[i.jsx("button",{className:"quiz-player__btn quiz-player__btn--secondary",onClick:()=>z(o-1),disabled:o===0,children:" Prcdent"}),i.jsx("div",{className:"quiz-player__pagination",children:l.map((T,q)=>i.jsx("button",{className:`quiz-player__page-dot ${q===o?"quiz-player__page-dot--current":""} ${f.has(T.id)?"quiz-player__page-dot--answered":""}`,onClick:()=>z(q),title:`Question ${q+1}`,children:q+1},T.id))}),o<l.length-1?i.jsx("button",{className:"quiz-player__btn quiz-player__btn--primary",onClick:()=>z(o+1),children:"Suivant "}):i.jsx("button",{className:"quiz-player__btn quiz-player__btn--submit",onClick:()=>S(!0),disabled:v,children:v?" Envoi...":" Soumettre le quiz"})]}),N&&i.jsx("div",{className:"quiz-player__modal-overlay",children:i.jsxs("div",{className:"quiz-player__modal",children:[i.jsx("h3",{children:"Soumettre le quiz ?"}),i.jsxs("p",{children:["Vous avez rpondu  ",i.jsx("strong",{children:L})," question",L>1?"s":""," sur"," ",i.jsx("strong",{children:l.length}),"."]}),L<l.length&&i.jsxs("p",{className:"quiz-player__modal-warning",children:[" ",l.length-L," question",l.length-L>1?"s":""," sans rponse !"]}),i.jsxs("div",{className:"quiz-player__modal-actions",children:[i.jsx("button",{className:"quiz-player__btn quiz-player__btn--secondary",onClick:()=>S(!1),children:"Continuer le quiz"}),i.jsx("button",{className:"quiz-player__btn quiz-player__btn--submit",onClick:D,children:"Confirmer la soumission"})]})]})})]})},Yq=({question:e,reponse:t,onUpdate:r,melangerOptions:n})=>{const l=e.typeData,o=j.useMemo(()=>n?[...l.options].sort(()=>Math.random()-.5):l.options,[l.options,n]);return i.jsx("div",{className:"player-qcm",children:o.map(u=>i.jsxs("label",{className:`player-qcm__option ${t?.selectedOptionId===u.id?"player-qcm__option--selected":""}`,children:[i.jsx("input",{type:"radio",name:`q_${e.id}`,checked:t?.selectedOptionId===u.id,onChange:()=>r({selectedOptionId:u.id})}),i.jsx("div",{className:"player-qcm__text",dangerouslySetInnerHTML:{__html:u.texte}})]},u.id))})},Kq=({question:e,reponse:t,onUpdate:r,melangerOptions:n})=>{const l=e.typeData,o=j.useMemo(()=>n?[...l.options].sort(()=>Math.random()-.5):l.options,[l.options,n]),u=t?.selectedOptionIds||[],f=m=>{const p=u.includes(m)?u.filter(h=>h!==m):[...u,m];r({selectedOptionIds:p})};return i.jsxs("div",{className:"player-qcm",children:[i.jsx("p",{className:"player-qcm__hint",children:"Plusieurs rponses possibles"}),o.map(m=>i.jsxs("label",{className:`player-qcm__option ${u.includes(m.id)?"player-qcm__option--selected":""}`,children:[i.jsx("input",{type:"checkbox",checked:u.includes(m.id),onChange:()=>f(m.id)}),i.jsx("div",{className:"player-qcm__text",dangerouslySetInnerHTML:{__html:m.texte}})]},m.id))]})},Xq=({question:e,reponse:t,onUpdate:r})=>{const n=e.typeData,[l,o]=j.useState(()=>t?.ordrePropose?t.ordrePropose.map(x=>n.items.find(b=>b.id===x)).filter(Boolean):[...n.items].sort(()=>Math.random()-.5)),[u,f]=j.useState(null);j.useEffect(()=>{r({ordrePropose:l.map(x=>x.id)})},[l]);const m=x=>{f(x)},p=(x,b)=>{if(x.preventDefault(),u===null||u===b)return;const _=[...l],[N]=_.splice(u,1);_.splice(b,0,N),o(_),f(b)},h=()=>{f(null)},v=(x,b)=>{const _=b==="up"?x-1:x+1;if(_<0||_>=l.length)return;const N=[...l];[N[x],N[_]]=[N[_],N[x]],o(N)};return i.jsxs("div",{className:"player-dragdrop",children:[i.jsx("p",{className:"player-dragdrop__consigne",children:n.consigneOrdre}),i.jsx("div",{className:"player-dragdrop__list",children:l.map((x,b)=>i.jsxs("div",{className:`player-dragdrop__item ${u===b?"player-dragdrop__item--dragging":""}`,draggable:!0,onDragStart:()=>m(b),onDragOver:_=>p(_,b),onDragEnd:h,children:[i.jsx("span",{className:"player-dragdrop__handle",children:""}),i.jsx("span",{className:"player-dragdrop__number",children:b+1}),i.jsx("div",{className:"player-dragdrop__text",dangerouslySetInnerHTML:{__html:x.texte}}),i.jsxs("div",{className:"player-dragdrop__mobile-btns",children:[i.jsx("button",{type:"button",onClick:()=>v(b,"up"),disabled:b===0,children:""}),i.jsx("button",{type:"button",onClick:()=>v(b,"down"),disabled:b===l.length-1,children:""})]})]},x.id))})]})},Wq=({question:e,reponse:t,onUpdate:r})=>{const n=e.typeData,l=j.useMemo(()=>[...n.paires].sort(()=>Math.random()-.5),[n.paires]),[o,u]=j.useState(t?.relationsProposees||{}),[f,m]=j.useState(null);j.useEffect(()=>{r({relationsProposees:o})},[o]);const p=b=>{m(b)},h=b=>{f&&(u(_=>({..._,[f]:b})),m(null))},v=b=>{u(_=>{const N={..._};return delete N[b],N})},x=new Set(Object.values(o));return i.jsxs("div",{className:"player-relation",children:[i.jsx("p",{className:"player-relation__hint",children:"Cliquez sur un lment  gauche puis sur son correspondant  droite"}),i.jsxs("div",{className:"player-relation__columns",children:[i.jsxs("div",{className:"player-relation__col",children:[i.jsx("h4",{className:"player-relation__col-title",children:"Colonne A"}),n.paires.map(b=>i.jsxs("div",{className:`player-relation__item player-relation__item--left ${f===b.id?"player-relation__item--selected":""} ${o[b.id]?"player-relation__item--matched":""}`,onClick:()=>{o[b.id]?v(b.id):p(b.id)},children:[i.jsx("div",{dangerouslySetInnerHTML:{__html:b.gauche}}),o[b.id]&&i.jsx("span",{className:"player-relation__linked",children:""})]},b.id))]}),i.jsxs("div",{className:"player-relation__col",children:[i.jsx("h4",{className:"player-relation__col-title",children:"Colonne B"}),l.map(b=>i.jsxs("div",{className:`player-relation__item player-relation__item--right ${x.has(b.id)?"player-relation__item--matched":""} ${f&&!x.has(b.id)?"player-relation__item--clickable":""}`,onClick:()=>{f&&!x.has(b.id)&&h(b.id)},children:[i.jsx("div",{dangerouslySetInnerHTML:{__html:b.droite}}),x.has(b.id)&&i.jsx("span",{className:"player-relation__linked",children:""})]},b.id))]})]})]})},Zq=({question:e,reponse:t,onUpdate:r})=>{const n=e.typeData,[l,o]=j.useState(t?.texteReponse||""),u=l.replace(/<[^>]*>/g,"").trim().split(/\s+/).filter(Boolean).length;return j.useEffect(()=>{r({texteReponse:l})},[l]),i.jsxs("div",{className:"player-essai",children:[i.jsxs("div",{className:"player-essai__info",children:[n.nombreMotsMin&&i.jsxs("span",{className:u<n.nombreMotsMin?"player-essai__warning":"",children:["Minimum : ",n.nombreMotsMin," mots"]}),n.nombreMotsMax&&i.jsxs("span",{className:u>n.nombreMotsMax?"player-essai__warning":"",children:["Maximum : ",n.nombreMotsMax," mots"]}),i.jsxs("span",{className:"player-essai__count",children:[u," mot",u>1?"s":""]})]}),i.jsx("textarea",{className:"player-essai__textarea",value:l,onChange:f=>o(f.target.value),placeholder:"Rdigez votre rponse ici...",rows:10})]})},Jq=()=>{const{quizId:e}=Tf(),t=Zr(),{currentUser:r}=Ht(),[n,l]=j.useState(null),[o,u]=j.useState(!0),[f,m]=j.useState(null);return j.useEffect(()=>{(async()=>{if(!e){m("ID du quiz manquant"),u(!1);return}try{const h=await o2(e);if(!h){m("Quiz introuvable");return}if(h.isPremium&&!r?.isPremium){m("Ce quiz est rserv aux abonns Premium");return}l(h)}catch(h){console.error("Erreur chargement quiz:",h),m(h.message||"Impossible de charger le quiz")}finally{u(!1)}})()},[e,r]),o?i.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[i.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),i.jsx("p",{children:"Chargement du quiz..."})]}):f?i.jsx("div",{style:{textAlign:"center",padding:"3rem",maxWidth:"500px",margin:"2rem auto"},children:i.jsxs("div",{style:{padding:"2rem",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"12px"},children:[i.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),i.jsx("p",{style:{color:"#991b1b",fontWeight:600,marginBottom:"1rem"},children:f}),f.includes("Premium")&&i.jsx("button",{onClick:()=>t("/premium"),style:{padding:"0.6rem 1.5rem",background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",marginRight:"0.5rem",fontWeight:600},children:" Devenir Premium"}),i.jsx("button",{onClick:()=>t(-1),style:{padding:"0.6rem 1.5rem",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:" Retour"})]})}):n?i.jsx(Vq,{quiz:n,userId:r?.uid||"",onComplete:p=>{console.log(" Quiz termin  Note:",p.note20,"/20")},onQuit:()=>t("/dashboard")}):i.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[i.jsx("p",{children:"Quiz introuvable"}),i.jsx("button",{onClick:()=>t(-1),children:" Retour"})]})},c2=Te(he,"quiz_results"),Vy=Te(he,"progressions"),e3=async e=>{try{const t=await Lr(c2,{...e,datePassage:Mt.now()});return e.reussi&&await s3(e.userId,e.disciplineId,e.disciplineNom,e.quizId),t.id}catch(t){throw console.error("Erreur lors de la sauvegarde du rsultat :",t),t}},kf=async(e,t)=>{try{let r=Ke(c2,Be("userId","==",e),Pt("datePassage","desc"));return t&&(r=Ke(r,Wn(t))),(await $e(r)).docs.map(l=>({id:l.id,...l.data()}))}catch(r){throw console.error("Erreur rcupration historique :",r),r}},t3=async e=>{try{const t=await kf(e);if(t.length===0)return{totalQuizPasses:0,totalQuizReussis:0,moyenneGenerale:0,tempsTotal:0,meilleurScore:0,serieReussites:0,meilleureSerieReussites:0};const r=t.reduce((h,v)=>h+v.pourcentage,0),n=Math.round(r/t.length),l=Math.max(...t.map(h=>h.pourcentage)),o=t.reduce((h,v)=>h+(v.tempsEcoule||0),0),u=t.filter(h=>h.reussi).length;let f=0,m=0;for(const h of t)h.reussi?(f++,m=Math.max(m,f)):f=0;let p=0;for(const h of t)if(h.reussi)p++;else break;return{totalQuizPasses:t.length,totalQuizReussis:u,moyenneGenerale:n,tempsTotal:o,meilleurScore:l,serieReussites:p,meilleureSerieReussites:Math.max(m,p)}}catch(t){return console.error("Erreur calcul stats :",t),{totalQuizPasses:0,totalQuizReussis:0,moyenneGenerale:0,tempsTotal:0,meilleurScore:0,serieReussites:0,meilleureSerieReussites:0}}},r3=async e=>{try{const t=await kf(e);if(t.length===0)return[];const r={};for(const n of t){const l=n.disciplineId;r[l]||(r[l]=[]),r[l].push(n)}return Object.entries(r).map(([n,l])=>{const o=Math.round(l.reduce((v,x)=>v+x.pourcentage,0)/l.length),u=Math.max(...l.map(v=>v.pourcentage)),f=l[0].pourcentage,m=l.filter(v=>v.reussi).length,p=l.reduce((v,x)=>v+(x.tempsEcoule||0),0);let h="stable";if(l.length>=4){const v=l.slice(0,3),x=l.slice(3,6),b=v.reduce((N,S)=>N+S.pourcentage,0)/v.length,_=x.reduce((N,S)=>N+S.pourcentage,0)/x.length;b-_>5?h="up":_-b>5&&(h="down")}return{disciplineId:n,disciplineNom:l[0].disciplineNom||n,nombreQuiz:l.length,moyenne:o,meilleurScore:u,dernierScore:f,quizReussis:m,tempsTotal:p,tendance:h}})}catch(t){return console.error("Erreur progression par discipline :",t),[]}},n3=async(e,t)=>{try{return(await kf(e,t||20)).reverse().map(n=>({date:(n.datePassage?.toDate?n.datePassage.toDate():new Date(n.datePassage)).toLocaleDateString("fr-SN",{day:"2-digit",month:"2-digit"}),score:n.pourcentage,discipline:n.disciplineNom||n.disciplineId}))}catch(r){return console.error("Erreur donnes temporelles :",r),[]}},a3=async(e,t,r)=>{const n=`${e}_${t}`,l=De(Vy,n),o=await yr(l);if(o.exists())return{...o.data()};const[u,f]=await Promise.all([F_("ressources",t),F_("quizzes",t)]),m={userId:e,disciplineId:t,disciplineNom:r,ressourcesVues:[],quizReussis:[],totalRessources:u,totalQuiz:f,pourcentage:0,dernierAcces:Mt.now(),createdAt:Mt.now(),updatedAt:Mt.now()};return await Pf(l,m),m},F_=async(e,t)=>{try{const r=Ke(Te(he,e),Be("disciplineId","==",t));return(await $e(r)).size}catch{return 0}},i3=e=>{if(e.totalRessources+e.totalQuiz===0)return 0;const r=e.totalRessources>0?e.ressourcesVues.length/e.totalRessources*40:0,n=e.totalQuiz>0?e.quizReussis.length/e.totalQuiz*60:0;return e.totalRessources===0?Math.min(100,Math.round(e.quizReussis.length/e.totalQuiz*100)):e.totalQuiz===0?Math.min(100,Math.round(e.ressourcesVues.length/e.totalRessources*100)):Math.min(100,Math.round(r+n))},s3=async(e,t,r,n)=>{try{const l=`${e}_${t}`,o=De(Vy,l),u=await a3(e,t,r);if(u.quizReussis.includes(n))return await _t(o,{dernierAcces:Mt.now()}),u;const f=[...u.quizReussis,n],m={...u,quizReussis:f,dernierAcces:Mt.now(),updatedAt:Mt.now(),pourcentage:0};return m.pourcentage=i3(m),await Pf(o,m),m}catch(l){throw console.error("Erreur enregistrement quiz russi :",l),l}},l3=async e=>{try{const t=Ke(Vy,Be("userId","==",e));return(await $e(t)).docs.map(n=>n.data())}catch(t){return console.error("Erreur rcupration progressions :",t),[]}},o3=async e=>{try{const t=await l3(e),r=await u2(e),n=t.reduce((f,m)=>f+m.ressourcesVues.length,0),l=t.reduce((f,m)=>f+m.quizReussis.length,0),o=t.length>0?Math.round(t.reduce((f,m)=>f+m.pourcentage,0)/t.length):0,u=t.filter(f=>f.pourcentage>=100).length;return{totalRessourcesVues:n,totalQuizReussis:l,pourcentageMoyen:o,disciplinesCommencees:t.length,disciplinesCompletees:u,streakActuel:r.streakActuel,meilleurStreak:r.meilleurStreak,parDiscipline:t}}catch(t){return console.error("Erreur progression globale :",t),{totalRessourcesVues:0,totalQuizReussis:0,pourcentageMoyen:0,disciplinesCommencees:0,disciplinesCompletees:0,streakActuel:0,meilleurStreak:0,parDiscipline:[]}}},c3=()=>new Date().toISOString().split("T")[0],u3=()=>{const e=new Date;return e.setDate(e.getDate()-1),e.toISOString().split("T")[0]},u2=async e=>{try{const t=De(he,"users",e),r=await yr(t);if(!r.exists())return{streakActuel:0,meilleurStreak:0,dernierJourAcces:""};const n=r.data();return{streakActuel:n.streakActuel||0,meilleurStreak:n.meilleurStreak||0,dernierJourAcces:n.dernierJourAcces||""}}catch(t){return console.error("Erreur rcupration streak :",t),{streakActuel:0,meilleurStreak:0,dernierJourAcces:""}}},d3=async e=>{try{const t=De(he,"users",e),r=await u2(e),n=c3();if(r.dernierJourAcces===n)return r;const l=u3();let o;r.dernierJourAcces===l?o=r.streakActuel+1:o=1;const u=Math.max(r.meilleurStreak,o);return await _t(t,{streakActuel:o,meilleurStreak:u,dernierJourAcces:n}),{streakActuel:o,meilleurStreak:u,dernierJourAcces:n}}catch(t){return console.error("Erreur mise  jour streak :",t),{streakActuel:0,meilleurStreak:0,dernierJourAcces:""}}},f3=(e,t,r)=>{const n=r?.totalRessourcesVues||0;r?.totalQuizReussis;const l=r?.disciplinesCompletees||0;r?.streakActuel;const o=r?.meilleurStreak||0,u=r?.disciplinesCommencees||0;return[{id:"premier_pas",nom:"Premier pas ",description:"Consulter votre premire ressource",icone:"",condition:"1 ressource consulte",categorie:"ressources",obtenu:n>=1},{id:"lecteur_assidu",nom:"Lecteur assidu ",description:"Consulter 10 ressources",icone:"",condition:"10 ressources consultes",categorie:"ressources",obtenu:n>=10},{id:"bibliophile",nom:"Bibliophile ",description:"Consulter 25 ressources",icone:"",condition:"25 ressources consultes",categorie:"ressources",obtenu:n>=25},{id:"savant",nom:"Savant ",description:"Consulter 50 ressources",icone:"",condition:"50 ressources consultes",categorie:"ressources",obtenu:n>=50},{id:"premier_quiz",nom:"Apprenti ",description:"Passer votre premier quiz",icone:"",condition:"1 quiz pass",categorie:"quiz",obtenu:e.totalQuizPasses>=1},{id:"challenger",nom:"Challenger ",description:"Russir 5 quiz",icone:"",condition:"5 quiz russis",categorie:"quiz",obtenu:e.totalQuizReussis>=5},{id:"dix_quiz",nom:"Dcathlon ",description:"Passer 10 quiz",icone:"",condition:"10 quiz passs",categorie:"quiz",obtenu:e.totalQuizPasses>=10},{id:"cinquante_quiz",nom:"Marathonien ",description:"Passer 50 quiz",icone:"",condition:"50 quiz passs",categorie:"quiz",obtenu:e.totalQuizPasses>=50},{id:"score_parfait",nom:"Score parfait ",description:"Obtenir 100%  un quiz",icone:"",condition:"100%  un quiz",categorie:"performance",obtenu:e.meilleurScore>=100},{id:"moyenne_80",nom:"Excellent ",description:"Moyenne gnrale de 80%+",icone:"",condition:"Moyenne  80% (min. 5 quiz)",categorie:"performance",obtenu:e.moyenneGenerale>=80&&e.totalQuizPasses>=5},{id:"serie_5",nom:"Imbattable ",description:"5 quiz russis d'affile",icone:"",condition:"Srie de 5 russites",categorie:"performance",obtenu:e.meilleureSerieReussites>=5},{id:"serie_10",nom:"Lgende ",description:"10 quiz russis d'affile",icone:"",condition:"Srie de 10 russites",categorie:"performance",obtenu:e.meilleureSerieReussites>=10},{id:"maitre",nom:"Matre ",description:"Complter 100% d'une discipline",icone:"",condition:"1 discipline  100%",categorie:"discipline",obtenu:l>=1},{id:"explorateur_teranga",nom:"Explorateur Teranga ",description:"Commencer 3 disciplines diffrentes",icone:"",condition:"3 disciplines commences",categorie:"discipline",obtenu:u>=3||t.length>=3},{id:"touche_a_tout",nom:"Touche--tout ",description:"Commencer 5 disciplines diffrentes",icone:"",condition:"5 disciplines commences",categorie:"discipline",obtenu:u>=5||t.length>=5},{id:"en_feu_3",nom:"Rgulier ",description:"3 jours de connexion conscutifs",icone:"",condition:"3 jours conscutifs",categorie:"streak",obtenu:o>=3},{id:"en_feu_7",nom:"En feu ",description:"7 jours de connexion conscutifs",icone:"",condition:"7 jours conscutifs",categorie:"streak",obtenu:o>=7},{id:"en_feu_30",nom:"Infatigable ",description:"30 jours de connexion conscutifs",icone:"",condition:"30 jours conscutifs",categorie:"streak",obtenu:o>=30},{id:"diamant",nom:"Diamant ",description:"50 ressources + 20 quiz russis",icone:"",condition:"50 ressources + 20 quiz",categorie:"performance",obtenu:n>=50&&e.totalQuizReussis>=20}]},d2=e=>{if(e<60)return`${e} s`;const t=Math.floor(e/60),r=e%60;return r>0?`${t} min ${r.toString().padStart(2,"0")} s`:`${t} min`},Nl=e=>e>=80?"#10b981":e>=60?"#3b82f6":e>=40?"#f59e0b":"#ef4444",f2=e=>e>=80?"Excellent":e>=60?"Bien":e>=40?"Passable":" amliorer",m3=()=>{const{quizId:e}=Tf(),t=Zr(),{currentUser:r}=Ht(),[n,l]=j.useState(null),[o,u]=j.useState(""),[f,m]=j.useState(!0),[p,h]=j.useState(null),[v,x]=j.useState("intro"),[b,_]=j.useState(0),[N,S]=j.useState({}),[A,O]=j.useState(0),[C,E]=j.useState(0),z=j.useRef(null),[D,L]=j.useState(0),[T,q]=j.useState(0),[Y,X]=j.useState(0),[$,oe]=j.useState(!1),[ue,V]=j.useState(!1);j.useEffect(()=>{(async()=>{if(!e){h("ID du quiz manquant."),m(!1);return}try{const U=await fq(e);if(!U){h("Quiz introuvable."),m(!1);return}l(U),O(U.duree*60);try{const we=(await zi.getAll()).find(re=>re.id===U.disciplineId);u(we?.nom||U.disciplineId)}catch{u(U.disciplineId)}}catch(U){h("Erreur lors du chargement du quiz."),console.error(U)}finally{m(!1)}})()},[e]),j.useEffect(()=>{if(v==="playing")return z.current=setInterval(()=>{O(fe=>fe<=1?(clearInterval(z.current),me(),0):fe-1),E(fe=>fe+1)},1e3),()=>{z.current&&clearInterval(z.current)}},[v]);const k=()=>{x("playing"),_(0),S({}),E(0),n&&O(n.duree*60)},J=(fe,U)=>{S(le=>({...le,[fe]:U}))},G=fe=>{n&&fe>=0&&fe<n.questions.length&&_(fe)},me=j.useCallback(async()=>{if(!n||!r||v==="review")return;z.current&&clearInterval(z.current);let fe=0,U=0,le=0;n.questions.forEach(Q=>{const R=Q.points||1;U+=R,N[Q.id]===Q.reponseCorrecte&&(fe+=R,le++)});const we=U>0?Math.round(fe/U*100):0,re=we>=(n.noteMinimale||50);L(fe),q(U),X(le),x("review"),oe(!0);try{const Q={quizId:n.id,quizTitre:n.titre,disciplineId:n.disciplineId,disciplineNom:o,userId:r.uid,reponses:n.questions.map(R=>N[R.id]??-1),tempsEcoule:C,score:fe,totalPoints:U,pourcentage:we,reussi:re,nombreQuestions:n.questions.length,bonnesReponses:le};await e3(Q),V(!0)}catch(Q){console.error("Erreur lors de la sauvegarde :",Q)}finally{oe(!1)}},[n,r,N,C,o,v]),I=fe=>{const U=Math.floor(fe/60),le=fe%60;return`${U.toString().padStart(2,"0")}:${le.toString().padStart(2,"0")}`},ve=()=>{if(!n)return"";const fe=n.duree*60,U=A/fe;return U<=.1?"timer-critical":U<=.25?"timer-warning":""},xe=Object.keys(N).length;if(f)return i.jsxs("div",{className:"quiz-player-loading",children:[i.jsx("div",{className:"admin-spinner"}),i.jsx("p",{children:"Chargement du quiz..."})]});if(p||!n)return i.jsxs("div",{className:"quiz-player-error",children:[i.jsx(Dd,{size:48}),i.jsx("h3",{children:p||"Quiz introuvable"}),i.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>t("/eleve/dashboard"),children:[i.jsx(Rg,{size:18})," Retour au tableau de bord"]})]});if(n.isPremium&&!r?.isPremium)return i.jsx("div",{className:"quiz-player-locked",children:i.jsxs("div",{className:"qp-locked-card",children:[i.jsx(Ig,{size:48}),i.jsx("h3",{children:"Quiz Premium"}),i.jsx("p",{children:"Ce quiz est rserv aux abonns Premium."}),i.jsxs("p",{className:"qp-locked-price",children:[" partir de ",i.jsx("strong",{children:"2 000 FCFA/mois"})]}),i.jsxs("div",{className:"qp-locked-actions",children:[i.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>t("/premium"),children:[i.jsx(Yr,{size:18})," Devenir Premium"]}),i.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:()=>t("/eleve/dashboard"),children:[i.jsx(Gh,{size:18})," Retour"]})]})]})});if(v==="intro")return i.jsx("div",{className:"quiz-player-intro",children:i.jsxs("div",{className:"qp-intro-card",children:[i.jsxs("div",{className:"qp-intro-header",children:[i.jsxs("button",{className:"qp-back-btn",onClick:()=>t(-1),children:[i.jsx(Gh,{size:20})," Retour"]}),n.isPremium&&i.jsxs("span",{className:"qp-badge qp-badge-premium",children:[i.jsx(Yr,{size:12})," Premium"]})]}),i.jsxs("div",{className:"qp-intro-content",children:[i.jsx("h1",{className:"qp-intro-title",children:n.titre}),i.jsx("span",{className:"qp-intro-discipline",children:o}),i.jsxs("div",{className:"qp-intro-stats",children:[i.jsxs("div",{className:"qp-intro-stat",children:[i.jsx(Mn,{size:20}),i.jsxs("div",{children:[i.jsx("span",{className:"qp-intro-stat-value",children:n.questions.length}),i.jsx("span",{className:"qp-intro-stat-label",children:"Questions"})]})]}),i.jsxs("div",{className:"qp-intro-stat",children:[i.jsx(zl,{size:20}),i.jsxs("div",{children:[i.jsxs("span",{className:"qp-intro-stat-value",children:[n.duree," min"]}),i.jsx("span",{className:"qp-intro-stat-label",children:"Dure"})]})]}),i.jsxs("div",{className:"qp-intro-stat",children:[i.jsx(Ci,{size:20}),i.jsxs("div",{children:[i.jsxs("span",{className:"qp-intro-stat-value",children:[n.noteMinimale||50,"%"]}),i.jsx("span",{className:"qp-intro-stat-label",children:"Note min."})]})]})]}),i.jsxs("div",{className:"qp-intro-instructions",children:[i.jsx("h3",{children:"Instructions"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Rpondez  toutes les questions dans le temps imparti"}),i.jsx("li",{children:"Chaque question a une seule bonne rponse"}),i.jsx("li",{children:"Vous pouvez naviguer entre les questions"}),i.jsx("li",{children:"Le quiz est soumis automatiquement quand le temps est coul"}),i.jsxs("li",{children:["Il faut obtenir au moins ",n.noteMinimale||50,"% pour russir"]})]})]})]}),i.jsxs("button",{className:"qp-btn qp-btn-start",onClick:k,children:[i.jsx(ac,{size:20})," Commencer le quiz"]})]})});if(v==="playing"){const fe=n.questions[b];return i.jsxs("div",{className:"quiz-player-game",children:[i.jsxs("div",{className:"qp-game-header",children:[i.jsxs("div",{className:"qp-game-info",children:[i.jsx("span",{className:"qp-game-title",children:n.titre}),i.jsx("span",{className:"qp-game-discipline",children:o})]}),i.jsxs("div",{className:`qp-timer ${ve()}`,children:[i.jsx(zk,{size:18}),i.jsx("span",{children:I(A)})]})]}),i.jsx("div",{className:"qp-progress-bar",children:i.jsx("div",{className:"qp-progress-fill",style:{width:`${(b+1)/n.questions.length*100}%`}})}),i.jsxs("div",{className:"qp-game-content",children:[i.jsxs("div",{className:"qp-question-header",children:[i.jsxs("span",{className:"qp-question-number",children:["Question ",b+1,"/",n.questions.length]}),i.jsxs("span",{className:"qp-question-points",children:[fe.points||1," pt(s)"]})]}),i.jsx("h2",{className:"qp-question-text",children:fe.question}),i.jsx("div",{className:"qp-options-list",children:fe.options.map((U,le)=>i.jsxs("button",{className:`qp-option ${N[fe.id]===le?"selected":""}`,onClick:()=>J(fe.id,le),children:[i.jsx("span",{className:"qp-option-letter",children:String.fromCharCode(65+le)}),i.jsx("span",{className:"qp-option-text",children:U}),N[fe.id]===le&&i.jsx(Et,{size:18,className:"qp-option-check"})]},le))})]}),i.jsxs("div",{className:"qp-game-footer",children:[i.jsx("div",{className:"qp-question-indicators",children:n.questions.map((U,le)=>i.jsx("button",{className:`qp-indicator ${le===b?"active":""} ${N[U.id]!==void 0?"answered":""}`,onClick:()=>G(le),children:le+1},U.id))}),i.jsxs("div",{className:"qp-nav-buttons",children:[i.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:()=>G(b-1),disabled:b===0,children:[i.jsx(Gh,{size:16})," Prcdent"]}),b<n.questions.length-1?i.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>G(b+1),children:["Suivant ",i.jsx(es,{size:16})]}):i.jsxs("button",{className:"qp-btn qp-btn-submit",onClick:me,disabled:xe<n.questions.length,children:[i.jsx(Et,{size:16}),"Soumettre (",xe,"/",n.questions.length,")"]})]})]})]})}const pe=T>0?Math.round(D/T*100):0,ye=pe>=(n.noteMinimale||50);return i.jsxs("div",{className:"quiz-player-review",children:[i.jsxs("div",{className:`qp-score-card ${ye?"success":"fail"}`,children:[i.jsx("div",{className:"qp-score-icon",children:ye?i.jsx(Ci,{size:48}):i.jsx(Dd,{size:48})}),i.jsx("h2",{className:"qp-score-title",children:ye?"Flicitations ! ":"Continuez vos efforts ! "}),i.jsxs("div",{className:"qp-score-circle",style:{borderColor:Nl(pe)},children:[i.jsxs("span",{className:"qp-score-value",children:[pe,"%"]}),i.jsx("span",{className:"qp-score-label",children:f2(pe)})]}),i.jsxs("div",{className:"qp-score-details",children:[i.jsxs("div",{className:"qp-score-detail",children:[i.jsxs("span",{children:[Y,"/",n.questions.length]}),i.jsx("small",{children:"Bonnes rponses"})]}),i.jsxs("div",{className:"qp-score-detail",children:[i.jsxs("span",{children:[D,"/",T]}),i.jsx("small",{children:"Points"})]}),i.jsxs("div",{className:"qp-score-detail",children:[i.jsx("span",{children:d2(C)}),i.jsx("small",{children:"Temps"})]})]}),$&&i.jsx("p",{className:"qp-saving",children:"Sauvegarde en cours..."}),ue&&i.jsx("p",{className:"qp-saved",children:" Rsultat sauvegard"})]}),i.jsxs("div",{className:"qp-review-actions",children:[i.jsxs("button",{className:"qp-btn qp-btn-primary",onClick:()=>t("/eleve/dashboard"),children:[i.jsx(Rg,{size:18})," Tableau de bord"]}),i.jsxs("button",{className:"qp-btn qp-btn-outline",onClick:k,children:[i.jsx(Mk,{size:18})," Recommencer"]})]}),i.jsxs("div",{className:"qp-review-questions",children:[i.jsx("h3",{className:"qp-review-title",children:"Correction dtaille"}),n.questions.map((fe,U)=>{const le=N[fe.id],we=le===fe.reponseCorrecte;return i.jsxs("div",{className:`qp-review-question ${we?"correct":"incorrect"}`,children:[i.jsxs("div",{className:"qp-review-question-header",children:[i.jsxs("span",{className:"qp-review-q-number",children:["Q",U+1]}),we?i.jsxs("span",{className:"qp-review-badge correct",children:[i.jsx(Et,{size:14})," Correct"]}):i.jsxs("span",{className:"qp-review-badge incorrect",children:[i.jsx(Bg,{size:14})," Incorrect"]}),i.jsxs("span",{className:"qp-review-q-points",children:[we?fe.points||1:0,"/",fe.points||1," pt(s)"]})]}),i.jsx("p",{className:"qp-review-q-text",children:fe.question}),i.jsx("div",{className:"qp-review-options",children:fe.options.map((re,Q)=>{let R="qp-review-option";return Q===fe.reponseCorrecte&&(R+=" correct-answer"),Q===le&&!we&&(R+=" wrong-answer"),i.jsxs("div",{className:R,children:[i.jsx("span",{className:"qp-review-option-letter",children:String.fromCharCode(65+Q)}),i.jsx("span",{children:re}),Q===fe.reponseCorrecte&&i.jsx(Et,{size:14,className:"qp-review-check"}),Q===le&&!we&&i.jsx(Bg,{size:14,className:"qp-review-x"})]},Q)})}),fe.explication&&i.jsxs("div",{className:"qp-review-explication",children:[i.jsx("strong",{children:" Explication :"})," ",fe.explication]})]},fe.id)})]})]})};function m2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(r=m2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ot(){for(var e,t,r=0,n="",l=arguments.length;r<l;r++)(e=arguments[r])&&(t=m2(e))&&(n&&(n+=" "),n+=t);return n}var p3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Yy(e){if(typeof e!="string")return!1;var t=p3;return t.includes(e)}var h3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],v3=new Set(h3);function p2(e){return typeof e!="string"?!1:v3.has(e)}function h2(e){return typeof e=="string"&&e.startsWith("data-")}function Tn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(p2(r)||h2(r))&&(t[r]=e[r]);return t}function Sc(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Tn(t)}return typeof e=="object"&&!Array.isArray(e)?Tn(e):null}function Sr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(p2(r)||h2(r)||Yy(r))&&(t[r]=e[r]);return t}function g3(e){return e==null?null:j.isValidElement(e)?Sr(e.props):typeof e=="object"&&!Array.isArray(e)?Sr(e):null}var y3=["children","width","height","viewBox","className","style","title","desc"];function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$g.apply(null,arguments)}function x3(e,t){if(e==null)return{};var r,n,l=b3(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function b3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var v2=j.forwardRef((e,t)=>{var{children:r,width:n,height:l,viewBox:o,className:u,style:f,title:m,desc:p}=e,h=x3(e,y3),v=o||{width:n,height:l,x:0,y:0},x=ot("recharts-surface",u);return j.createElement("svg",$g({},Sr(h),{className:x,width:n,height:l,style:f,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:t}),j.createElement("title",null,m),j.createElement("desc",null,p),r)}),j3=["children","className"];function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ug.apply(null,arguments)}function N3(e,t){if(e==null)return{};var r,n,l=_3(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function _3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vn=j.forwardRef((e,t)=>{var{children:r,className:n}=e,l=N3(e,j3),o=ot("recharts-layer",n);return j.createElement("g",Ug({className:o},Sr(l),{ref:t}),r)}),S3=j.createContext(null);function mt(e){return function(){return e}}const g2=Math.cos,kd=Math.sin,qn=Math.sqrt,qd=Math.PI,qf=2*qd,Hg=Math.PI,Gg=2*Hg,ts=1e-6,w3=Gg-ts;function y2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function A3(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return y2;const r=10**t;return function(n){this._+=n[0];for(let l=1,o=n.length;l<o;++l)this._+=Math.round(arguments[l]*r)/r+n[l]}}class C3{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?y2:A3(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,l){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+l}`}bezierCurveTo(t,r,n,l,o,u){this._append`C${+t},${+r},${+n},${+l},${this._x1=+o},${this._y1=+u}`}arcTo(t,r,n,l,o){if(t=+t,r=+r,n=+n,l=+l,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,f=this._y1,m=n-t,p=l-r,h=u-t,v=f-r,x=h*h+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>ts)if(!(Math.abs(v*m-p*h)>ts)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-u,_=l-f,N=m*m+p*p,S=b*b+_*_,A=Math.sqrt(N),O=Math.sqrt(x),C=o*Math.tan((Hg-Math.acos((N+x-S)/(2*A*O)))/2),E=C/O,z=C/A;Math.abs(E-1)>ts&&this._append`L${t+E*h},${r+E*v}`,this._append`A${o},${o},0,0,${+(v*b>h*_)},${this._x1=t+z*m},${this._y1=r+z*p}`}}arc(t,r,n,l,o,u){if(t=+t,r=+r,n=+n,u=!!u,n<0)throw new Error(`negative radius: ${n}`);let f=n*Math.cos(l),m=n*Math.sin(l),p=t+f,h=r+m,v=1^u,x=u?l-o:o-l;this._x1===null?this._append`M${p},${h}`:(Math.abs(this._x1-p)>ts||Math.abs(this._y1-h)>ts)&&this._append`L${p},${h}`,n&&(x<0&&(x=x%Gg+Gg),x>w3?this._append`A${n},${n},0,1,${v},${t-f},${r-m}A${n},${n},0,1,${v},${this._x1=p},${this._y1=h}`:x>ts&&this._append`A${n},${n},0,${+(x>=Hg)},${v},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,l){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+l}h${-n}Z`}toString(){return this._}}function Ky(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new C3(t)}function Xy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function x2(e){this._context=e}x2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Rf(e){return new x2(e)}function b2(e){return e[0]}function j2(e){return e[1]}function N2(e,t){var r=mt(!0),n=null,l=Rf,o=null,u=Ky(f);e=typeof e=="function"?e:e===void 0?b2:mt(e),t=typeof t=="function"?t:t===void 0?j2:mt(t);function f(m){var p,h=(m=Xy(m)).length,v,x=!1,b;for(n==null&&(o=l(b=u())),p=0;p<=h;++p)!(p<h&&r(v=m[p],p,m))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+e(v,p,m),+t(v,p,m));if(b)return o=null,b+""||null}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:mt(+m),f):e},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:mt(+m),f):t},f.defined=function(m){return arguments.length?(r=typeof m=="function"?m:mt(!!m),f):r},f.curve=function(m){return arguments.length?(l=m,n!=null&&(o=l(n)),f):l},f.context=function(m){return arguments.length?(m==null?n=o=null:o=l(n=m),f):n},f}function ad(e,t,r){var n=null,l=mt(!0),o=null,u=Rf,f=null,m=Ky(p);e=typeof e=="function"?e:e===void 0?b2:mt(+e),t=typeof t=="function"?t:mt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?j2:mt(+r);function p(v){var x,b,_,N=(v=Xy(v)).length,S,A=!1,O,C=new Array(N),E=new Array(N);for(o==null&&(f=u(O=m())),x=0;x<=N;++x){if(!(x<N&&l(S=v[x],x,v))===A)if(A=!A)b=x,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),_=x-1;_>=b;--_)f.point(C[_],E[_]);f.lineEnd(),f.areaEnd()}A&&(C[x]=+e(S,x,v),E[x]=+t(S,x,v),f.point(n?+n(S,x,v):C[x],r?+r(S,x,v):E[x]))}if(O)return f=null,O+""||null}function h(){return N2().defined(l).curve(u).context(o)}return p.x=function(v){return arguments.length?(e=typeof v=="function"?v:mt(+v),n=null,p):e},p.x0=function(v){return arguments.length?(e=typeof v=="function"?v:mt(+v),p):e},p.x1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:mt(+v),p):n},p.y=function(v){return arguments.length?(t=typeof v=="function"?v:mt(+v),r=null,p):t},p.y0=function(v){return arguments.length?(t=typeof v=="function"?v:mt(+v),p):t},p.y1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:mt(+v),p):r},p.lineX0=p.lineY0=function(){return h().x(e).y(t)},p.lineY1=function(){return h().x(e).y(r)},p.lineX1=function(){return h().x(n).y(t)},p.defined=function(v){return arguments.length?(l=typeof v=="function"?v:mt(!!v),p):l},p.curve=function(v){return arguments.length?(u=v,o!=null&&(f=u(o)),p):u},p.context=function(v){return arguments.length?(v==null?o=f=null:f=u(o=v),p):o},p}class _2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function E3(e){return new _2(e,!0)}function O3(e){return new _2(e,!1)}const Wy={draw(e,t){const r=qn(t/qd);e.moveTo(r,0),e.arc(0,0,r,0,qf)}},z3={draw(e,t){const r=qn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},S2=qn(1/3),M3=S2*2,D3={draw(e,t){const r=qn(t/M3),n=r*S2;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},T3={draw(e,t){const r=qn(t),n=-r/2;e.rect(n,n,r,r)}},P3=.8908130915292852,w2=kd(qd/10)/kd(7*qd/10),k3=kd(qf/10)*w2,q3=-g2(qf/10)*w2,R3={draw(e,t){const r=qn(t*P3),n=k3*r,l=q3*r;e.moveTo(0,-r),e.lineTo(n,l);for(let o=1;o<5;++o){const u=qf*o/5,f=g2(u),m=kd(u);e.lineTo(m*r,-f*r),e.lineTo(f*n-m*l,m*n+f*l)}e.closePath()}},tv=qn(3),L3={draw(e,t){const r=-qn(t/(tv*3));e.moveTo(0,r*2),e.lineTo(-tv*r,-r),e.lineTo(tv*r,-r),e.closePath()}},fn=-.5,mn=qn(3)/2,Qg=1/qn(12),I3=(Qg/2+1)*3,B3={draw(e,t){const r=qn(t/I3),n=r/2,l=r*Qg,o=n,u=r*Qg+r,f=-o,m=u;e.moveTo(n,l),e.lineTo(o,u),e.lineTo(f,m),e.lineTo(fn*n-mn*l,mn*n+fn*l),e.lineTo(fn*o-mn*u,mn*o+fn*u),e.lineTo(fn*f-mn*m,mn*f+fn*m),e.lineTo(fn*n+mn*l,fn*l-mn*n),e.lineTo(fn*o+mn*u,fn*u-mn*o),e.lineTo(fn*f+mn*m,fn*m-mn*f),e.closePath()}};function $3(e,t){let r=null,n=Ky(l);e=typeof e=="function"?e:mt(e||Wy),t=typeof t=="function"?t:mt(t===void 0?64:+t);function l(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return l.type=function(o){return arguments.length?(e=typeof o=="function"?o:mt(o),l):e},l.size=function(o){return arguments.length?(t=typeof o=="function"?o:mt(+o),l):t},l.context=function(o){return arguments.length?(r=o??null,l):r},l}function Rd(){}function Ld(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function A2(e){this._context=e}A2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ld(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ld(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function U3(e){return new A2(e)}function C2(e){this._context=e}C2.prototype={areaStart:Rd,areaEnd:Rd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ld(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H3(e){return new C2(e)}function E2(e){this._context=e}E2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ld(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function G3(e){return new E2(e)}function O2(e){this._context=e}O2.prototype={areaStart:Rd,areaEnd:Rd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Q3(e){return new O2(e)}function V_(e){return e<0?-1:1}function Y_(e,t,r){var n=e._x1-e._x0,l=t-e._x1,o=(e._y1-e._y0)/(n||l<0&&-0),u=(r-e._y1)/(l||n<0&&-0),f=(o*l+u*n)/(n+l);return(V_(o)+V_(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(f))||0}function K_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function rv(e,t,r){var n=e._x0,l=e._y0,o=e._x1,u=e._y1,f=(o-n)/3;e._context.bezierCurveTo(n+f,l+f*t,o-f,u-f*r,o,u)}function Id(e){this._context=e}Id.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rv(this,this._t0,K_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rv(this,K_(this,r=Y_(this,e,t)),r);break;default:rv(this,this._t0,r=Y_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function z2(e){this._context=new M2(e)}(z2.prototype=Object.create(Id.prototype)).point=function(e,t){Id.prototype.point.call(this,t,e)};function M2(e){this._context=e}M2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,l,o){this._context.bezierCurveTo(t,e,n,r,o,l)}};function F3(e){return new Id(e)}function V3(e){return new z2(e)}function D2(e){this._context=e}D2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=X_(e),l=X_(t),o=0,u=1;u<r;++o,++u)this._context.bezierCurveTo(n[0][o],l[0][o],n[1][o],l[1][o],e[u],t[u]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function X_(e){var t,r=e.length-1,n,l=new Array(r),o=new Array(r),u=new Array(r);for(l[0]=0,o[0]=2,u[0]=e[0]+2*e[1],t=1;t<r-1;++t)l[t]=1,o[t]=4,u[t]=4*e[t]+2*e[t+1];for(l[r-1]=2,o[r-1]=7,u[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=l[t]/o[t-1],o[t]-=n,u[t]-=n*u[t-1];for(l[r-1]=u[r-1]/o[r-1],t=r-2;t>=0;--t)l[t]=(u[t]-l[t+1])/o[t];for(o[r-1]=(e[r]+l[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-l[t+1];return[l,o]}function Y3(e){return new D2(e)}function Lf(e,t){this._context=e,this._t=t}Lf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function K3(e){return new Lf(e,.5)}function X3(e){return new Lf(e,0)}function W3(e){return new Lf(e,1)}function fs(e,t){if((u=e.length)>1)for(var r=1,n,l,o=e[t[0]],u,f=o.length;r<u;++r)for(l=o,o=e[t[r]],n=0;n<f;++n)o[n][1]+=o[n][0]=isNaN(l[n][1])?l[n][0]:l[n][1]}function Fg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Z3(e,t){return e[t]}function J3(e){const t=[];return t.key=e,t}function eR(){var e=mt([]),t=Fg,r=fs,n=Z3;function l(o){var u=Array.from(e.apply(this,arguments),J3),f,m=u.length,p=-1,h;for(const v of o)for(f=0,++p;f<m;++f)(u[f][p]=[0,+n(v,u[f].key,p,o)]).data=v;for(f=0,h=Xy(t(u));f<m;++f)u[h[f]].index=f;return r(u,h),u}return l.keys=function(o){return arguments.length?(e=typeof o=="function"?o:mt(Array.from(o)),l):e},l.value=function(o){return arguments.length?(n=typeof o=="function"?o:mt(+o),l):n},l.order=function(o){return arguments.length?(t=o==null?Fg:typeof o=="function"?o:mt(Array.from(o)),l):t},l.offset=function(o){return arguments.length?(r=o??fs,l):r},l}function tR(e,t){if((n=e.length)>0){for(var r,n,l=0,o=e[0].length,u;l<o;++l){for(u=r=0;r<n;++r)u+=e[r][l][1]||0;if(u)for(r=0;r<n;++r)e[r][l][1]/=u}fs(e,t)}}function rR(e,t){if((l=e.length)>0){for(var r=0,n=e[t[0]],l,o=n.length;r<o;++r){for(var u=0,f=0;u<l;++u)f+=e[u][r][1]||0;n[r][1]+=n[r][0]=-f/2}fs(e,t)}}function nR(e,t){if(!(!((u=e.length)>0)||!((o=(l=e[t[0]]).length)>0))){for(var r=0,n=1,l,o,u;n<o;++n){for(var f=0,m=0,p=0;f<u;++f){for(var h=e[t[f]],v=h[n][1]||0,x=h[n-1][1]||0,b=(v-x)/2,_=0;_<f;++_){var N=e[t[_]],S=N[n][1]||0,A=N[n-1][1]||0;b+=S-A}m+=v,p+=b*v}l[n-1][1]+=l[n-1][0]=r,m&&(r-=p/m)}l[n-1][1]+=l[n-1][0]=r,fs(e,t)}}var nv={},av={},W_;function aR(){return W_||(W_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(av)),av}var iv={},Z_;function T2(){return Z_||(Z_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(iv)),iv}var sv={},J_;function Zy(){return J_||(J_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(sv)),sv}var lv={},ov={},e1;function iR(){return e1||(e1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(ov)),ov}var t1;function Jy(){return t1||(t1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iR(),r=Zy();function n(l){if(Array.isArray(l))return l.map(r.toKey);if(typeof l=="symbol")return[l];l=t.toString(l);const o=[],u=l.length;if(u===0)return o;let f=0,m="",p="",h=!1;for(l.charCodeAt(0)===46&&(o.push(""),f++);f<u;){const v=l[f];p?v==="\\"&&f+1<u?(f++,m+=l[f]):v===p?p="":m+=v:h?v==='"'||v==="'"?p=v:v==="]"?(h=!1,o.push(m),m=""):m+=v:v==="["?(h=!0,m&&(o.push(m),m="")):v==="."?m&&(o.push(m),m=""):m+=v,f++}return m&&o.push(m),o}e.toPath=n})(lv)),lv}var r1;function ex(){return r1||(r1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aR(),r=T2(),n=Zy(),l=Jy();function o(f,m,p){if(f==null)return p;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return p;const h=f[m];return h===void 0?r.isDeepKey(m)?o(f,l.toPath(m),p):p:h}case"number":case"symbol":{typeof m=="number"&&(m=n.toKey(m));const h=f[m];return h===void 0?p:h}default:{if(Array.isArray(m))return u(f,m,p);if(Object.is(m?.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return p;const h=f[m];return h===void 0?p:h}}}function u(f,m,p){if(m.length===0)return p;let h=f;for(let v=0;v<m.length;v++){if(h==null||t.isUnsafeProperty(m[v]))return p;h=h[m[v]]}return h===void 0?p:h}e.get=o})(nv)),nv}var cv,n1;function sR(){return n1||(n1=1,cv=ex().get),cv}var lR=sR();const Dl=La(lR);var oR=4;function _i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oR,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Ot(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((l,o,u)=>{var f=r[u-1];return typeof f=="string"?l+f+o:f!==void 0?l+_i(f)+o:l+o},"")}var kr=e=>e===0?0:e>0?1:-1,Zn=e=>typeof e=="number"&&e!=+e,ms=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ne=e=>(typeof e=="number"||e instanceof Number)&&!Zn(e),Jn=e=>Ne(e)||typeof e=="string",cR=0,lc=e=>{var t=++cR;return"".concat(e||"").concat(t)},Pn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(t)&&typeof t!="string")return n;var o;if(ms(t)){if(r==null)return n;var u=t.indexOf("%");o=r*parseFloat(t.slice(0,u))/100}else o=+t;return Zn(o)&&(o=n),l&&r!=null&&o>r&&(o=r),o},P2=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function zt(e,t,r){return Ne(e)&&Ne(t)?_i(e+r*(t-e)):t}function k2(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Dl(n,t))===r)}var St=e=>e===null||typeof e>"u",wc=e=>St(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function qr(e){return e!=null}function Ns(){}var uR=["type","size","sizeType"];function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(null,arguments)}function a1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function i1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a1(Object(r),!0).forEach(function(n){dR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dR(e,t,r){return(t=fR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fR(e){var t=mR(e,"string");return typeof t=="symbol"?t:t+""}function mR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pR(e,t){if(e==null)return{};var r,n,l=hR(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function hR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var q2={symbolCircle:Wy,symbolCross:z3,symbolDiamond:D3,symbolSquare:T3,symbolStar:R3,symbolTriangle:L3,symbolWye:B3},vR=Math.PI/180,gR=e=>{var t="symbol".concat(wc(e));return q2[t]||Wy},yR=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*vR;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},xR=(e,t)=>{q2["symbol".concat(wc(e))]=t},R2=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,l=pR(e,uR),o=i1(i1({},l),{},{type:t,size:r,sizeType:n}),u="circle";typeof t=="string"&&(u=t);var f=()=>{var x=gR(u),b=$3().type(x).size(yR(r,n,u)),_=b();if(_!==null)return _},{className:m,cx:p,cy:h}=o,v=Sr(o);return Ne(p)&&Ne(h)&&Ne(r)?j.createElement("path",Vg({},v,{className:ot("recharts-symbols",m),transform:"translate(".concat(p,", ").concat(h,")"),d:f()})):null};R2.registerSymbol=xR;var L2=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,tx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(l=>{Yy(l)&&(n[l]=(o=>r[l](r,o)))}),n},bR=(e,t,r)=>n=>(e(t,r,n),null),rx=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(l=>{var o=e[l];Yy(l)&&typeof o=="function"&&(n||(n={}),n[l]=bR(o,t,r))}),n};function s1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function jR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(r),!0).forEach(function(n){NR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NR(e,t,r){return(t=_R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _R(e){var t=SR(e,"string");return typeof t=="symbol"?t:t+""}function SR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ar(e,t){var r=jR({},e),n=t,l=Object.keys(t),o=l.reduce((u,f)=>(u[f]===void 0&&n[f]!==void 0&&(u[f]=n[f]),u),r);return o}var uv={},dv={},l1;function wR(){return l1||(l1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const l=new Map;for(let o=0;o<r.length;o++){const u=r[o],f=n(u,o,r);l.has(f)||l.set(f,u)}return Array.from(l.values())}e.uniqBy=t})(dv)),dv}var fv={},o1;function AR(){return o1||(o1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...l){return r.apply(this,l.slice(0,n))}}e.ary=t})(fv)),fv}var mv={},c1;function I2(){return c1||(c1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(mv)),mv}var pv={},hv={},vv={},u1;function CR(){return u1||(u1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(vv)),vv}var d1;function nx(){return d1||(d1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CR();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(hv)),hv}var gv={},f1;function ER(){return f1||(f1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(gv)),gv}var m1;function OR(){return m1||(m1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nx(),r=ER();function n(l){return r.isObjectLike(l)&&t.isArrayLike(l)}e.isArrayLikeObject=n})(pv)),pv}var yv={},xv={},p1;function zR(){return p1||(p1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ex();function r(n){return function(l){return t.get(l,n)}}e.property=r})(xv)),xv}var bv={},jv={},Nv={},_v={},h1;function B2(){return h1||(h1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(_v)),_v}var Sv={},v1;function $2(){return v1||(v1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Sv)),Sv}var wv={},g1;function U2(){return g1||(g1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(wv)),wv}var y1;function MR(){return y1||(y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B2(),r=$2(),n=U2();function l(h,v,x){return typeof x!="function"?l(h,v,()=>{}):o(h,v,function b(_,N,S,A,O,C){const E=x(_,N,S,A,O,C);return E!==void 0?!!E:o(_,N,b,C)},new Map)}function o(h,v,x,b){if(v===h)return!0;switch(typeof v){case"object":return u(h,v,x,b);case"function":return Object.keys(v).length>0?o(h,{...v},x,b):n.isEqualsSameValueZero(h,v);default:return t.isObject(h)?typeof v=="string"?v==="":!0:n.isEqualsSameValueZero(h,v)}}function u(h,v,x,b){if(v==null)return!0;if(Array.isArray(v))return m(h,v,x,b);if(v instanceof Map)return f(h,v,x,b);if(v instanceof Set)return p(h,v,x,b);const _=Object.keys(v);if(h==null||r.isPrimitive(h))return _.length===0;if(_.length===0)return!0;if(b?.has(v))return b.get(v)===h;b?.set(v,h);try{for(let N=0;N<_.length;N++){const S=_[N];if(!r.isPrimitive(h)&&!(S in h)||v[S]===void 0&&h[S]!==void 0||v[S]===null&&h[S]!==null||!x(h[S],v[S],S,h,v,b))return!1}return!0}finally{b?.delete(v)}}function f(h,v,x,b){if(v.size===0)return!0;if(!(h instanceof Map))return!1;for(const[_,N]of v.entries()){const S=h.get(_);if(x(S,N,_,h,v,b)===!1)return!1}return!0}function m(h,v,x,b){if(v.length===0)return!0;if(!Array.isArray(h))return!1;const _=new Set;for(let N=0;N<v.length;N++){const S=v[N];let A=!1;for(let O=0;O<h.length;O++){if(_.has(O))continue;const C=h[O];let E=!1;if(x(C,S,N,h,v,b)&&(E=!0),E){_.add(O),A=!0;break}}if(!A)return!1}return!0}function p(h,v,x,b){return v.size===0?!0:h instanceof Set?m([...h],[...v],x,b):!1}e.isMatchWith=l,e.isSetMatch=p})(Nv)),Nv}var x1;function H2(){return x1||(x1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MR();function r(n,l){return t.isMatchWith(n,l,()=>{})}e.isMatch=r})(jv)),jv}var Av={},Cv={},Ev={},b1;function DR(){return b1||(b1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Ev)),Ev}var Ov={},j1;function ax(){return j1||(j1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Ov)),Ov}var zv={},N1;function G2(){return N1||(N1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",l="[object Boolean]",o="[object Arguments]",u="[object Symbol]",f="[object Date]",m="[object Map]",p="[object Set]",h="[object Array]",v="[object Function]",x="[object ArrayBuffer]",b="[object Object]",_="[object Error]",N="[object DataView]",S="[object Uint8Array]",A="[object Uint8ClampedArray]",O="[object Uint16Array]",C="[object Uint32Array]",E="[object BigUint64Array]",z="[object Int8Array]",D="[object Int16Array]",L="[object Int32Array]",T="[object BigInt64Array]",q="[object Float32Array]",Y="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=x,e.arrayTag=h,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=E,e.booleanTag=l,e.dataViewTag=N,e.dateTag=f,e.errorTag=_,e.float32ArrayTag=q,e.float64ArrayTag=Y,e.functionTag=v,e.int16ArrayTag=D,e.int32ArrayTag=L,e.int8ArrayTag=z,e.mapTag=m,e.numberTag=n,e.objectTag=b,e.regexpTag=t,e.setTag=p,e.stringTag=r,e.symbolTag=u,e.uint16ArrayTag=O,e.uint32ArrayTag=C,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=A})(zv)),zv}var Mv={},_1;function TR(){return _1||(_1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Mv)),Mv}var S1;function Q2(){return S1||(S1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DR(),r=ax(),n=G2(),l=$2(),o=TR();function u(h,v){return f(h,void 0,h,new Map,v)}function f(h,v,x,b=new Map,_=void 0){const N=_?.(h,v,x,b);if(N!==void 0)return N;if(l.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const S=new Array(h.length);b.set(h,S);for(let A=0;A<h.length;A++)S[A]=f(h[A],A,x,b,_);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;b.set(h,S);for(const[A,O]of h)S.set(A,f(O,A,x,b,_));return S}if(h instanceof Set){const S=new Set;b.set(h,S);for(const A of h)S.add(f(A,void 0,x,b,_));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,S);for(let A=0;A<h.length;A++)S[A]=f(h[A],A,x,b,_);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,S),m(S,h,x,b,_),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return b.set(h,S),m(S,h,x,b,_),S}if(typeof Blob<"u"&&h instanceof Blob){const S=new Blob([h],{type:h.type});return b.set(h,S),m(S,h,x,b,_),S}if(h instanceof Error){const S=new h.constructor;return b.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,m(S,h,x,b,_),S}if(h instanceof Boolean){const S=new Boolean(h.valueOf());return b.set(h,S),m(S,h,x,b,_),S}if(h instanceof Number){const S=new Number(h.valueOf());return b.set(h,S),m(S,h,x,b,_),S}if(h instanceof String){const S=new String(h.valueOf());return b.set(h,S),m(S,h,x,b,_),S}if(typeof h=="object"&&p(h)){const S=Object.create(Object.getPrototypeOf(h));return b.set(h,S),m(S,h,x,b,_),S}return h}function m(h,v,x=h,b,_){const N=[...Object.keys(v),...t.getSymbols(v)];for(let S=0;S<N.length;S++){const A=N[S],O=Object.getOwnPropertyDescriptor(h,A);(O==null||O.writable)&&(h[A]=f(v[A],A,x,b,_))}}function p(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=u,e.cloneDeepWithImpl=f,e.copyProperties=m})(Cv)),Cv}var w1;function PR(){return w1||(w1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q2();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Av)),Av}var A1;function kR(){return A1||(A1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H2(),r=PR();function n(l){return l=r.cloneDeep(l),o=>t.isMatch(o,l)}e.matches=n})(bv)),bv}var Dv={},Tv={},Pv={},C1;function qR(){return C1||(C1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q2(),r=ax(),n=G2();function l(o,u){return t.cloneDeepWith(o,(f,m,p,h)=>{const v=u?.(f,m,p,h);if(v!==void 0)return v;if(typeof o=="object"){if(r.getTag(o)===n.objectTag&&typeof o.constructor!="function"){const x={};return h.set(o,x),t.copyProperties(x,o,p,h),x}switch(Object.prototype.toString.call(o)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new o.constructor(o?.valueOf());return t.copyProperties(x,o),x}case n.argumentsTag:{const x={};return t.copyProperties(x,o),x.length=o.length,x[Symbol.iterator]=o[Symbol.iterator],x}default:return}}})}e.cloneDeepWith=l})(Pv)),Pv}var E1;function RR(){return E1||(E1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qR();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Tv)),Tv}var kv={},qv={},O1;function F2(){return O1||(O1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,l=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<l;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(qv)),qv}var Rv={},z1;function LR(){return z1||(z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ax();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Rv)),Rv}var M1;function IR(){return M1||(M1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T2(),r=F2(),n=LR(),l=Jy();function o(u,f){let m;if(Array.isArray(f)?m=f:typeof f=="string"&&t.isDeepKey(f)&&u?.[f]==null?m=l.toPath(f):m=[f],m.length===0)return!1;let p=u;for(let h=0;h<m.length;h++){const v=m[h];if((p==null||!Object.hasOwn(p,v))&&!((Array.isArray(p)||n.isArguments(p))&&r.isIndex(v)&&v<p.length))return!1;p=p[v]}return!0}e.has=o})(kv)),kv}var D1;function BR(){return D1||(D1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H2(),r=Zy(),n=RR(),l=ex(),o=IR();function u(f,m){switch(typeof f){case"object":{Object.is(f?.valueOf(),-0)&&(f="-0");break}case"number":{f=r.toKey(f);break}}return m=n.cloneDeep(m),function(p){const h=l.get(p,f);return h===void 0?o.has(p,f):m===void 0?h===void 0:t.isMatch(h,m)}}e.matchesProperty=u})(Dv)),Dv}var T1;function $R(){return T1||(T1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I2(),r=zR(),n=kR(),l=BR();function o(u){if(u==null)return t.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?l.matchesProperty(u[0],u[1]):n.matches(u);case"string":case"symbol":case"number":return r.property(u)}}e.iteratee=o})(yv)),yv}var P1;function UR(){return P1||(P1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wR(),r=AR(),n=I2(),l=OR(),o=$R();function u(f,m=n.identity){return l.isArrayLikeObject(f)?t.uniqBy(Array.from(f),r.ary(o.iteratee(m),1)):[]}e.uniqBy=u})(uv)),uv}var Lv,k1;function HR(){return k1||(k1=1,Lv=UR().uniqBy),Lv}var GR=HR();const q1=La(GR);function QR(e,t,r){return t===!0?q1(e,r):typeof t=="function"?q1(e,t):e}var Iv={exports:{}},Bv={},$v={exports:{}},Uv={};var R1;function FR(){if(R1)return Uv;R1=1;var e=Mf();function t(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,l=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function f(v,x){var b=x(),_=n({inst:{value:b,getSnapshot:x}}),N=_[0].inst,S=_[1];return o(function(){N.value=b,N.getSnapshot=x,m(N)&&S({inst:N})},[v,b,x]),l(function(){return m(N)&&S({inst:N}),v(function(){m(N)&&S({inst:N})})},[v]),u(b),b}function m(v){var x=v.getSnapshot;v=v.value;try{var b=x();return!r(v,b)}catch{return!0}}function p(v,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return Uv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Uv}var L1;function VR(){return L1||(L1=1,$v.exports=FR()),$v.exports}var I1;function YR(){if(I1)return Bv;I1=1;var e=Mf(),t=VR();function r(p,h){return p===h&&(p!==0||1/p===1/h)||p!==p&&h!==h}var n=typeof Object.is=="function"?Object.is:r,l=t.useSyncExternalStore,o=e.useRef,u=e.useEffect,f=e.useMemo,m=e.useDebugValue;return Bv.useSyncExternalStoreWithSelector=function(p,h,v,x,b){var _=o(null);if(_.current===null){var N={hasValue:!1,value:null};_.current=N}else N=_.current;_=f(function(){function A(D){if(!O){if(O=!0,C=D,D=x(D),b!==void 0&&N.hasValue){var L=N.value;if(b(L,D))return E=L}return E=D}if(L=E,n(C,D))return L;var T=x(D);return b!==void 0&&b(L,T)?(C=D,L):(C=D,E=T)}var O=!1,C,E,z=v===void 0?null:v;return[function(){return A(h())},z===null?void 0:function(){return A(z())}]},[h,v,x,b]);var S=l(p,_[0],_[1]);return u(function(){N.hasValue=!0,N.value=S},[S]),m(S),S},Bv}var B1;function KR(){return B1||(B1=1,Iv.exports=YR()),Iv.exports}var XR=KR(),ix=j.createContext(null),WR=e=>e,kt=()=>{var e=j.useContext(ix);return e?e.store.dispatch:WR},wd=()=>{},ZR=()=>wd,JR=(e,t)=>e===t;function Ae(e){var t=j.useContext(ix),r=j.useMemo(()=>t?n=>{if(n!=null)return e(n)}:wd,[t,e]);return XR.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:ZR,t?t.store.getState:wd,t?t.store.getState:wd,r,JR)}function e5(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function t5(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function r5(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var $1=e=>Array.isArray(e)?e:[e];function n5(e){const t=Array.isArray(e[0])?e[0]:e;return r5(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function a5(e,t){const r=[],{length:n}=e;for(let l=0;l<n;l++)r.push(e[l].apply(null,t));return r}var i5=class{constructor(e){this.value=e}deref(){return this.value}},s5=typeof WeakRef<"u"?WeakRef:i5,l5=0,U1=1;function id(){return{s:l5,v:void 0,o:null,p:null}}function V2(e,t={}){let r=id();const{resultEqualityCheck:n}=t;let l,o=0;function u(){let f=r;const{length:m}=arguments;for(let v=0,x=m;v<x;v++){const b=arguments[v];if(typeof b=="function"||typeof b=="object"&&b!==null){let _=f.o;_===null&&(f.o=_=new WeakMap);const N=_.get(b);N===void 0?(f=id(),_.set(b,f)):f=N}else{let _=f.p;_===null&&(f.p=_=new Map);const N=_.get(b);N===void 0?(f=id(),_.set(b,f)):f=N}}const p=f;let h;if(f.s===U1)h=f.v;else if(h=e.apply(null,arguments),o++,n){const v=l?.deref?.()??l;v!=null&&n(v,h)&&(h=v,o!==0&&o--),l=typeof h=="object"&&h!==null||typeof h=="function"?new s5(h):h}return p.s=U1,p.v=h,h}return u.clearCache=()=>{r=id(),u.resetResultsCount()},u.resultsCount=()=>o,u.resetResultsCount=()=>{o=0},u}function o5(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...l)=>{let o=0,u=0,f,m={},p=l.pop();typeof p=="object"&&(m=p,p=l.pop()),e5(p,`createSelector expects an output function after the inputs, but received: [${typeof p}]`);const h={...r,...m},{memoize:v,memoizeOptions:x=[],argsMemoize:b=V2,argsMemoizeOptions:_=[]}=h,N=$1(x),S=$1(_),A=n5(l),O=v(function(){return o++,p.apply(null,arguments)},...N),C=b(function(){u++;const z=a5(A,arguments);return f=O.apply(null,z),f},...S);return Object.assign(C,{resultFunc:p,memoizedResultFunc:O,dependencies:A,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>f,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:v,argsMemoize:b})};return Object.assign(n,{withTypes:()=>n}),n}var te=o5(V2),c5=Object.assign((e,t=te)=>{t5(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(o=>e[o]);return t(n,(...o)=>o.reduce((u,f,m)=>(u[r[m]]=f,u),{}))},{withTypes:()=>c5}),Hv={},Gv={},Qv={},H1;function u5(){return H1||(H1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,l,o)=>{if(n!==l){const u=t(n),f=t(l);if(u===f&&u===0){if(n<l)return o==="desc"?1:-1;if(n>l)return o==="desc"?-1:1}return o==="desc"?f-u:u-f}return 0};e.compareValues=r})(Qv)),Qv}var Fv={},Vv={},G1;function Y2(){return G1||(G1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Vv)),Vv}var Q1;function d5(){return Q1||(Q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y2(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function l(o,u){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(n.test(o)||!r.test(o))||u!=null&&Object.hasOwn(u,o)}e.isKey=l})(Fv)),Fv}var F1;function f5(){return F1||(F1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u5(),r=d5(),n=Jy();function l(o,u,f,m){if(o==null)return[];f=m?void 0:f,Array.isArray(o)||(o=Object.values(o)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(f)||(f=f==null?[]:[f]),f=f.map(b=>String(b));const p=(b,_)=>{let N=b;for(let S=0;S<_.length&&N!=null;++S)N=N[_[S]];return N},h=(b,_)=>_==null||b==null?_:typeof b=="object"&&"key"in b?Object.hasOwn(_,b.key)?_[b.key]:p(_,b.path):typeof b=="function"?b(_):Array.isArray(b)?p(_,b):typeof _=="object"?_[b]:_,v=u.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||r.isKey(b)?b:{key:b,path:n.toPath(b)}));return o.map(b=>({original:b,criteria:v.map(_=>h(_,b))})).slice().sort((b,_)=>{for(let N=0;N<v.length;N++){const S=t.compareValues(b.criteria[N],_.criteria[N],f[N]);if(S!==0)return S}return 0}).map(b=>b.original)}e.orderBy=l})(Gv)),Gv}var Yv={},V1;function m5(){return V1||(V1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const l=[],o=Math.floor(n),u=(f,m)=>{for(let p=0;p<f.length;p++){const h=f[p];Array.isArray(h)&&m<o?u(h,m+1):l.push(h)}};return u(r,0),l}e.flatten=t})(Yv)),Yv}var Kv={},Y1;function K2(){return Y1||(Y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F2(),r=nx(),n=B2(),l=U2();function o(u,f,m){return n.isObject(m)&&(typeof f=="number"&&r.isArrayLike(m)&&t.isIndex(f)&&f<m.length||typeof f=="string"&&f in m)?l.isEqualsSameValueZero(m[f],u):!1}e.isIterateeCall=o})(Kv)),Kv}var K1;function p5(){return K1||(K1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f5(),r=m5(),n=K2();function l(o,...u){const f=u.length;return f>1&&n.isIterateeCall(o,u[0],u[1])?u=[]:f>2&&n.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),t.orderBy(o,r.flatten(u),["asc"])}e.sortBy=l})(Hv)),Hv}var Xv,X1;function h5(){return X1||(X1=1,Xv=p5().sortBy),Xv}var v5=h5();const If=La(v5);var X2=e=>e.legend.settings,g5=e=>e.legend.size,y5=e=>e.legend.payload;te([y5,X2],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?If(n,r):n});var sd=1;function x5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),n=j.useCallback(l=>{if(l!=null){var o=l.getBoundingClientRect(),u={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(u.height-t.height)>sd||Math.abs(u.left-t.left)>sd||Math.abs(u.top-t.top)>sd||Math.abs(u.width-t.width)>sd)&&r({height:u.height,left:u.left,top:u.top,width:u.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function ur(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var b5=typeof Symbol=="function"&&Symbol.observable||"@@observable",W1=b5,Wv=()=>Math.random().toString(36).substring(7).split("").join("."),j5={INIT:`@@redux/INIT${Wv()}`,REPLACE:`@@redux/REPLACE${Wv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Wv()}`},Bd=j5;function sx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function W2(e,t,r){if(typeof e!="function")throw new Error(ur(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ur(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ur(1));return r(W2)(e,t)}let n=e,l=t,o=new Map,u=o,f=0,m=!1;function p(){u===o&&(u=new Map,o.forEach((S,A)=>{u.set(A,S)}))}function h(){if(m)throw new Error(ur(3));return l}function v(S){if(typeof S!="function")throw new Error(ur(4));if(m)throw new Error(ur(5));let A=!0;p();const O=f++;return u.set(O,S),function(){if(A){if(m)throw new Error(ur(6));A=!1,p(),u.delete(O),o=null}}}function x(S){if(!sx(S))throw new Error(ur(7));if(typeof S.type>"u")throw new Error(ur(8));if(typeof S.type!="string")throw new Error(ur(17));if(m)throw new Error(ur(9));try{m=!0,l=n(l,S)}finally{m=!1}return(o=u).forEach(O=>{O()}),S}function b(S){if(typeof S!="function")throw new Error(ur(10));n=S,x({type:Bd.REPLACE})}function _(){const S=v;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(ur(11));function O(){const E=A;E.next&&E.next(h())}return O(),{unsubscribe:S(O)}},[W1](){return this}}}return x({type:Bd.INIT}),{dispatch:x,subscribe:v,getState:h,replaceReducer:b,[W1]:_}}function N5(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Bd.INIT})>"u")throw new Error(ur(12));if(typeof r(void 0,{type:Bd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ur(13))})}function Z2(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const u=t[o];typeof e[u]=="function"&&(r[u]=e[u])}const n=Object.keys(r);let l;try{N5(r)}catch(o){l=o}return function(u={},f){if(l)throw l;let m=!1;const p={};for(let h=0;h<n.length;h++){const v=n[h],x=r[v],b=u[v],_=x(b,f);if(typeof _>"u")throw f&&f.type,new Error(ur(14));p[v]=_,m=m||_!==b}return m=m||n.length!==Object.keys(u).length,m?p:u}}function $d(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function _5(...e){return t=>(r,n)=>{const l=t(r,n);let o=()=>{throw new Error(ur(15))};const u={getState:l.getState,dispatch:(m,...p)=>o(m,...p)},f=e.map(m=>m(u));return o=$d(...f)(l.dispatch),{...l,dispatch:o}}}function J2(e){return sx(e)&&"type"in e&&typeof e.type=="string"}var eE=Symbol.for("immer-nothing"),Z1=Symbol.for("immer-draftable"),wr=Symbol.for("immer-state");function En(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Kr=Object,Tl=Kr.getPrototypeOf,Ud="constructor",Bf="prototype",Yg="configurable",Hd="enumerable",Ad="writable",oc="value",Ma=e=>!!e&&!!e[wr];function kn(e){return e?tE(e)||Uf(e)||!!e[Z1]||!!e[Ud]?.[Z1]||Hf(e)||Gf(e):!1}var S5=Kr[Bf][Ud].toString(),J1=new WeakMap;function tE(e){if(!e||!lx(e))return!1;const t=Tl(e);if(t===null||t===Kr[Bf])return!0;const r=Kr.hasOwnProperty.call(t,Ud)&&t[Ud];if(r===Object)return!0;if(!_l(r))return!1;let n=J1.get(r);return n===void 0&&(n=Function.toString.call(r),J1.set(r,n)),n===S5}function $f(e,t,r=!0){Ac(e)===0?(r?Reflect.ownKeys(e):Kr.keys(e)).forEach(l=>{t(l,e[l],e)}):e.forEach((n,l)=>t(l,n,e))}function Ac(e){const t=e[wr];return t?t.type_:Uf(e)?1:Hf(e)?2:Gf(e)?3:0}var eS=(e,t,r=Ac(e))=>r===2?e.has(t):Kr[Bf].hasOwnProperty.call(e,t),Kg=(e,t,r=Ac(e))=>r===2?e.get(t):e[t],Gd=(e,t,r,n=Ac(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function w5(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Uf=Array.isArray,Hf=e=>e instanceof Map,Gf=e=>e instanceof Set,lx=e=>typeof e=="object",_l=e=>typeof e=="function",Zv=e=>typeof e=="boolean";function A5(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var _a=e=>e.copy_||e.base_,ox=e=>e.modified_?e.copy_:e.base_;function Xg(e,t){if(Hf(e))return new Map(e);if(Gf(e))return new Set(e);if(Uf(e))return Array[Bf].slice.call(e);const r=tE(e);if(t===!0||t==="class_only"&&!r){const n=Kr.getOwnPropertyDescriptors(e);delete n[wr];let l=Reflect.ownKeys(n);for(let o=0;o<l.length;o++){const u=l[o],f=n[u];f[Ad]===!1&&(f[Ad]=!0,f[Yg]=!0),(f.get||f.set)&&(n[u]={[Yg]:!0,[Ad]:!0,[Hd]:f[Hd],[oc]:e[u]})}return Kr.create(Tl(e),n)}else{const n=Tl(e);if(n!==null&&r)return{...e};const l=Kr.create(n);return Kr.assign(l,e)}}function cx(e,t=!1){return Qf(e)||Ma(e)||!kn(e)||(Ac(e)>1&&Kr.defineProperties(e,{set:ld,add:ld,clear:ld,delete:ld}),Kr.freeze(e),t&&$f(e,(r,n)=>{cx(n,!0)},!1)),e}function C5(){En(2)}var ld={[oc]:C5};function Qf(e){return e===null||!lx(e)?!0:Kr.isFrozen(e)}var Qd="MapSet",Wg="Patches",tS="ArrayMethods",rE={};function ps(e){const t=rE[e];return t||En(0,e),t}var rS=e=>!!rE[e],cc,nE=()=>cc,E5=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:rS(Qd)?ps(Qd):void 0,arrayMethodsPlugin_:rS(tS)?ps(tS):void 0});function nS(e,t){t&&(e.patchPlugin_=ps(Wg),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Zg(e){Jg(e),e.drafts_.forEach(O5),e.drafts_=null}function Jg(e){e===cc&&(cc=e.parent_)}var aS=e=>cc=E5(cc,e);function O5(e){const t=e[wr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function iS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[wr].modified_&&(Zg(t),En(4)),kn(e)&&(e=sS(t,e));const{patchPlugin_:l}=t;l&&l.generateReplacementPatches_(r[wr].base_,e,t)}else e=sS(t,r);return z5(t,e,!0),Zg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==eE?e:void 0}function sS(e,t){if(Qf(t))return t;const r=t[wr];if(!r)return Fd(t,e.handledSet_,e);if(!Ff(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);sE(r,e)}return r.copy_}function z5(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&cx(t,r)}function aE(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Ff=(e,t)=>e.scope_===t,M5=[];function iE(e,t,r,n){const l=_a(e),o=e.type_;if(n!==void 0&&Kg(l,n,o)===t){Gd(l,n,r,o);return}if(!e.draftLocations_){const f=e.draftLocations_=new Map;$f(l,(m,p)=>{if(Ma(p)){const h=f.get(p)||[];h.push(m),f.set(p,h)}})}const u=e.draftLocations_.get(t)??M5;for(const f of u)Gd(l,f,r,o)}function D5(e,t,r){e.callbacks_.push(function(l){const o=t;if(!o||!Ff(o,l))return;l.mapSetPlugin_?.fixSetContents(o);const u=ox(o);iE(e,o.draft_??o,u,r),sE(o,l)})}function sE(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const l=n.getPath(e);l&&n.generatePatches_(e,l,t)}aE(e)}}function T5(e,t,r){const{scope_:n}=e;if(Ma(r)){const l=r[wr];Ff(l,n)&&l.callbacks_.push(function(){Cd(e);const u=ox(l);iE(e,r,u,t)})}else kn(r)&&e.callbacks_.push(function(){const o=_a(e);e.type_===3?o.has(r)&&Fd(r,n.handledSet_,n):Kg(o,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Fd(Kg(e.copy_,t,e.type_),n.handledSet_,n)})}function Fd(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ma(e)||t.has(e)||!kn(e)||Qf(e)||(t.add(e),$f(e,(n,l)=>{if(Ma(l)){const o=l[wr];if(Ff(o,r)){const u=ox(o);Gd(e,n,u,e.type_),aE(o)}}else kn(l)&&Fd(l,t,r)})),e}function P5(e,t){const r=Uf(e),n={type_:r?1:0,scope_:t?t.scope_:nE(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let l=n,o=Vd;r&&(l=[n],o=uc);const{revoke:u,proxy:f}=Proxy.revocable(l,o);return n.draft_=f,n.revoke_=u,[f,n]}var Vd={get(e,t){if(t===wr)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const l=_a(e);if(!eS(l,t,e.type_))return k5(e,l,t);const o=l[t];if(e.finalized_||!kn(o)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&A5(t))return o;if(o===Jv(e.base_,t)){Cd(e);const u=e.type_===1?+t:t,f=ty(e.scope_,o,e,u);return e.copy_[u]=f}return o},has(e,t){return t in _a(e)},ownKeys(e){return Reflect.ownKeys(_a(e))},set(e,t,r){const n=lE(_a(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const l=Jv(_a(e),t),o=l?.[wr];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(w5(r,l)&&(r!==void 0||eS(e.base_,t,e.type_)))return!0;Cd(e),ey(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),T5(e,t,r)),!0},deleteProperty(e,t){return Cd(e),Jv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ey(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=_a(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Ad]:!0,[Yg]:e.type_!==1||t!=="length",[Hd]:n[Hd],[oc]:r[t]}},defineProperty(){En(11)},getPrototypeOf(e){return Tl(e.base_)},setPrototypeOf(){En(12)}},uc={};for(let e in Vd){let t=Vd[e];uc[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}uc.deleteProperty=function(e,t){return uc.set.call(this,e,t,void 0)};uc.set=function(e,t,r){return Vd.set.call(this,e[0],t,r,e[0])};function Jv(e,t){const r=e[wr];return(r?_a(r):e)[t]}function k5(e,t,r){const n=lE(t,r);return n?oc in n?n[oc]:n.get?.call(e.draft_):void 0}function lE(e,t){if(!(t in e))return;let r=Tl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Tl(r)}}function ey(e){e.modified_||(e.modified_=!0,e.parent_&&ey(e.parent_))}function Cd(e){e.copy_||(e.assigned_=new Map,e.copy_=Xg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var q5=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,l)=>{if(_l(r)&&!_l(n)){const u=n;n=r;const f=this;return function(p=u,...h){return f.produce(p,v=>n.call(this,v,...h))}}_l(n)||En(6),l!==void 0&&!_l(l)&&En(7);let o;if(kn(r)){const u=aS(this),f=ty(u,r,void 0);let m=!0;try{o=n(f),m=!1}finally{m?Zg(u):Jg(u)}return nS(u,l),iS(o,u)}else if(!r||!lx(r)){if(o=n(r),o===void 0&&(o=r),o===eE&&(o=void 0),this.autoFreeze_&&cx(o,!0),l){const u=[],f=[];ps(Wg).generateReplacementPatches_(r,o,{patches_:u,inversePatches_:f}),l(u,f)}return o}else En(1,r)},this.produceWithPatches=(r,n)=>{if(_l(r))return(f,...m)=>this.produceWithPatches(f,p=>r(p,...m));let l,o;return[this.produce(r,n,(f,m)=>{l=f,o=m}),l,o]},Zv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Zv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Zv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){kn(t)||En(8),Ma(t)&&(t=Dn(t));const r=aS(this),n=ty(r,t,void 0);return n[wr].isManual_=!0,Jg(r),n}finishDraft(t,r){const n=t&&t[wr];(!n||!n.isManual_)&&En(9);const{scope_:l}=n;return nS(l,r),iS(void 0,l)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const o=r[n];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}n>-1&&(r=r.slice(n+1));const l=ps(Wg).applyPatches_;return Ma(t)?l(t,r):this.produce(t,o=>l(o,r))}};function ty(e,t,r,n){const[l,o]=Hf(t)?ps(Qd).proxyMap_(t,r):Gf(t)?ps(Qd).proxySet_(t,r):P5(t,r);return(r?.scope_??nE()).drafts_.push(l),o.callbacks_=r?.callbacks_??[],o.key_=n,r&&n!==void 0?D5(r,o,n):o.callbacks_.push(function(m){m.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:p}=m;o.modified_&&p&&p.generatePatches_(o,[],m)}),l}function Dn(e){return Ma(e)||En(10,e),oE(e)}function oE(e){if(!kn(e)||Qf(e))return e;const t=e[wr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Xg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Xg(e,!0);return $f(r,(l,o)=>{Gd(r,l,oE(o))},n),t&&(t.finalized_=!1),r}var R5=new q5,cE=R5.produce;function uE(e){return({dispatch:r,getState:n})=>l=>o=>typeof o=="function"?o(r,n,e):l(o)}var L5=uE(),I5=uE,B5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$d:$d.apply(null,arguments)};function gn(e,t){function r(...n){if(t){let l=t(...n);if(!l)throw new Error(Xr(0));return{type:e,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>J2(n)&&n.type===e,r}var dE=class tc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,tc.prototype)}static get[Symbol.species](){return tc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new tc(...t[0].concat(this)):new tc(...t.concat(this))}};function lS(e){return kn(e)?cE(e,()=>{}):e}function od(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function $5(e){return typeof e=="boolean"}var U5=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:l=!0,actionCreatorCheck:o=!0}=t??{};let u=new dE;return r&&($5(r)?u.push(L5):u.push(I5(r.extraArgument))),u},fE="RTK_autoBatch",bt=()=>e=>({payload:e,meta:{[fE]:!0}}),oS=e=>t=>{setTimeout(t,e)},mE=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let l=!0,o=!1,u=!1;const f=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:oS(10):e.type==="callback"?e.queueNotification:oS(e.timeout),p=()=>{u=!1,o&&(o=!1,f.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const v=()=>l&&h(),x=n.subscribe(v);return f.add(h),()=>{x(),f.delete(h)}},dispatch(h){try{return l=!h?.meta?.[fE],o=!l,o&&(u||(u=!0,m(p))),n.dispatch(h)}finally{l=!0}}})},H5=e=>function(r){const{autoBatch:n=!0}=r??{};let l=new dE(e);return n&&l.push(mE(typeof n=="object"?n:void 0)),l};function G5(e){const t=U5(),{reducer:r=void 0,middleware:n,devTools:l=!0,preloadedState:o=void 0,enhancers:u=void 0}=e||{};let f;if(typeof r=="function")f=r;else if(sx(r))f=Z2(r);else throw new Error(Xr(1));let m;typeof n=="function"?m=n(t):m=t();let p=$d;l&&(p=B5({trace:!1,...typeof l=="object"&&l}));const h=_5(...m),v=H5(h);let x=typeof u=="function"?u(v):v();const b=p(...x);return W2(f,o,b)}function pE(e){const t={},r=[];let n;const l={addCase(o,u){const f=typeof o=="string"?o:o.type;if(!f)throw new Error(Xr(28));if(f in t)throw new Error(Xr(29));return t[f]=u,l},addAsyncThunk(o,u){return u.pending&&(t[o.pending.type]=u.pending),u.rejected&&(t[o.rejected.type]=u.rejected),u.fulfilled&&(t[o.fulfilled.type]=u.fulfilled),u.settled&&r.push({matcher:o.settled,reducer:u.settled}),l},addMatcher(o,u){return r.push({matcher:o,reducer:u}),l},addDefaultCase(o){return n=o,l}};return e(l),[t,r,n]}function Q5(e){return typeof e=="function"}function F5(e,t){let[r,n,l]=pE(t),o;if(Q5(e))o=()=>lS(e());else{const f=lS(e);o=()=>f}function u(f=o(),m){let p=[r[m.type],...n.filter(({matcher:h})=>h(m)).map(({reducer:h})=>h)];return p.filter(h=>!!h).length===0&&(p=[l]),p.reduce((h,v)=>{if(v)if(Ma(h)){const b=v(h,m);return b===void 0?h:b}else{if(kn(h))return cE(h,x=>v(x,m));{const x=v(h,m);if(x===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return h},f)}return u.getInitialState=o,u}var V5="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Y5=(e=21)=>{let t="",r=e;for(;r--;)t+=V5[Math.random()*64|0];return t},K5=Symbol.for("rtk-slice-createasyncthunk");function X5(e,t){return`${e}/${t}`}function W5({creators:e}={}){const t=e?.asyncThunk?.[K5];return function(n){const{name:l,reducerPath:o=l}=n;if(!l)throw new Error(Xr(11));const u=(typeof n.reducers=="function"?n.reducers(J5()):n.reducers)||{},f=Object.keys(u),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(C,E){const z=typeof C=="string"?C:C.type;if(!z)throw new Error(Xr(12));if(z in m.sliceCaseReducersByType)throw new Error(Xr(13));return m.sliceCaseReducersByType[z]=E,p},addMatcher(C,E){return m.sliceMatchers.push({matcher:C,reducer:E}),p},exposeAction(C,E){return m.actionCreators[C]=E,p},exposeCaseReducer(C,E){return m.sliceCaseReducersByName[C]=E,p}};f.forEach(C=>{const E=u[C],z={reducerName:C,type:X5(l,C),createNotation:typeof n.reducers=="function"};t4(E)?n4(z,E,p,t):e4(z,E,p)});function h(){const[C={},E=[],z=void 0]=typeof n.extraReducers=="function"?pE(n.extraReducers):[n.extraReducers],D={...C,...m.sliceCaseReducersByType};return F5(n.initialState,L=>{for(let T in D)L.addCase(T,D[T]);for(let T of m.sliceMatchers)L.addMatcher(T.matcher,T.reducer);for(let T of E)L.addMatcher(T.matcher,T.reducer);z&&L.addDefaultCase(z)})}const v=C=>C,x=new Map,b=new WeakMap;let _;function N(C,E){return _||(_=h()),_(C,E)}function S(){return _||(_=h()),_.getInitialState()}function A(C,E=!1){function z(L){let T=L[C];return typeof T>"u"&&E&&(T=od(b,z,S)),T}function D(L=v){const T=od(x,E,()=>new WeakMap);return od(T,L,()=>{const q={};for(const[Y,X]of Object.entries(n.selectors??{}))q[Y]=Z5(X,L,()=>od(b,L,S),E);return q})}return{reducerPath:C,getSelectors:D,get selectors(){return D(z)},selectSlice:z}}const O={name:l,reducer:N,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:S,...A(o),injectInto(C,{reducerPath:E,...z}={}){const D=E??o;return C.inject({reducerPath:D,reducer:N},z),{...O,...A(D,!0)}}};return O}}function Z5(e,t,r,n){function l(o,...u){let f=t(o);return typeof f>"u"&&n&&(f=r()),e(f,...u)}return l.unwrapped=e,l}var Ir=W5();function J5(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function e4({type:e,reducerName:t,createNotation:r},n,l){let o,u;if("reducer"in n){if(r&&!r4(n))throw new Error(Xr(17));o=n.reducer,u=n.prepare}else o=n;l.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,u?gn(e,u):gn(e))}function t4(e){return e._reducerDefinitionType==="asyncThunk"}function r4(e){return e._reducerDefinitionType==="reducerWithPrepare"}function n4({type:e,reducerName:t},r,n,l){if(!l)throw new Error(Xr(18));const{payloadCreator:o,fulfilled:u,pending:f,rejected:m,settled:p,options:h}=r,v=l(e,o,h);n.exposeAction(t,v),u&&n.addCase(v.fulfilled,u),f&&n.addCase(v.pending,f),m&&n.addCase(v.rejected,m),p&&n.addMatcher(v.settled,p),n.exposeCaseReducer(t,{fulfilled:u||cd,pending:f||cd,rejected:m||cd,settled:p||cd})}function cd(){}var a4="task",hE="listener",vE="completed",ux="cancelled",i4=`task-${ux}`,s4=`task-${vE}`,ry=`${hE}-${ux}`,l4=`${hE}-${vE}`,Vf=class{constructor(e){this.code=e,this.message=`${a4} ${ux} (reason: ${e})`}name="TaskAbortError";message},dx=(e,t)=>{if(typeof e!="function")throw new TypeError(Xr(32))},Yd=()=>{},gE=(e,t=Yd)=>(e.catch(t),e),yE=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),cs=e=>{if(e.aborted)throw new Vf(e.reason)};function xE(e,t){let r=Yd;return new Promise((n,l)=>{const o=()=>l(new Vf(e.reason));if(e.aborted){o();return}r=yE(e,o),t.finally(()=>r()).then(n,l)}).finally(()=>{r=Yd})}var o4=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Vf?"cancelled":"rejected",error:r}}finally{t?.()}},Kd=e=>t=>gE(xE(e,t).then(r=>(cs(e),r))),bE=e=>{const t=Kd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Cl}=Object,cS={},Yf="listenerMiddleware",c4=(e,t)=>{const r=n=>yE(e,()=>n.abort(e.reason));return(n,l)=>{dx(n);const o=new AbortController;r(o);const u=o4(async()=>{cs(e),cs(o.signal);const f=await n({pause:Kd(o.signal),delay:bE(o.signal),signal:o.signal});return cs(o.signal),f},()=>o.abort(s4));return l?.autoJoin&&t.push(u.catch(Yd)),{result:Kd(e)(u),cancel(){o.abort(i4)}}}},u4=(e,t)=>{const r=async(n,l)=>{cs(t);let o=()=>{};const f=[new Promise((m,p)=>{let h=e({predicate:n,effect:(v,x)=>{x.unsubscribe(),m([v,x.getState(),x.getOriginalState()])}});o=()=>{h(),p()}})];l!=null&&f.push(new Promise(m=>setTimeout(m,l,null)));try{const m=await xE(t,Promise.race(f));return cs(t),m}finally{o()}};return(n,l)=>gE(r(n,l))},jE=e=>{let{type:t,actionCreator:r,matcher:n,predicate:l,effect:o}=e;if(t)l=gn(t).match;else if(r)t=r.type,l=r.match;else if(n)l=n;else if(!l)throw new Error(Xr(21));return dx(o),{predicate:l,type:t,effect:o}},NE=Cl(e=>{const{type:t,predicate:r,effect:n}=jE(e);return{id:Y5(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Xr(22))}}},{withTypes:()=>NE}),uS=(e,t)=>{const{type:r,effect:n,predicate:l}=jE(t);return Array.from(e.values()).find(o=>(typeof r=="string"?o.type===r:o.predicate===l)&&o.effect===n)},ny=e=>{e.pending.forEach(t=>{t.abort(ry)})},d4=(e,t)=>()=>{for(const r of t.keys())ny(r);e.clear()},dS=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},_E=Cl(gn(`${Yf}/add`),{withTypes:()=>_E}),f4=gn(`${Yf}/removeAll`),SE=Cl(gn(`${Yf}/remove`),{withTypes:()=>SE}),m4=(...e)=>{console.error(`${Yf}/error`,...e)},Cc=(e={})=>{const t=new Map,r=new Map,n=b=>{const _=r.get(b)??0;r.set(b,_+1)},l=b=>{const _=r.get(b)??1;_===1?r.delete(b):r.set(b,_-1)},{extra:o,onError:u=m4}=e;dx(u);const f=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),_=>{b.unsubscribe(),_?.cancelActive&&ny(b)}),m=b=>{const _=uS(t,b)??NE(b);return f(_)};Cl(m,{withTypes:()=>m});const p=b=>{const _=uS(t,b);return _&&(_.unsubscribe(),b.cancelActive&&ny(_)),!!_};Cl(p,{withTypes:()=>p});const h=async(b,_,N,S)=>{const A=new AbortController,O=u4(m,A.signal),C=[];try{b.pending.add(A),n(b),await Promise.resolve(b.effect(_,Cl({},N,{getOriginalState:S,condition:(E,z)=>O(E,z).then(Boolean),take:O,delay:bE(A.signal),pause:Kd(A.signal),extra:o,signal:A.signal,fork:c4(A.signal,C),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((E,z,D)=>{E!==A&&(E.abort(ry),D.delete(E))})},cancel:()=>{A.abort(ry),b.pending.delete(A)},throwIfCancelled:()=>{cs(A.signal)}})))}catch(E){E instanceof Vf||dS(u,E,{raisedBy:"effect"})}finally{await Promise.all(C),A.abort(l4),l(b),b.pending.delete(A)}},v=d4(t,r);return{middleware:b=>_=>N=>{if(!J2(N))return _(N);if(_E.match(N))return m(N.payload);if(f4.match(N)){v();return}if(SE.match(N))return p(N.payload);let S=b.getState();const A=()=>{if(S===cS)throw new Error(Xr(23));return S};let O;try{if(O=_(N),t.size>0){const C=b.getState(),E=Array.from(t.values());for(const z of E){let D=!1;try{D=z.predicate(N,C,S)}catch(L){D=!1,dS(u,L,{raisedBy:"predicate"})}D&&h(z,N,b,A)}}}finally{S=cS}return O},startListening:m,stopListening:p,clearListeners:v}};function Xr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var p4={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},wE=Ir({name:"chartLayout",initialState:p4,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,l,o;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(l=t.payload.bottom)!==null&&l!==void 0?l:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:h4,setLayout:v4,setChartSize:g4,setScale:y4}=wE.actions,x4=wE.reducer;function AE(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Ye(e){return Number.isFinite(e)}function ea(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){b4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b4(e,t,r){return(t=j4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j4(e){var t=N4(e,"string");return typeof t=="symbol"?t:t+""}function N4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $t(e,t,r){return St(e)||St(t)?r:Jn(t)?Dl(e,t,r):typeof t=="function"?t(e):r}var _4=(e,t,r)=>{if(t&&r){var{width:n,height:l}=r,{align:o,verticalAlign:u,layout:f}=t;if((f==="vertical"||f==="horizontal"&&u==="middle")&&o!=="center"&&Ne(e[o]))return Sl(Sl({},e),{},{[o]:e[o]+(n||0)});if((f==="horizontal"||f==="vertical"&&o==="center")&&u!=="middle"&&Ne(e[u]))return Sl(Sl({},e),{},{[u]:e[u]+(l||0)})}return e},Ia=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",CE=(e,t,r,n)=>{if(n)return e.map(f=>f.coordinate);var l,o,u=e.map(f=>(f.coordinate===t&&(l=!0),f.coordinate===r&&(o=!0),f.coordinate));return l||u.push(t),o||u.push(r),u},EE=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:l,range:o,scale:u,realScaleType:f,isCategorical:m,categoricalDomain:p,tickCount:h,ticks:v,niceTicks:x,axisType:b}=e;if(!u)return null;var _=f==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,N=l==="category"&&u.bandwidth?u.bandwidth()/_:0;if(N=b==="angleAxis"&&o&&o.length>=2?kr(o[0]-o[1])*2*N:N,v||x){var S=(v||x||[]).map((A,O)=>{var C=n?n.indexOf(A):A,E=u.map(C);return Ye(E)?{coordinate:E+N,value:A,offset:N,index:O}:null}).filter(qr);return S}return m&&p?p.map((A,O)=>{var C=u.map(A);return Ye(C)?{coordinate:C+N,value:A,index:O,offset:N}:null}).filter(qr):u.ticks&&h!=null?u.ticks(h).map((A,O)=>{var C=u.map(A);return Ye(C)?{coordinate:C+N,value:A,index:O,offset:N}:null}).filter(qr):u.domain().map((A,O)=>{var C=u.map(A);return Ye(C)?{coordinate:C+N,value:n?n[A]:A,index:O,offset:N}:null}).filter(qr)},S4=(e,t)=>{if(!t||t.length!==2||!Ne(t[0])||!Ne(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),l=[e[0],e[1]];return(!Ne(e[0])||e[0]<r)&&(l[0]=r),(!Ne(e[1])||e[1]>n)&&(l[1]=n),l[0]>n&&(l[0]=n),l[1]<r&&(l[1]=r),l},w4=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var l=0;l<n;++l)for(var o=0,u=0,f=0;f<r;++f){var m=e[f],p=m?.[l];if(p!=null){var h=p[1],v=p[0],x=Zn(h)?v:h;x>=0?(p[0]=o,o+=x,p[1]=o):(p[0]=u,u+=x,p[1]=u)}}}},A4=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var l=0;l<n;++l)for(var o=0,u=0;u<r;++u){var f=e[u],m=f?.[l];if(m!=null){var p=Zn(m[1])?m[0]:m[1];p>=0?(m[0]=o,o+=p,m[1]=o):(m[0]=0,m[1]=0)}}}},C4={sign:w4,expand:tR,none:fs,silhouette:rR,wiggle:nR,positive:A4},E4=(e,t,r)=>{var n,l=(n=C4[r])!==null&&n!==void 0?n:fs,o=eR().keys(t).value((f,m)=>Number($t(f,m,0))).order(Fg).offset(l),u=o(e);return u.forEach((f,m)=>{f.forEach((p,h)=>{var v=$t(e[h],t[m],0);Array.isArray(v)&&v.length===2&&Ne(v[0])&&Ne(v[1])&&(p[0]=v[0],p[1]=v[1])})}),u};function O4(e){return e==null?void 0:String(e)}function mS(e){var{axis:t,ticks:r,bandSize:n,entry:l,index:o,dataKey:u}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!St(l[t.dataKey])){var f=k2(r,"value",l[t.dataKey]);if(f)return f.coordinate+n/2}return r!=null&&r[o]?r[o].coordinate+n/2:null}var m=$t(l,St(u)?t.dataKey:u),p=t.scale.map(m);return Ne(p)?p:null}var pS=e=>{var{axis:t,ticks:r,offset:n,bandSize:l,entry:o,index:u}=e;if(t.type==="category")return r[u]?r[u].coordinate+n:null;var f=$t(o,t.dataKey,t.scale.domain()[u]);if(St(f))return null;var m=t.scale.map(f);return Ne(m)?m-l/2+n:null},z4=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),l=Math.max(r[0],r[1]);return n<=0&&l>=0?0:l<0?l:n}return r[0]},M4=e=>{var t=e.flat(2).filter(Ne);return[Math.min(...t),Math.max(...t)]},D4=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],T4=(e,t,r)=>{if(e!=null)return D4(Object.keys(e).reduce((n,l)=>{var o=e[l];if(!o)return n;var{stackedData:u}=o,f=u.reduce((m,p)=>{var h=AE(p,t,r),v=M4(h);return!Ye(v[0])||!Ye(v[1])?m:[Math.min(m[0],v[0]),Math.max(m[1],v[1])]},[1/0,-1/0]);return[Math.min(f[0],n[0]),Math.max(f[1],n[1])]},[1/0,-1/0]))},hS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Pl=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var l=If(t,h=>h.coordinate),o=1/0,u=1,f=l.length;u<f;u++){var m=l[u],p=l[u-1];o=Math.min((m?.coordinate||0)-(p?.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0};function gS(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:l,name:o}=e;return Sl(Sl({},t),{},{dataKey:r,payload:n,value:l,name:o})}function Kf(e,t){if(e)return String(e);if(typeof t=="string")return t}var P4=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},k4=(e,t)=>t==="centric"?e.angle:e.radius,Ba=e=>e.layout.width,$a=e=>e.layout.height,q4=e=>e.layout.scale,OE=e=>e.layout.margin,Xf=te(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Wf=te(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),R4="data-recharts-item-index",L4="data-recharts-item-id",Ec=60;function yS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function ud(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(r),!0).forEach(function(n){I4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I4(e,t,r){return(t=B4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B4(e){var t=$4(e,"string");return typeof t=="symbol"?t:t+""}function $4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U4=e=>e.brush.height;function H4(e){var t=Wf(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var l=typeof n.width=="number"?n.width:Ec;return r+l}return r},0)}function G4(e){var t=Wf(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var l=typeof n.width=="number"?n.width:Ec;return r+l}return r},0)}function Q4(e){var t=Xf(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function F4(e){var t=Xf(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var tr=te([Ba,$a,OE,U4,H4,G4,Q4,F4,X2,g5],(e,t,r,n,l,o,u,f,m,p)=>{var h={left:(r.left||0)+l,right:(r.right||0)+o},v={top:(r.top||0)+u,bottom:(r.bottom||0)+f},x=ud(ud({},v),h),b=x.bottom;x.bottom+=n,x=_4(x,m,p);var _=e-x.left-x.right,N=t-x.top-x.bottom;return ud(ud({brushBottom:b},x),{},{width:Math.max(_,0),height:Math.max(N,0)})}),V4=te(tr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),fx=te(Ba,$a,(e,t)=>({x:0,y:0,width:e,height:t})),Y4=j.createContext(null),xr=()=>j.useContext(Y4)!=null,Zf=e=>e.brush,Jf=te([Zf,tr,OE],(e,t,r)=>({height:e.height,x:Ne(e.x)?e.x:t.left,y:Ne(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Ne(e.width)?e.width:t.width})),eg={},tg={},rg={},xS;function K4(){return xS||(xS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:l,edges:o}={}){let u,f=null;const m=o!=null&&o.includes("leading"),p=o==null||o.includes("trailing"),h=()=>{f!==null&&(r.apply(u,f),u=void 0,f=null)},v=()=>{p&&h(),N()};let x=null;const b=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,v()},n)},_=()=>{x!==null&&(clearTimeout(x),x=null)},N=()=>{_(),u=void 0,f=null},S=()=>{h()},A=function(...O){if(l?.aborted)return;u=this,f=O;const C=x==null;b(),m&&C&&h()};return A.schedule=b,A.cancel=N,A.flush=S,l?.addEventListener("abort",N,{once:!0}),A}e.debounce=t})(rg)),rg}var bS;function X4(){return bS||(bS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K4();function r(n,l=0,o={}){typeof o!="object"&&(o={});const{leading:u=!1,trailing:f=!0,maxWait:m}=o,p=Array(2);u&&(p[0]="leading"),f&&(p[1]="trailing");let h,v=null;const x=t.debounce(function(...N){h=n.apply(this,N),v=null},l,{edges:p}),b=function(...N){return m!=null&&(v===null&&(v=Date.now()),Date.now()-v>=m)?(h=n.apply(this,N),v=Date.now(),x.cancel(),x.schedule(),h):(x.apply(this,N),h)},_=()=>(x.flush(),h);return b.cancel=x.cancel,b.flush=_,b}e.debounce=r})(tg)),tg}var jS;function W4(){return jS||(jS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X4();function r(n,l=0,o={}){const{leading:u=!0,trailing:f=!0}=o;return t.debounce(n,l,{leading:u,maxWait:l,trailing:f})}e.throttle=r})(eg)),eg}var ng,NS;function Z4(){return NS||(NS=1,ng=W4().throttle),ng}var J4=Z4();const eL=La(J4);var Xd=function(t,r){for(var n=arguments.length,l=new Array(n>2?n-2:0),o=2;o<n;o++)l[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=0;console.warn(r.replace(/%s/g,()=>l[u++]))}},Yn={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},zE=(e,t,r)=>{var{width:n=Yn.width,height:l=Yn.height,aspect:o,maxHeight:u}=r,f=ms(n)?e:Number(n),m=ms(l)?t:Number(l);return o&&o>0&&(f?m=f/o:m&&(f=m*o),u&&m!=null&&m>u&&(m=u)),{calculatedWidth:f,calculatedHeight:m}},tL={width:0,height:0,overflow:"visible"},rL={width:0,overflowX:"visible"},nL={height:0,overflowY:"visible"},aL={},iL=e=>{var{width:t,height:r}=e,n=ms(t),l=ms(r);return n&&l?tL:n?rL:l?nL:aL};function sL(e){var{width:t,height:r,aspect:n}=e,l=t,o=r;return l===void 0&&o===void 0?(l=Yn.width,o=Yn.height):l===void 0?l=n&&n>0?void 0:Yn.width:o===void 0&&(o=n&&n>0?void 0:Yn.height),{width:l,height:o}}function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ay.apply(null,arguments)}function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function SS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){lL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lL(e,t,r){return(t=oL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oL(e){var t=cL(e,"string");return typeof t=="symbol"?t:t+""}function cL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ME=j.createContext(Yn.initialDimension);function uL(e){return ea(e.width)&&ea(e.height)}function DE(e){var{children:t,width:r,height:n}=e,l=j.useMemo(()=>({width:r,height:n}),[r,n]);return uL(l)?j.createElement(ME.Provider,{value:l},t):null}var mx=()=>j.useContext(ME),dL=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Yn.initialDimension,width:l,height:o,minWidth:u=Yn.minWidth,minHeight:f,maxHeight:m,children:p,debounce:h=Yn.debounce,id:v,className:x,onResize:b,style:_={}}=e,N=j.useRef(null),S=j.useRef();S.current=b,j.useImperativeHandle(t,()=>N.current);var[A,O]=j.useState({containerWidth:n.width,containerHeight:n.height}),C=j.useCallback((T,q)=>{O(Y=>{var X=Math.round(T),$=Math.round(q);return Y.containerWidth===X&&Y.containerHeight===$?Y:{containerWidth:X,containerHeight:$}})},[]);j.useEffect(()=>{if(N.current==null||typeof ResizeObserver>"u")return Ns;var T=$=>{var oe,ue=$[0];if(ue!=null){var{width:V,height:k}=ue.contentRect;C(V,k),(oe=S.current)===null||oe===void 0||oe.call(S,V,k)}};h>0&&(T=eL(T,h,{trailing:!0,leading:!1}));var q=new ResizeObserver(T),{width:Y,height:X}=N.current.getBoundingClientRect();return C(Y,X),q.observe(N.current),()=>{q.disconnect()}},[C,h]);var{containerWidth:E,containerHeight:z}=A;Xd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:D,calculatedHeight:L}=zE(E,z,{width:l,height:o,aspect:r,maxHeight:m});return Xd(D!=null&&D>0||L!=null&&L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,L,l,o,u,f,r),j.createElement("div",{id:v?"".concat(v):void 0,className:ot("recharts-responsive-container",x),style:SS(SS({},_),{},{width:l,height:o,minWidth:u,minHeight:f,maxHeight:m}),ref:N},j.createElement("div",{style:iL({width:l,height:o})},j.createElement(DE,{width:D,height:L},p)))}),wS=j.forwardRef((e,t)=>{var r=mx();if(ea(r.width)&&ea(r.height))return e.children;var{width:n,height:l}=sL({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:u}=zE(void 0,void 0,{width:n,height:l,aspect:e.aspect,maxHeight:e.maxHeight});return Ne(o)&&Ne(u)?j.createElement(DE,{width:o,height:u},e.children):j.createElement(dL,ay({},e,{width:n,height:l,ref:t}))});function px(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var em=()=>{var e,t=xr(),r=Ae(V4),n=Ae(Jf),l=(e=Ae(Zf))===null||e===void 0?void 0:e.padding;return!t||!n||!l?r:{width:n.width-l.left-l.right,height:n.height-l.top-l.bottom,x:l.left,y:l.top}},fL={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},TE=()=>{var e;return(e=Ae(tr))!==null&&e!==void 0?e:fL},PE=()=>Ae(Ba),kE=()=>Ae($a),nt=e=>e.layout.layoutType,_s=()=>Ae(nt),qE=()=>{var e=_s();if(e==="horizontal"||e==="vertical")return e},RE=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},mL=()=>{var e=_s();return e!==void 0},Oc=e=>{var t=kt(),r=xr(),{width:n,height:l}=e,o=mx(),u=n,f=l;return o&&(u=o.width>0?o.width:n,f=o.height>0?o.height:l),j.useEffect(()=>{!r&&ea(u)&&ea(f)&&t(g4({width:u,height:f}))},[t,r,u,f]),null},LE=Symbol.for("immer-nothing"),AS=Symbol.for("immer-draftable"),Wr=Symbol.for("immer-state");function On(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var dc=Object.getPrototypeOf;function kl(e){return!!e&&!!e[Wr]}function hs(e){return e?IE(e)||Array.isArray(e)||!!e[AS]||!!e.constructor?.[AS]||zc(e)||rm(e):!1}var pL=Object.prototype.constructor.toString(),CS=new WeakMap;function IE(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=CS.get(r);return n===void 0&&(n=Function.toString.call(r),CS.set(r,n)),n===pL}function Wd(e,t,r=!0){tm(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(l=>{t(l,e[l],e)}):e.forEach((n,l)=>t(l,n,e))}function tm(e){const t=e[Wr];return t?t.type_:Array.isArray(e)?1:zc(e)?2:rm(e)?3:0}function iy(e,t){return tm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function BE(e,t,r){const n=tm(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function hL(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function zc(e){return e instanceof Map}function rm(e){return e instanceof Set}function rs(e){return e.copy_||e.base_}function sy(e,t){if(zc(e))return new Map(e);if(rm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=IE(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Wr];let l=Reflect.ownKeys(n);for(let o=0;o<l.length;o++){const u=l[o],f=n[u];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(n[u]={configurable:!0,writable:!0,enumerable:f.enumerable,value:e[u]})}return Object.create(dc(e),n)}else{const n=dc(e);if(n!==null&&r)return{...e};const l=Object.create(n);return Object.assign(l,e)}}function hx(e,t=!1){return nm(e)||kl(e)||!hs(e)||(tm(e)>1&&Object.defineProperties(e,{set:dd,add:dd,clear:dd,delete:dd}),Object.freeze(e),t&&Object.values(e).forEach(r=>hx(r,!0))),e}function vL(){On(2)}var dd={value:vL};function nm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var gL={};function vs(e){const t=gL[e];return t||On(0,e),t}var fc;function $E(){return fc}function yL(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ES(e,t){t&&(vs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ly(e){oy(e),e.drafts_.forEach(xL),e.drafts_=null}function oy(e){e===fc&&(fc=e.parent_)}function OS(e){return fc=yL(fc,e)}function xL(e){const t=e[Wr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Wr].modified_&&(ly(t),On(4)),hs(e)&&(e=Zd(t,e),t.parent_||Jd(t,e)),t.patches_&&vs("Patches").generateReplacementPatches_(r[Wr].base_,e,t.patches_,t.inversePatches_)):e=Zd(t,r,[]),ly(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==LE?e:void 0}function Zd(e,t,r){if(nm(t))return t;const n=e.immer_.shouldUseStrictIteration(),l=t[Wr];if(!l)return Wd(t,(o,u)=>MS(e,l,t,o,u,r),n),t;if(l.scope_!==e)return t;if(!l.modified_)return Jd(e,l.base_,!0),l.base_;if(!l.finalized_){l.finalized_=!0,l.scope_.unfinalizedDrafts_--;const o=l.copy_;let u=o,f=!1;l.type_===3&&(u=new Set(o),o.clear(),f=!0),Wd(u,(m,p)=>MS(e,l,o,m,p,r,f),n),Jd(e,o,!1),r&&e.patches_&&vs("Patches").generatePatches_(l,r,e.patches_,e.inversePatches_)}return l.copy_}function MS(e,t,r,n,l,o,u){if(l==null||typeof l!="object"&&!u)return;const f=nm(l);if(!(f&&!u)){if(kl(l)){const m=o&&t&&t.type_!==3&&!iy(t.assigned_,n)?o.concat(n):void 0,p=Zd(e,l,m);if(BE(r,n,p),kl(p))e.canAutoFreeze_=!1;else return}else u&&r.add(l);if(hs(l)&&!f){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===l&&f)return;Zd(e,l),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(zc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Jd(e,l)}}}function Jd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&hx(t,r)}function bL(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:$E(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=n,o=vx;r&&(l=[n],o=mc);const{revoke:u,proxy:f}=Proxy.revocable(l,o);return n.draft_=f,n.revoke_=u,f}var vx={get(e,t){if(t===Wr)return e;const r=rs(e);if(!iy(r,t))return jL(e,r,t);const n=r[t];return e.finalized_||!hs(n)?n:n===ag(e.base_,t)?(ig(e),e.copy_[t]=uy(n,e)):n},has(e,t){return t in rs(e)},ownKeys(e){return Reflect.ownKeys(rs(e))},set(e,t,r){const n=UE(rs(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const l=ag(rs(e),t),o=l?.[Wr];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(hL(r,l)&&(r!==void 0||iy(e.base_,t)))return!0;ig(e),cy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ag(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ig(e),cy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=rs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){On(11)},getPrototypeOf(e){return dc(e.base_)},setPrototypeOf(){On(12)}},mc={};Wd(vx,(e,t)=>{mc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});mc.deleteProperty=function(e,t){return mc.set.call(this,e,t,void 0)};mc.set=function(e,t,r){return vx.set.call(this,e[0],t,r,e[0])};function ag(e,t){const r=e[Wr];return(r?rs(r):e)[t]}function jL(e,t,r){const n=UE(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function UE(e,t){if(!(t in e))return;let r=dc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=dc(r)}}function cy(e){e.modified_||(e.modified_=!0,e.parent_&&cy(e.parent_))}function ig(e){e.copy_||(e.copy_=sy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var NL=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const o=r;r=t;const u=this;return function(m=o,...p){return u.produce(m,h=>r.call(this,h,...p))}}typeof r!="function"&&On(6),n!==void 0&&typeof n!="function"&&On(7);let l;if(hs(t)){const o=OS(this),u=uy(t,void 0);let f=!0;try{l=r(u),f=!1}finally{f?ly(o):oy(o)}return ES(o,n),zS(l,o)}else if(!t||typeof t!="object"){if(l=r(t),l===void 0&&(l=t),l===LE&&(l=void 0),this.autoFreeze_&&hx(l,!0),n){const o=[],u=[];vs("Patches").generateReplacementPatches_(t,l,o,u),n(o,u)}return l}else On(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(u,...f)=>this.produceWithPatches(u,m=>t(m,...f));let n,l;return[this.produce(t,r,(u,f)=>{n=u,l=f}),n,l]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){hs(e)||On(8),kl(e)&&(e=_L(e));const t=OS(this),r=uy(e,void 0);return r[Wr].isManual_=!0,oy(t),r}finishDraft(e,t){const r=e&&e[Wr];(!r||!r.isManual_)&&On(9);const{scope_:n}=r;return ES(n,t),zS(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const l=t[r];if(l.path.length===0&&l.op==="replace"){e=l.value;break}}r>-1&&(t=t.slice(r+1));const n=vs("Patches").applyPatches_;return kl(e)?n(e,t):this.produce(e,l=>n(l,t))}};function uy(e,t){const r=zc(e)?vs("MapSet").proxyMap_(e,t):rm(e)?vs("MapSet").proxySet_(e,t):bL(e,t);return(t?t.scope_:$E()).drafts_.push(r),r}function _L(e){return kl(e)||On(10,e),HE(e)}function HE(e){if(!hs(e)||nm(e))return e;const t=e[Wr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=sy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=sy(e,!0);return Wd(r,(l,o)=>{BE(r,l,HE(o))},n),t&&(t.finalized_=!1),r}var SL=new NL;SL.produce;var wL={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},GE=Ir({name:"legend",initialState:wL,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:bt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,l=Dn(e).payload.indexOf(r);l>-1&&(e.payload[l]=n)},prepare:bt()},removeLegendPayload:{reducer(e,t){var r=Dn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:bt()}}}),{setLegendSize:tX,setLegendSettings:rX,addLegendPayload:AL,replaceLegendPayload:CL,removeLegendPayload:EL}=GE.actions,OL=GE.reducer;function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dy.apply(null,arguments)}function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(n){zL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zL(e,t,r){return(t=ML(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ML(e){var t=DL(e,"string");return typeof t=="symbol"?t:t+""}function DL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TL(e){return Array.isArray(e)&&Jn(e[0])&&Jn(e[1])?e.join(" ~ "):e}var gl={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},PL=e=>{var{separator:t=gl.separator,contentStyle:r,itemStyle:n,labelStyle:l=gl.labelStyle,payload:o,formatter:u,itemSorter:f,wrapperClassName:m,labelClassName:p,label:h,labelFormatter:v,accessibilityLayer:x=gl.accessibilityLayer}=e,b=()=>{if(o&&o.length){var z={padding:0,margin:0},D=(f?If(o,f):o).map((L,T)=>{if(L.type==="none")return null;var q=L.formatter||u||TL,{value:Y,name:X}=L,$=Y,oe=X;if(q){var ue=q(Y,X,L,T,o);if(Array.isArray(ue))[$,oe]=ue;else if(ue!=null)$=ue;else return null}var V=Uo(Uo({},gl.itemStyle),{},{color:L.color||gl.itemStyle.color},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:V},Jn(oe)?j.createElement("span",{className:"recharts-tooltip-item-name"},oe):null,Jn(oe)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},$),j.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:z},D)}return null},_=Uo(Uo({},gl.contentStyle),r),N=Uo({margin:0},l),S=!St(h),A=S?h:"",O=ot("recharts-default-tooltip",m),C=ot("recharts-tooltip-label",p);S&&v&&o!==void 0&&o!==null&&(A=v(h,o));var E=x?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",dy({className:O,style:_},E),j.createElement("p",{className:C,style:N},j.isValidElement(A)?A:"".concat(A)),b())},Ho="recharts-tooltip-wrapper",kL={visibility:"hidden"};function qL(e){var{coordinate:t,translateX:r,translateY:n}=e;return ot(Ho,{["".concat(Ho,"-right")]:Ne(r)&&t&&Ne(t.x)&&r>=t.x,["".concat(Ho,"-left")]:Ne(r)&&t&&Ne(t.x)&&r<t.x,["".concat(Ho,"-bottom")]:Ne(n)&&t&&Ne(t.y)&&n>=t.y,["".concat(Ho,"-top")]:Ne(n)&&t&&Ne(t.y)&&n<t.y})}function TS(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:l,position:o,reverseDirection:u,tooltipDimension:f,viewBox:m,viewBoxDimension:p}=e;if(o&&Ne(o[n]))return o[n];var h=r[n]-f-(l>0?l:0),v=r[n]+l;if(t[n])return u[n]?h:v;var x=m[n];if(x==null)return 0;if(u[n]){var b=h,_=x;return b<_?Math.max(v,x):Math.max(h,x)}if(p==null)return 0;var N=v+f,S=x+p;return N>S?Math.max(h,x):Math.max(v,x)}function RL(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function LL(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:l,position:o,reverseDirection:u,tooltipBox:f,useTranslate3d:m,viewBox:p}=e,h,v,x;return f.height>0&&f.width>0&&r?(v=TS({allowEscapeViewBox:t,coordinate:r,key:"x",offset:l,position:o,reverseDirection:u,tooltipDimension:f.width,viewBox:p,viewBoxDimension:p.width}),x=TS({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:o,reverseDirection:u,tooltipDimension:f.height,viewBox:p,viewBoxDimension:p.height}),h=RL({translateX:v,translateY:x,useTranslate3d:m})):h=kL,{cssProperties:h,cssClasses:qL({translateX:v,translateY:x,coordinate:r})}}function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(r),!0).forEach(function(n){fy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fy(e,t,r){return(t=IL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IL(e){var t=BL(e,"string");return typeof t=="symbol"?t:t+""}function BL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $L extends j.PureComponent{constructor(){super(...arguments),fy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),fy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,l,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(l=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&l!==void 0?l:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:l,children:o,coordinate:u,hasPayload:f,isAnimationActive:m,offset:p,position:h,reverseDirection:v,useTranslate3d:x,viewBox:b,wrapperStyle:_,lastBoundingBox:N,innerRef:S,hasPortalFromProps:A}=this.props,O=typeof p=="number"?p:p.x,C=typeof p=="number"?p:p.y,{cssClasses:E,cssProperties:z}=LL({allowEscapeViewBox:r,coordinate:u,offsetLeft:O,offsetTop:C,position:h,reverseDirection:v,tooltipBox:{height:N.height,width:N.width},useTranslate3d:x,viewBox:b}),D=A?{}:fd(fd({transition:m&&t?"transform ".concat(n,"ms ").concat(l):void 0},z),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&f?"visible":"hidden",position:"absolute",top:0,left:0}),L=fd(fd({},D),{},{visibility:!this.state.dismissed&&t&&f?"visible":"hidden"},_);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:L,ref:S},o)}}var QE=()=>{var e;return(e=Ae(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},my.apply(null,arguments)}function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function qS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){UL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UL(e,t,r){return(t=HL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HL(e){var t=GL(e,"string");return typeof t=="symbol"?t:t+""}function GL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RS={curveBasisClosed:H3,curveBasisOpen:G3,curveBasis:U3,curveBumpX:E3,curveBumpY:O3,curveLinearClosed:Q3,curveLinear:Rf,curveMonotoneX:F3,curveMonotoneY:V3,curveNatural:Y3,curveStep:K3,curveStepAfter:W3,curveStepBefore:X3},ef=e=>Ye(e.x)&&Ye(e.y),LS=e=>e.base!=null&&ef(e.base)&&ef(e),Go=e=>e.x,Qo=e=>e.y,QL=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(wc(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=RS["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return RS[r]||Rf},IS={connectNulls:!1,type:"linear"},FL=e=>{var{type:t=IS.type,points:r=[],baseLine:n,layout:l,connectNulls:o=IS.connectNulls}=e,u=QL(t,l),f=o?r.filter(ef):r;if(Array.isArray(n)){var m,p=r.map((_,N)=>qS(qS({},_),{},{base:n[N]}));l==="vertical"?m=ad().y(Qo).x1(Go).x0(_=>_.base.x):m=ad().x(Go).y1(Qo).y0(_=>_.base.y);var h=m.defined(LS).curve(u),v=o?p.filter(LS):p;return h(v)}var x;l==="vertical"&&Ne(n)?x=ad().y(Qo).x1(Go).x0(n):Ne(n)?x=ad().x(Go).y1(Qo).y0(n):x=N2().x(Go).y(Qo);var b=x.defined(ef).curve(u);return b(f)},FE=e=>{var{className:t,points:r,path:n,pathRef:l}=e,o=_s();if((!r||!r.length)&&!n)return null;var u={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},f=r&&r.length?FL(u):n;return j.createElement("path",my({},Tn(e),tx(e),{className:ot("recharts-curve",t),d:f===null?void 0:f,ref:l}))},VL=["x","y","top","left","width","height","className"];function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(null,arguments)}function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function YL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){KL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KL(e,t,r){return(t=XL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XL(e){var t=WL(e,"string");return typeof t=="symbol"?t:t+""}function WL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZL(e,t){if(e==null)return{};var r,n,l=JL(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function JL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var e6=(e,t,r,n,l,o)=>"M".concat(e,",").concat(l,"v").concat(n,"M").concat(o,",").concat(t,"h").concat(r),t6=e=>{var{x:t=0,y:r=0,top:n=0,left:l=0,width:o=0,height:u=0,className:f}=e,m=ZL(e,VL),p=YL({x:t,y:r,top:n,left:l,width:o,height:u},m);return!Ne(t)||!Ne(r)||!Ne(o)||!Ne(u)||!Ne(n)||!Ne(l)?null:j.createElement("path",py({},Sr(p),{className:ot("recharts-cross",f),d:e6(t,r,o,u,n,l)}))};function r6(e,t,r,n){var l=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-l:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-l,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function US(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(n){n6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n6(e,t,r){return(t=a6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a6(e){var t=i6(e,"string");return typeof t=="symbol"?t:t+""}function i6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s6=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),VE=(e,t,r)=>e.map(n=>"".concat(s6(n)," ").concat(t,"ms ").concat(r)).join(","),l6=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(l=>n.includes(l))),pc=(e,t)=>Object.keys(t).reduce((r,n)=>US(US({},r),{},{[n]:e(n,t[n])}),{});function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){o6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o6(e,t,r){return(t=c6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c6(e){var t=u6(e,"string");return typeof t=="symbol"?t:t+""}function u6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tf=(e,t,r)=>e+(t-e)*r,hy=e=>{var{from:t,to:r}=e;return t!==r},YE=(e,t,r)=>{var n=pc((l,o)=>{if(hy(o)){var[u,f]=e(o.from,o.to,o.velocity);return Ft(Ft({},o),{},{from:u,velocity:f})}return o},t);return r<1?pc((l,o)=>hy(o)&&n[l]!=null?Ft(Ft({},o),{},{velocity:tf(o.velocity,n[l].velocity,r),from:tf(o.from,n[l].from,r)}):o,t):YE(e,n,r-1)};function d6(e,t,r,n,l,o){var u,f=n.reduce((x,b)=>Ft(Ft({},x),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),m=()=>pc((x,b)=>b.from,f),p=()=>!Object.values(f).filter(hy).length,h=null,v=x=>{u||(u=x);var b=x-u,_=b/r.dt;f=YE(r,f,_),l(Ft(Ft(Ft({},e),t),m())),u=x,p()||(h=o.setTimeout(v))};return()=>(h=o.setTimeout(v),()=>{var x;(x=h)===null||x===void 0||x()})}function f6(e,t,r,n,l,o,u){var f=null,m=l.reduce((v,x)=>{var b=e[x],_=t[x];return b==null||_==null?v:Ft(Ft({},v),{},{[x]:[b,_]})},{}),p,h=v=>{p||(p=v);var x=(v-p)/n,b=pc((N,S)=>tf(...S,r(x)),m);if(o(Ft(Ft(Ft({},e),t),b)),x<1)f=u.setTimeout(h);else{var _=pc((N,S)=>tf(...S,r(1)),m);o(Ft(Ft(Ft({},e),t),_))}};return()=>(f=u.setTimeout(h),()=>{var v;(v=f)===null||v===void 0||v()})}const m6=(e,t,r,n,l,o)=>{var u=l6(e,t);return r==null?()=>(l(Ft(Ft({},e),t)),()=>{}):r.isStepper===!0?d6(e,t,r,u,l,o):f6(e,t,r,n,u,l,o)};var rf=1e-4,KE=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],XE=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),GS=(e,t)=>r=>{var n=KE(e,t);return XE(n,r)},p6=(e,t)=>r=>{var n=KE(e,t),l=[...n.map((o,u)=>o*u).slice(1),0];return XE(l,r)},h6=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var l=n.map(o=>parseFloat(o));return[l[0],l[1],l[2],l[3]]},v6=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var l=h6(r[0]);if(l)return l}}return r.length===4?r:[0,0,1,1]},g6=(e,t,r,n)=>{var l=GS(e,r),o=GS(t,n),u=p6(e,r),f=p=>p>1?1:p<0?0:p,m=p=>{for(var h=p>1?1:p,v=h,x=0;x<8;++x){var b=l(v)-h,_=u(v);if(Math.abs(b-h)<rf||_<rf)return o(v);v=f(v-b/_)}return o(v)};return m.isStepper=!1,m},QS=function(){return g6(...v6(...arguments))},y6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:l=17}=t,o=(u,f,m)=>{var p=-(u-f)*r,h=m*n,v=m+(p-h)*l/1e3,x=m*l/1e3+u;return Math.abs(x-f)<rf&&Math.abs(v)<rf?[f,0]:[x,v]};return o.isStepper=!0,o.dt=l,o},x6=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QS(e);case"spring":return y6();default:if(e.split("(")[0]==="cubic-bezier")return QS(e)}return typeof e=="function"?e:null};function b6(e){var t,r=()=>null,n=!1,l=null,o=u=>{if(!n){if(Array.isArray(u)){if(!u.length)return;var f=u,[m,...p]=f;if(typeof m=="number"){l=e.setTimeout(o.bind(null,p),m);return}o(m),l=e.setTimeout(o.bind(null,p));return}typeof u=="string"&&(t=u,r(t)),typeof u=="object"&&(t=u,r(t)),typeof u=="function"&&u()}};return{stop:()=>{n=!0},start:u=>{n=!1,l&&(l(),l=null),o(u)},subscribe:u=>(r=u,()=>{r=()=>null}),getTimeoutController:()=>e}}class j6{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),l=null,o=u=>{u-n>=r?t(u):typeof requestAnimationFrame=="function"&&(l=requestAnimationFrame(o))};return l=requestAnimationFrame(o),()=>{l!=null&&cancelAnimationFrame(l)}}}function N6(){return b6(new j6)}var _6=j.createContext(N6);function S6(e,t){var r=j.useContext(_6);return j.useMemo(()=>t??r(e),[e,t,r])}var w6=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),am={isSsr:w6()},A6={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},FS={t:0},sg={t:1};function im(e){var t=Ar(e,A6),{isActive:r,canBegin:n,duration:l,easing:o,begin:u,onAnimationEnd:f,onAnimationStart:m,children:p}=t,h=r==="auto"?!am.isSsr:r,v=S6(t.animationId,t.animationManager),[x,b]=j.useState(h?FS:sg),_=j.useRef(null);return j.useEffect(()=>{h||b(sg)},[h]),j.useEffect(()=>{if(!h||!n)return Ns;var N=m6(FS,sg,x6(o),l,b,v.getTimeoutController()),S=()=>{_.current=N()};return v.start([m,u,S,l,f]),()=>{v.stop(),_.current&&_.current(),f()}},[h,n,l,o,u,m,f,v]),p(x.t)}function sm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(lc(t)),n=j.useRef(e);return n.current!==e&&(r.current=lc(t),n.current=e),r.current}var C6=["radius"],E6=["radius"],VS,YS,KS,XS,WS,ZS,JS,ew,tw,rw;function nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nw(Object(r),!0).forEach(function(n){O6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O6(e,t,r){return(t=z6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z6(e){var t=M6(e,"string");return typeof t=="symbol"?t:t+""}function M6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(null,arguments)}function iw(e,t){if(e==null)return{};var r,n,l=D6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function D6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var sw=(e,t,r,n,l)=>{var o=_i(r),u=_i(n),f=Math.min(Math.abs(o)/2,Math.abs(u)/2),m=u>=0?1:-1,p=o>=0?1:-1,h=u>=0&&o>=0||u<0&&o<0?1:0,v;if(f>0&&Array.isArray(l)){for(var x=[0,0,0,0],b=0,_=4;b<_;b++){var N,S=(N=l[b])!==null&&N!==void 0?N:0;x[b]=S>f?f:S}v=Ot(VS||(VS=Gn(["M",",",""])),e,t+m*x[0]),x[0]>0&&(v+=Ot(YS||(YS=Gn(["A ",",",",0,0,",",",",",""])),x[0],x[0],h,e+p*x[0],t)),v+=Ot(KS||(KS=Gn(["L ",",",""])),e+r-p*x[1],t),x[1]>0&&(v+=Ot(XS||(XS=Gn(["A ",",",",0,0,",`,
        `,",",""])),x[1],x[1],h,e+r,t+m*x[1])),v+=Ot(WS||(WS=Gn(["L ",",",""])),e+r,t+n-m*x[2]),x[2]>0&&(v+=Ot(ZS||(ZS=Gn(["A ",",",",0,0,",`,
        `,",",""])),x[2],x[2],h,e+r-p*x[2],t+n)),v+=Ot(JS||(JS=Gn(["L ",",",""])),e+p*x[3],t+n),x[3]>0&&(v+=Ot(ew||(ew=Gn(["A ",",",",0,0,",`,
        `,",",""])),x[3],x[3],h,e,t+n-m*x[3])),v+="Z"}else if(f>0&&l===+l&&l>0){var A=Math.min(f,l);v=Ot(tw||(tw=Gn(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+m*A,A,A,h,e+p*A,t,e+r-p*A,t,A,A,h,e+r,t+m*A,e+r,t+n-m*A,A,A,h,e+r-p*A,t+n,e+p*A,t+n,A,A,h,e,t+n-m*A)}else v=Ot(rw||(rw=Gn(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return v},lw={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WE=e=>{var t=Ar(e,lw),r=j.useRef(null),[n,l]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var J=r.current.getTotalLength();J&&l(J)}catch{}},[]);var{x:o,y:u,width:f,height:m,radius:p,className:h}=t,{animationEasing:v,animationDuration:x,animationBegin:b,isAnimationActive:_,isUpdateAnimationActive:N}=t,S=j.useRef(f),A=j.useRef(m),O=j.useRef(o),C=j.useRef(u),E=j.useMemo(()=>({x:o,y:u,width:f,height:m,radius:p}),[o,u,f,m,p]),z=sm(E,"rectangle-");if(o!==+o||u!==+u||f!==+f||m!==+m||f===0||m===0)return null;var D=ot("recharts-rectangle",h);if(!N){var L=Sr(t),{radius:T}=L,q=iw(L,C6);return j.createElement("path",nf({},q,{x:_i(o),y:_i(u),width:_i(f),height:_i(m),radius:typeof p=="number"?p:void 0,className:D,d:sw(o,u,f,m,p)}))}var Y=S.current,X=A.current,$=O.current,oe=C.current,ue="0px ".concat(n===-1?1:n,"px"),V="".concat(n,"px 0px"),k=VE(["strokeDasharray"],x,typeof v=="string"?v:lw.animationEasing);return j.createElement(im,{animationId:z,key:z,canBegin:n>0,duration:x,easing:v,isActive:N,begin:b},J=>{var G=zt(Y,f,J),me=zt(X,m,J),I=zt($,o,J),ve=zt(oe,u,J);r.current&&(S.current=G,A.current=me,O.current=I,C.current=ve);var xe;_?J>0?xe={transition:k,strokeDasharray:V}:xe={strokeDasharray:ue}:xe={strokeDasharray:V};var pe=Sr(t),{radius:ye}=pe,fe=iw(pe,E6);return j.createElement("path",nf({},fe,{radius:typeof p=="number"?p:void 0,className:D,d:sw(I,ve,G,me,p),ref:r,style:aw(aw({},xe),t.style)}))})};function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(n){T6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T6(e,t,r){return(t=P6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P6(e){var t=k6(e,"string");return typeof t=="symbol"?t:t+""}function k6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var af=Math.PI/180,q6=e=>e*180/Math.PI,fr=(e,t,r,n)=>({x:e+Math.cos(-af*n)*r,y:t+Math.sin(-af*n)*r}),R6=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},L6=(e,t)=>{var{x:r,y:n}=e,{x:l,y:o}=t;return Math.sqrt((r-l)**2+(n-o)**2)},I6=(e,t)=>{var{x:r,y:n}=e,{cx:l,cy:o}=t,u=L6({x:r,y:n},{x:l,y:o});if(u<=0)return{radius:u,angle:0};var f=(r-l)/u,m=Math.acos(f);return n>o&&(m=2*Math.PI-m),{radius:u,angle:q6(m),angleInRadian:m}},B6=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),l=Math.floor(r/360),o=Math.min(n,l);return{startAngle:t-o*360,endAngle:r-o*360}},$6=(e,t)=>{var{startAngle:r,endAngle:n}=t,l=Math.floor(r/360),o=Math.floor(n/360),u=Math.min(l,o);return e+u*360},U6=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:l,angle:o}=I6({x:r,y:n},t),{innerRadius:u,outerRadius:f}=t;if(l<u||l>f||l===0)return null;var{startAngle:m,endAngle:p}=B6(t),h=o,v;if(m<=p){for(;h>p;)h-=360;for(;h<m;)h+=360;v=h>=m&&h<=p}else{for(;h>m;)h-=360;for(;h<p;)h+=360;v=h>=p&&h<=m}return v?cw(cw({},t),{},{radius:l,angle:$6(h,t)}):null};function ZE(e){var{cx:t,cy:r,radius:n,startAngle:l,endAngle:o}=e,u=fr(t,r,n,l),f=fr(t,r,n,o);return{points:[u,f],cx:t,cy:r,radius:n,startAngle:l,endAngle:o}}var uw,dw,fw,mw,pw,hw,vw;function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vy.apply(null,arguments)}function as(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var H6=(e,t)=>{var r=kr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},md=e=>{var{cx:t,cy:r,radius:n,angle:l,sign:o,isExternal:u,cornerRadius:f,cornerIsExternal:m}=e,p=f*(u?1:-1)+n,h=Math.asin(f/p)/af,v=m?l:l+o*h,x=fr(t,r,p,v),b=fr(t,r,n,v),_=m?l-o*h:l,N=fr(t,r,p*Math.cos(h*af),_);return{center:x,circleTangency:b,lineTangency:N,theta:h}},JE=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:l,startAngle:o,endAngle:u}=e,f=H6(o,u),m=o+f,p=fr(t,r,l,o),h=fr(t,r,l,m),v=Ot(uw||(uw=as(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),p.x,p.y,l,l,+(Math.abs(f)>180),+(o>m),h.x,h.y);if(n>0){var x=fr(t,r,n,o),b=fr(t,r,n,m);v+=Ot(dw||(dw=as(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,n,n,+(Math.abs(f)>180),+(o<=m),x.x,x.y)}else v+=Ot(fw||(fw=as(["L ",","," Z"])),t,r);return v},G6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:l,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:p}=e,h=kr(p-m),{circleTangency:v,lineTangency:x,theta:b}=md({cx:t,cy:r,radius:l,angle:m,sign:h,cornerRadius:o,cornerIsExternal:f}),{circleTangency:_,lineTangency:N,theta:S}=md({cx:t,cy:r,radius:l,angle:p,sign:-h,cornerRadius:o,cornerIsExternal:f}),A=f?Math.abs(m-p):Math.abs(m-p)-b-S;if(A<0)return u?Ot(mw||(mw=as(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),x.x,x.y,o,o,o*2,o,o,-o*2):JE({cx:t,cy:r,innerRadius:n,outerRadius:l,startAngle:m,endAngle:p});var O=Ot(pw||(pw=as(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),x.x,x.y,o,o,+(h<0),v.x,v.y,l,l,+(A>180),+(h<0),_.x,_.y,o,o,+(h<0),N.x,N.y);if(n>0){var{circleTangency:C,lineTangency:E,theta:z}=md({cx:t,cy:r,radius:n,angle:m,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),{circleTangency:D,lineTangency:L,theta:T}=md({cx:t,cy:r,radius:n,angle:p,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),q=f?Math.abs(m-p):Math.abs(m-p)-z-T;if(q<0&&o===0)return"".concat(O,"L").concat(t,",").concat(r,"Z");O+=Ot(hw||(hw=as(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),L.x,L.y,o,o,+(h<0),D.x,D.y,n,n,+(q>180),+(h>0),C.x,C.y,o,o,+(h<0),E.x,E.y)}else O+=Ot(vw||(vw=as(["L",",","Z"])),t,r);return O},Q6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eO=e=>{var t=Ar(e,Q6),{cx:r,cy:n,innerRadius:l,outerRadius:o,cornerRadius:u,forceCornerRadius:f,cornerIsExternal:m,startAngle:p,endAngle:h,className:v}=t;if(o<l||p===h)return null;var x=ot("recharts-sector",v),b=o-l,_=Pn(u,b,0,!0),N;return _>0&&Math.abs(p-h)<360?N=G6({cx:r,cy:n,innerRadius:l,outerRadius:o,cornerRadius:Math.min(_,b/2),forceCornerRadius:f,cornerIsExternal:m,startAngle:p,endAngle:h}):N=JE({cx:r,cy:n,innerRadius:l,outerRadius:o,startAngle:p,endAngle:h}),j.createElement("path",vy({},Sr(t),{className:x,d:N}))};function F6(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(L2(t)){if(e==="centric"){var{cx:n,cy:l,innerRadius:o,outerRadius:u,angle:f}=t,m=fr(n,l,o,f),p=fr(n,l,u,f);return[{x:m.x,y:m.y},{x:p.x,y:p.y}]}return ZE(t)}}var lg={},og={},cg={},gw;function V6(){return gw||(gw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y2();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(cg)),cg}var yw;function Y6(){return yw||(yw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V6();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(og)),og}var xw;function K6(){return xw||(xw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K2(),r=Y6();function n(l,o,u){u&&typeof u!="number"&&t.isIterateeCall(l,o,u)&&(o=u=void 0),l=r.toFinite(l),o===void 0?(o=l,l=0):o=r.toFinite(o),u=u===void 0?l<o?1:-1:r.toFinite(u);const f=Math.max(Math.ceil((o-l)/(u||1)),0),m=new Array(f);for(let p=0;p<f;p++)m[p]=l,l+=u;return m}e.range=n})(lg)),lg}var ug,bw;function X6(){return bw||(bw=1,ug=K6().range),ug}var W6=X6();const tO=La(W6);function wi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Z6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gx(e){let t,r,n;e.length!==2?(t=wi,r=(f,m)=>wi(e(f),m),n=(f,m)=>e(f)-m):(t=e===wi||e===Z6?e:J6,r=e,n=e);function l(f,m,p=0,h=f.length){if(p<h){if(t(m,m)!==0)return h;do{const v=p+h>>>1;r(f[v],m)<0?p=v+1:h=v}while(p<h)}return p}function o(f,m,p=0,h=f.length){if(p<h){if(t(m,m)!==0)return h;do{const v=p+h>>>1;r(f[v],m)<=0?p=v+1:h=v}while(p<h)}return p}function u(f,m,p=0,h=f.length){const v=l(f,m,p,h-1);return v>p&&n(f[v-1],m)>-n(f[v],m)?v-1:v}return{left:l,center:u,right:o}}function J6(){return 0}function rO(e){return e===null?NaN:+e}function*e8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const t8=gx(wi),Mc=t8.right;gx(rO).center;class jw extends Map{constructor(t,r=a8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,l]of t)this.set(n,l)}get(t){return super.get(Nw(this,t))}has(t){return super.has(Nw(this,t))}set(t,r){return super.set(r8(this,t),r)}delete(t){return super.delete(n8(this,t))}}function Nw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function r8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function n8({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function a8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function i8(e=wi){if(e===wi)return nO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function nO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const s8=Math.sqrt(50),l8=Math.sqrt(10),o8=Math.sqrt(2);function sf(e,t,r){const n=(t-e)/Math.max(0,r),l=Math.floor(Math.log10(n)),o=n/Math.pow(10,l),u=o>=s8?10:o>=l8?5:o>=o8?2:1;let f,m,p;return l<0?(p=Math.pow(10,-l)/u,f=Math.round(e*p),m=Math.round(t*p),f/p<e&&++f,m/p>t&&--m,p=-p):(p=Math.pow(10,l)*u,f=Math.round(e/p),m=Math.round(t/p),f*p<e&&++f,m*p>t&&--m),m<f&&.5<=r&&r<2?sf(e,t,r*2):[f,m,p]}function gy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[l,o,u]=n?sf(t,e,r):sf(e,t,r);if(!(o>=l))return[];const f=o-l+1,m=new Array(f);if(n)if(u<0)for(let p=0;p<f;++p)m[p]=(o-p)/-u;else for(let p=0;p<f;++p)m[p]=(o-p)*u;else if(u<0)for(let p=0;p<f;++p)m[p]=(l+p)/-u;else for(let p=0;p<f;++p)m[p]=(l+p)*u;return m}function yy(e,t,r){return t=+t,e=+e,r=+r,sf(e,t,r)[2]}function xy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,l=n?yy(t,e,r):yy(e,t,r);return(n?-1:1)*(l<0?1/-l:l)}function _w(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Sw(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function aO(e,t,r=0,n=1/0,l){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(l=l===void 0?nO:i8(l);n>r;){if(n-r>600){const m=n-r+1,p=t-r+1,h=Math.log(m),v=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*v*(m-v)/m)*(p-m/2<0?-1:1),b=Math.max(r,Math.floor(t-p*v/m+x)),_=Math.min(n,Math.floor(t+(m-p)*v/m+x));aO(e,t,b,_,l)}const o=e[t];let u=r,f=n;for(Fo(e,r,t),l(e[n],o)>0&&Fo(e,r,n);u<f;){for(Fo(e,u,f),++u,--f;l(e[u],o)<0;)++u;for(;l(e[f],o)>0;)--f}l(e[r],o)===0?Fo(e,r,f):(++f,Fo(e,f,n)),f<=t&&(r=f+1),t<=f&&(n=f-1)}return e}function Fo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function c8(e,t,r){if(e=Float64Array.from(e8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Sw(e);if(t>=1)return _w(e);var n,l=(n-1)*t,o=Math.floor(l),u=_w(aO(e,o).subarray(0,o+1)),f=Sw(e.subarray(o+1));return u+(f-u)*(l-o)}}function u8(e,t,r=rO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,l=(n-1)*t,o=Math.floor(l),u=+r(e[o],o,e),f=+r(e[o+1],o+1,e);return u+(f-u)*(l-o)}}function d8(e,t,r){e=+e,t=+t,r=(l=arguments.length)<2?(t=e,e=0,1):l<3?1:+r;for(var n=-1,l=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(l);++n<l;)o[n]=e+n*r;return o}function xn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ua(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const by=Symbol("implicit");function yx(){var e=new jw,t=[],r=[],n=by;function l(o){let u=e.get(o);if(u===void 0){if(n!==by)return n;e.set(o,u=t.push(o)-1)}return r[u%r.length]}return l.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new jw;for(const u of o)e.has(u)||e.set(u,t.push(u)-1);return l},l.range=function(o){return arguments.length?(r=Array.from(o),l):r.slice()},l.unknown=function(o){return arguments.length?(n=o,l):n},l.copy=function(){return yx(t,r).unknown(n)},xn.apply(l,arguments),l}function xx(){var e=yx().unknown(void 0),t=e.domain,r=e.range,n=0,l=1,o,u,f=!1,m=0,p=0,h=.5;delete e.unknown;function v(){var x=t().length,b=l<n,_=b?l:n,N=b?n:l;o=(N-_)/Math.max(1,x-m+p*2),f&&(o=Math.floor(o)),_+=(N-_-o*(x-m))*h,u=o*(1-m),f&&(_=Math.round(_),u=Math.round(u));var S=d8(x).map(function(A){return _+o*A});return r(b?S.reverse():S)}return e.domain=function(x){return arguments.length?(t(x),v()):t()},e.range=function(x){return arguments.length?([n,l]=x,n=+n,l=+l,v()):[n,l]},e.rangeRound=function(x){return[n,l]=x,n=+n,l=+l,f=!0,v()},e.bandwidth=function(){return u},e.step=function(){return o},e.round=function(x){return arguments.length?(f=!!x,v()):f},e.padding=function(x){return arguments.length?(m=Math.min(1,p=+x),v()):m},e.paddingInner=function(x){return arguments.length?(m=Math.min(1,x),v()):m},e.paddingOuter=function(x){return arguments.length?(p=+x,v()):p},e.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),v()):h},e.copy=function(){return xx(t(),[n,l]).round(f).paddingInner(m).paddingOuter(p).align(h)},xn.apply(v(),arguments)}function iO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return iO(t())},e}function f8(){return iO(xx.apply(null,arguments).paddingInner(1))}function bx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function sO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Dc(){}var hc=.7,lf=1/hc,El="\\s*([+-]?\\d+)\\s*",vc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",m8=/^#([0-9a-f]{3,8})$/,p8=new RegExp(`^rgb\\(${El},${El},${El}\\)$`),h8=new RegExp(`^rgb\\(${Xn},${Xn},${Xn}\\)$`),v8=new RegExp(`^rgba\\(${El},${El},${El},${vc}\\)$`),g8=new RegExp(`^rgba\\(${Xn},${Xn},${Xn},${vc}\\)$`),y8=new RegExp(`^hsl\\(${vc},${Xn},${Xn}\\)$`),x8=new RegExp(`^hsla\\(${vc},${Xn},${Xn},${vc}\\)$`),ww={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bx(Dc,gc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Aw,formatHex:Aw,formatHex8:b8,formatHsl:j8,formatRgb:Cw,toString:Cw});function Aw(){return this.rgb().formatHex()}function b8(){return this.rgb().formatHex8()}function j8(){return lO(this).formatHsl()}function Cw(){return this.rgb().formatRgb()}function gc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=m8.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Ew(t):r===3?new Rr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?pd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?pd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=p8.exec(e))?new Rr(t[1],t[2],t[3],1):(t=h8.exec(e))?new Rr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=v8.exec(e))?pd(t[1],t[2],t[3],t[4]):(t=g8.exec(e))?pd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=y8.exec(e))?Mw(t[1],t[2]/100,t[3]/100,1):(t=x8.exec(e))?Mw(t[1],t[2]/100,t[3]/100,t[4]):ww.hasOwnProperty(e)?Ew(ww[e]):e==="transparent"?new Rr(NaN,NaN,NaN,0):null}function Ew(e){return new Rr(e>>16&255,e>>8&255,e&255,1)}function pd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Rr(e,t,r,n)}function N8(e){return e instanceof Dc||(e=gc(e)),e?(e=e.rgb(),new Rr(e.r,e.g,e.b,e.opacity)):new Rr}function jy(e,t,r,n){return arguments.length===1?N8(e):new Rr(e,t,r,n??1)}function Rr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}bx(Rr,jy,sO(Dc,{brighter(e){return e=e==null?lf:Math.pow(lf,e),new Rr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hc:Math.pow(hc,e),new Rr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rr(us(this.r),us(this.g),us(this.b),of(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ow,formatHex:Ow,formatHex8:_8,formatRgb:zw,toString:zw}));function Ow(){return`#${is(this.r)}${is(this.g)}${is(this.b)}`}function _8(){return`#${is(this.r)}${is(this.g)}${is(this.b)}${is((isNaN(this.opacity)?1:this.opacity)*255)}`}function zw(){const e=of(this.opacity);return`${e===1?"rgb(":"rgba("}${us(this.r)}, ${us(this.g)}, ${us(this.b)}${e===1?")":`, ${e})`}`}function of(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function us(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function is(e){return e=us(e),(e<16?"0":"")+e.toString(16)}function Mw(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new zn(e,t,r,n)}function lO(e){if(e instanceof zn)return new zn(e.h,e.s,e.l,e.opacity);if(e instanceof Dc||(e=gc(e)),!e)return new zn;if(e instanceof zn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,l=Math.min(t,r,n),o=Math.max(t,r,n),u=NaN,f=o-l,m=(o+l)/2;return f?(t===o?u=(r-n)/f+(r<n)*6:r===o?u=(n-t)/f+2:u=(t-r)/f+4,f/=m<.5?o+l:2-o-l,u*=60):f=m>0&&m<1?0:u,new zn(u,f,m,e.opacity)}function S8(e,t,r,n){return arguments.length===1?lO(e):new zn(e,t,r,n??1)}function zn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}bx(zn,S8,sO(Dc,{brighter(e){return e=e==null?lf:Math.pow(lf,e),new zn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hc:Math.pow(hc,e),new zn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,l=2*r-n;return new Rr(dg(e>=240?e-240:e+120,l,n),dg(e,l,n),dg(e<120?e+240:e-120,l,n),this.opacity)},clamp(){return new zn(Dw(this.h),hd(this.s),hd(this.l),of(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=of(this.opacity);return`${e===1?"hsl(":"hsla("}${Dw(this.h)}, ${hd(this.s)*100}%, ${hd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Dw(e){return e=(e||0)%360,e<0?e+360:e}function hd(e){return Math.max(0,Math.min(1,e||0))}function dg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const jx=e=>()=>e;function w8(e,t){return function(r){return e+r*t}}function A8(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function C8(e){return(e=+e)==1?oO:function(t,r){return r-t?A8(t,r,e):jx(isNaN(t)?r:t)}}function oO(e,t){var r=t-e;return r?w8(e,r):jx(isNaN(e)?t:e)}const Tw=(function e(t){var r=C8(t);function n(l,o){var u=r((l=jy(l)).r,(o=jy(o)).r),f=r(l.g,o.g),m=r(l.b,o.b),p=oO(l.opacity,o.opacity);return function(h){return l.r=u(h),l.g=f(h),l.b=m(h),l.opacity=p(h),l+""}}return n.gamma=e,n})(1);function E8(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),l;return function(o){for(l=0;l<r;++l)n[l]=e[l]*(1-o)+t[l]*o;return n}}function O8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function z8(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,l=new Array(n),o=new Array(r),u;for(u=0;u<n;++u)l[u]=Il(e[u],t[u]);for(;u<r;++u)o[u]=t[u];return function(f){for(u=0;u<n;++u)o[u]=l[u](f);return o}}function M8(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function cf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function D8(e,t){var r={},n={},l;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(l in t)l in e?r[l]=Il(e[l],t[l]):n[l]=t[l];return function(o){for(l in r)n[l]=r[l](o);return n}}var Ny=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fg=new RegExp(Ny.source,"g");function T8(e){return function(){return e}}function P8(e){return function(t){return e(t)+""}}function k8(e,t){var r=Ny.lastIndex=fg.lastIndex=0,n,l,o,u=-1,f=[],m=[];for(e=e+"",t=t+"";(n=Ny.exec(e))&&(l=fg.exec(t));)(o=l.index)>r&&(o=t.slice(r,o),f[u]?f[u]+=o:f[++u]=o),(n=n[0])===(l=l[0])?f[u]?f[u]+=l:f[++u]=l:(f[++u]=null,m.push({i:u,x:cf(n,l)})),r=fg.lastIndex;return r<t.length&&(o=t.slice(r),f[u]?f[u]+=o:f[++u]=o),f.length<2?m[0]?P8(m[0].x):T8(t):(t=m.length,function(p){for(var h=0,v;h<t;++h)f[(v=m[h]).i]=v.x(p);return f.join("")})}function Il(e,t){var r=typeof t,n;return t==null||r==="boolean"?jx(t):(r==="number"?cf:r==="string"?(n=gc(t))?(t=n,Tw):k8:t instanceof gc?Tw:t instanceof Date?M8:O8(t)?E8:Array.isArray(t)?z8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?D8:cf)(e,t)}function Nx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function q8(e,t){t===void 0&&(t=e,e=Il);for(var r=0,n=t.length-1,l=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(l,l=t[++r]);return function(u){var f=Math.max(0,Math.min(n-1,Math.floor(u*=n)));return o[f](u-f)}}function R8(e){return function(){return e}}function uf(e){return+e}var Pw=[0,1];function _r(e){return e}function _y(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:R8(isNaN(t)?NaN:.5)}function L8(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function I8(e,t,r){var n=e[0],l=e[1],o=t[0],u=t[1];return l<n?(n=_y(l,n),o=r(u,o)):(n=_y(n,l),o=r(o,u)),function(f){return o(n(f))}}function B8(e,t,r){var n=Math.min(e.length,t.length)-1,l=new Array(n),o=new Array(n),u=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<n;)l[u]=_y(e[u],e[u+1]),o[u]=r(t[u],t[u+1]);return function(f){var m=Mc(e,f,1,n)-1;return o[m](l[m](f))}}function Tc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function lm(){var e=Pw,t=Pw,r=Il,n,l,o,u=_r,f,m,p;function h(){var x=Math.min(e.length,t.length);return u!==_r&&(u=L8(e[0],e[x-1])),f=x>2?B8:I8,m=p=null,v}function v(x){return x==null||isNaN(x=+x)?o:(m||(m=f(e.map(n),t,r)))(n(u(x)))}return v.invert=function(x){return u(l((p||(p=f(t,e.map(n),cf)))(x)))},v.domain=function(x){return arguments.length?(e=Array.from(x,uf),h()):e.slice()},v.range=function(x){return arguments.length?(t=Array.from(x),h()):t.slice()},v.rangeRound=function(x){return t=Array.from(x),r=Nx,h()},v.clamp=function(x){return arguments.length?(u=x?!0:_r,h()):u!==_r},v.interpolate=function(x){return arguments.length?(r=x,h()):r},v.unknown=function(x){return arguments.length?(o=x,v):o},function(x,b){return n=x,l=b,h()}}function _x(){return lm()(_r,_r)}function $8(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function df(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ql(e){return e=df(Math.abs(e)),e?e[1]:NaN}function U8(e,t){return function(r,n){for(var l=r.length,o=[],u=0,f=e[0],m=0;l>0&&f>0&&(m+f+1>n&&(f=Math.max(1,n-m)),o.push(r.substring(l-=f,l+f)),!((m+=f+1)>n));)f=e[u=(u+1)%e.length];return o.reverse().join(t)}}function H8(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var G8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yc(e){if(!(t=G8.exec(e)))throw new Error("invalid format: "+e);var t;return new Sx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yc.prototype=Sx.prototype;function Sx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Sx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Q8(e){e:for(var t=e.length,r=1,n=-1,l;r<t;++r)switch(e[r]){case".":n=l=r;break;case"0":n===0&&(n=r),l=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(l+1):e}var ff;function F8(e,t){var r=df(e,t);if(!r)return ff=void 0,e.toPrecision(t);var n=r[0],l=r[1],o=l-(ff=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,u=n.length;return o===u?n:o>u?n+new Array(o-u+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+df(e,Math.max(0,t+o-1))[0]}function kw(e,t){var r=df(e,t);if(!r)return e+"";var n=r[0],l=r[1];return l<0?"0."+new Array(-l).join("0")+n:n.length>l+1?n.slice(0,l+1)+"."+n.slice(l+1):n+new Array(l-n.length+2).join("0")}const qw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:$8,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>kw(e*100,t),r:kw,s:F8,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Rw(e){return e}var Lw=Array.prototype.map,Iw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function V8(e){var t=e.grouping===void 0||e.thousands===void 0?Rw:U8(Lw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",l=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Rw:H8(Lw.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function p(v,x){v=yc(v);var b=v.fill,_=v.align,N=v.sign,S=v.symbol,A=v.zero,O=v.width,C=v.comma,E=v.precision,z=v.trim,D=v.type;D==="n"?(C=!0,D="g"):qw[D]||(E===void 0&&(E=12),z=!0,D="g"),(A||b==="0"&&_==="=")&&(A=!0,b="0",_="=");var L=(x&&x.prefix!==void 0?x.prefix:"")+(S==="$"?r:S==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():""),T=(S==="$"?n:/[%p]/.test(D)?u:"")+(x&&x.suffix!==void 0?x.suffix:""),q=qw[D],Y=/[defgprs%]/.test(D);E=E===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function X($){var oe=L,ue=T,V,k,J;if(D==="c")ue=q($)+ue,$="";else{$=+$;var G=$<0||1/$<0;if($=isNaN($)?m:q(Math.abs($),E),z&&($=Q8($)),G&&+$==0&&N!=="+"&&(G=!1),oe=(G?N==="("?N:f:N==="-"||N==="("?"":N)+oe,ue=(D==="s"&&!isNaN($)&&ff!==void 0?Iw[8+ff/3]:"")+ue+(G&&N==="("?")":""),Y){for(V=-1,k=$.length;++V<k;)if(J=$.charCodeAt(V),48>J||J>57){ue=(J===46?l+$.slice(V+1):$.slice(V))+ue,$=$.slice(0,V);break}}}C&&!A&&($=t($,1/0));var me=oe.length+$.length+ue.length,I=me<O?new Array(O-me+1).join(b):"";switch(C&&A&&($=t(I+$,I.length?O-ue.length:1/0),I=""),_){case"<":$=oe+$+ue+I;break;case"=":$=oe+I+$+ue;break;case"^":$=I.slice(0,me=I.length>>1)+oe+$+ue+I.slice(me);break;default:$=I+oe+$+ue;break}return o($)}return X.toString=function(){return v+""},X}function h(v,x){var b=Math.max(-8,Math.min(8,Math.floor(ql(x)/3)))*3,_=Math.pow(10,-b),N=p((v=yc(v),v.type="f",v),{suffix:Iw[8+b/3]});return function(S){return N(_*S)}}return{format:p,formatPrefix:h}}var vd,wx,cO;Y8({thousands:",",grouping:[3],currency:["$",""]});function Y8(e){return vd=V8(e),wx=vd.format,cO=vd.formatPrefix,vd}function K8(e){return Math.max(0,-ql(Math.abs(e)))}function X8(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ql(t)/3)))*3-ql(Math.abs(e)))}function W8(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ql(t)-ql(e))+1}function uO(e,t,r,n){var l=xy(e,t,r),o;switch(n=yc(n??",f"),n.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=X8(l,u))&&(n.precision=o),cO(n,u)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=W8(l,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=K8(l))&&(n.precision=o-(n.type==="%")*2);break}}return wx(n)}function Mi(e){var t=e.domain;return e.ticks=function(r){var n=t();return gy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var l=t();return uO(l[0],l[l.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),l=0,o=n.length-1,u=n[l],f=n[o],m,p,h=10;for(f<u&&(p=u,u=f,f=p,p=l,l=o,o=p);h-- >0;){if(p=yy(u,f,r),p===m)return n[l]=u,n[o]=f,t(n);if(p>0)u=Math.floor(u/p)*p,f=Math.ceil(f/p)*p;else if(p<0)u=Math.ceil(u*p)/p,f=Math.floor(f*p)/p;else break;m=p}return e},e}function dO(){var e=_x();return e.copy=function(){return Tc(e,dO())},xn.apply(e,arguments),Mi(e)}function fO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,uf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return fO(e).unknown(t)},e=arguments.length?Array.from(e,uf):[0,1],Mi(r)}function mO(e,t){e=e.slice();var r=0,n=e.length-1,l=e[r],o=e[n],u;return o<l&&(u=r,r=n,n=u,u=l,l=o,o=u),e[r]=t.floor(l),e[n]=t.ceil(o),e}function Bw(e){return Math.log(e)}function $w(e){return Math.exp(e)}function Z8(e){return-Math.log(-e)}function J8(e){return-Math.exp(-e)}function eI(e){return isFinite(e)?+("1e"+e):e<0?0:e}function tI(e){return e===10?eI:e===Math.E?Math.exp:t=>Math.pow(e,t)}function rI(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Uw(e){return(t,r)=>-e(-t,r)}function Ax(e){const t=e(Bw,$w),r=t.domain;let n=10,l,o;function u(){return l=rI(n),o=tI(n),r()[0]<0?(l=Uw(l),o=Uw(o),e(Z8,J8)):e(Bw,$w),t}return t.base=function(f){return arguments.length?(n=+f,u()):n},t.domain=function(f){return arguments.length?(r(f),u()):r()},t.ticks=f=>{const m=r();let p=m[0],h=m[m.length-1];const v=h<p;v&&([p,h]=[h,p]);let x=l(p),b=l(h),_,N;const S=f==null?10:+f;let A=[];if(!(n%1)&&b-x<S){if(x=Math.floor(x),b=Math.ceil(b),p>0){for(;x<=b;++x)for(_=1;_<n;++_)if(N=x<0?_/o(-x):_*o(x),!(N<p)){if(N>h)break;A.push(N)}}else for(;x<=b;++x)for(_=n-1;_>=1;--_)if(N=x>0?_/o(-x):_*o(x),!(N<p)){if(N>h)break;A.push(N)}A.length*2<S&&(A=gy(p,h,S))}else A=gy(x,b,Math.min(b-x,S)).map(o);return v?A.reverse():A},t.tickFormat=(f,m)=>{if(f==null&&(f=10),m==null&&(m=n===10?"s":","),typeof m!="function"&&(!(n%1)&&(m=yc(m)).precision==null&&(m.trim=!0),m=wx(m)),f===1/0)return m;const p=Math.max(1,n*f/t.ticks().length);return h=>{let v=h/o(Math.round(l(h)));return v*n<n-.5&&(v*=n),v<=p?m(h):""}},t.nice=()=>r(mO(r(),{floor:f=>o(Math.floor(l(f))),ceil:f=>o(Math.ceil(l(f)))})),t}function pO(){const e=Ax(lm()).domain([1,10]);return e.copy=()=>Tc(e,pO()).base(e.base()),xn.apply(e,arguments),e}function Hw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Gw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Cx(e){var t=1,r=e(Hw(t),Gw(t));return r.constant=function(n){return arguments.length?e(Hw(t=+n),Gw(t)):t},Mi(r)}function hO(){var e=Cx(lm());return e.copy=function(){return Tc(e,hO()).constant(e.constant())},xn.apply(e,arguments)}function Qw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function nI(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function aI(e){return e<0?-e*e:e*e}function Ex(e){var t=e(_r,_r),r=1;function n(){return r===1?e(_r,_r):r===.5?e(nI,aI):e(Qw(r),Qw(1/r))}return t.exponent=function(l){return arguments.length?(r=+l,n()):r},Mi(t)}function Ox(){var e=Ex(lm());return e.copy=function(){return Tc(e,Ox()).exponent(e.exponent())},xn.apply(e,arguments),e}function iI(){return Ox.apply(null,arguments).exponent(.5)}function Fw(e){return Math.sign(e)*e*e}function sI(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function vO(){var e=_x(),t=[0,1],r=!1,n;function l(o){var u=sI(e(o));return isNaN(u)?n:r?Math.round(u):u}return l.invert=function(o){return e.invert(Fw(o))},l.domain=function(o){return arguments.length?(e.domain(o),l):e.domain()},l.range=function(o){return arguments.length?(e.range((t=Array.from(o,uf)).map(Fw)),l):t.slice()},l.rangeRound=function(o){return l.range(o).round(!0)},l.round=function(o){return arguments.length?(r=!!o,l):r},l.clamp=function(o){return arguments.length?(e.clamp(o),l):e.clamp()},l.unknown=function(o){return arguments.length?(n=o,l):n},l.copy=function(){return vO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},xn.apply(l,arguments),Mi(l)}function gO(){var e=[],t=[],r=[],n;function l(){var u=0,f=Math.max(1,t.length);for(r=new Array(f-1);++u<f;)r[u-1]=u8(e,u/f);return o}function o(u){return u==null||isNaN(u=+u)?n:t[Mc(r,u)]}return o.invertExtent=function(u){var f=t.indexOf(u);return f<0?[NaN,NaN]:[f>0?r[f-1]:e[0],f<r.length?r[f]:e[e.length-1]]},o.domain=function(u){if(!arguments.length)return e.slice();e=[];for(let f of u)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(wi),l()},o.range=function(u){return arguments.length?(t=Array.from(u),l()):t.slice()},o.unknown=function(u){return arguments.length?(n=u,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return gO().domain(e).range(t).unknown(n)},xn.apply(o,arguments)}function yO(){var e=0,t=1,r=1,n=[.5],l=[0,1],o;function u(m){return m!=null&&m<=m?l[Mc(n,m,0,r)]:o}function f(){var m=-1;for(n=new Array(r);++m<r;)n[m]=((m+1)*t-(m-r)*e)/(r+1);return u}return u.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,f()):[e,t]},u.range=function(m){return arguments.length?(r=(l=Array.from(m)).length-1,f()):l.slice()},u.invertExtent=function(m){var p=l.indexOf(m);return p<0?[NaN,NaN]:p<1?[e,n[0]]:p>=r?[n[r-1],t]:[n[p-1],n[p]]},u.unknown=function(m){return arguments.length&&(o=m),u},u.thresholds=function(){return n.slice()},u.copy=function(){return yO().domain([e,t]).range(l).unknown(o)},xn.apply(Mi(u),arguments)}function xO(){var e=[.5],t=[0,1],r,n=1;function l(o){return o!=null&&o<=o?t[Mc(e,o,0,n)]:r}return l.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),l):e.slice()},l.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),l):t.slice()},l.invertExtent=function(o){var u=t.indexOf(o);return[e[u-1],e[u]]},l.unknown=function(o){return arguments.length?(r=o,l):r},l.copy=function(){return xO().domain(e).range(t).unknown(r)},xn.apply(l,arguments)}const mg=new Date,pg=new Date;function Vt(e,t,r,n){function l(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return l.floor=o=>(e(o=new Date(+o)),o),l.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),l.round=o=>{const u=l(o),f=l.ceil(o);return o-u<f-o?u:f},l.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),l.range=(o,u,f)=>{const m=[];if(o=l.ceil(o),f=f==null?1:Math.floor(f),!(o<u)||!(f>0))return m;let p;do m.push(p=new Date(+o)),t(o,f),e(o);while(p<o&&o<u);return m},l.filter=o=>Vt(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,f)=>{if(u>=u)if(f<0)for(;++f<=0;)for(;t(u,-1),!o(u););else for(;--f>=0;)for(;t(u,1),!o(u););}),r&&(l.count=(o,u)=>(mg.setTime(+o),pg.setTime(+u),e(mg),e(pg),Math.floor(r(mg,pg))),l.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?l.filter(n?u=>n(u)%o===0:u=>l.count(0,u)%o===0):l)),l}const mf=Vt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);mf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Vt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):mf);mf.range;const wa=1e3,hn=wa*60,Aa=hn*60,Da=Aa*24,zx=Da*7,Vw=Da*30,hg=Da*365,ss=Vt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wa)},(e,t)=>(t-e)/wa,e=>e.getUTCSeconds());ss.range;const Mx=Vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wa)},(e,t)=>{e.setTime(+e+t*hn)},(e,t)=>(t-e)/hn,e=>e.getMinutes());Mx.range;const Dx=Vt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*hn)},(e,t)=>(t-e)/hn,e=>e.getUTCMinutes());Dx.range;const Tx=Vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wa-e.getMinutes()*hn)},(e,t)=>{e.setTime(+e+t*Aa)},(e,t)=>(t-e)/Aa,e=>e.getHours());Tx.range;const Px=Vt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Aa)},(e,t)=>(t-e)/Aa,e=>e.getUTCHours());Px.range;const Pc=Vt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*hn)/Da,e=>e.getDate()-1);Pc.range;const om=Vt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Da,e=>e.getUTCDate()-1);om.range;const bO=Vt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Da,e=>Math.floor(e/Da));bO.range;function Ss(e){return Vt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*hn)/zx)}const cm=Ss(0),pf=Ss(1),lI=Ss(2),oI=Ss(3),Rl=Ss(4),cI=Ss(5),uI=Ss(6);cm.range;pf.range;lI.range;oI.range;Rl.range;cI.range;uI.range;function ws(e){return Vt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/zx)}const um=ws(0),hf=ws(1),dI=ws(2),fI=ws(3),Ll=ws(4),mI=ws(5),pI=ws(6);um.range;hf.range;dI.range;fI.range;Ll.range;mI.range;pI.range;const kx=Vt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());kx.range;const qx=Vt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());qx.range;const Ta=Vt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ta.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ta.range;const Pa=Vt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Pa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Pa.range;function jO(e,t,r,n,l,o){const u=[[ss,1,wa],[ss,5,5*wa],[ss,15,15*wa],[ss,30,30*wa],[o,1,hn],[o,5,5*hn],[o,15,15*hn],[o,30,30*hn],[l,1,Aa],[l,3,3*Aa],[l,6,6*Aa],[l,12,12*Aa],[n,1,Da],[n,2,2*Da],[r,1,zx],[t,1,Vw],[t,3,3*Vw],[e,1,hg]];function f(p,h,v){const x=h<p;x&&([p,h]=[h,p]);const b=v&&typeof v.range=="function"?v:m(p,h,v),_=b?b.range(p,+h+1):[];return x?_.reverse():_}function m(p,h,v){const x=Math.abs(h-p)/v,b=gx(([,,S])=>S).right(u,x);if(b===u.length)return e.every(xy(p/hg,h/hg,v));if(b===0)return mf.every(Math.max(xy(p,h,v),1));const[_,N]=u[x/u[b-1][2]<u[b][2]/x?b-1:b];return _.every(N)}return[f,m]}const[hI,vI]=jO(Pa,qx,um,bO,Px,Dx),[gI,yI]=jO(Ta,kx,cm,Pc,Tx,Mx);function vg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function xI(e){var t=e.dateTime,r=e.date,n=e.time,l=e.periods,o=e.days,u=e.shortDays,f=e.months,m=e.shortMonths,p=Yo(l),h=Ko(l),v=Yo(o),x=Ko(o),b=Yo(u),_=Ko(u),N=Yo(f),S=Ko(f),A=Yo(m),O=Ko(m),C={a:J,A:G,b:me,B:I,c:null,d:Jw,e:Jw,f:UI,g:ZI,G:eB,H:II,I:BI,j:$I,L:NO,m:HI,M:GI,p:ve,q:xe,Q:rA,s:nA,S:QI,u:FI,U:VI,V:YI,w:KI,W:XI,x:null,X:null,y:WI,Y:JI,Z:tB,"%":tA},E={a:pe,A:ye,b:fe,B:U,c:null,d:eA,e:eA,f:iB,g:hB,G:gB,H:rB,I:nB,j:aB,L:SO,m:sB,M:lB,p:le,q:we,Q:rA,s:nA,S:oB,u:cB,U:uB,V:dB,w:fB,W:mB,x:null,X:null,y:pB,Y:vB,Z:yB,"%":tA},z={a:Y,A:X,b:$,B:oe,c:ue,d:Ww,e:Ww,f:kI,g:Xw,G:Kw,H:Zw,I:Zw,j:MI,L:PI,m:zI,M:DI,p:q,q:OI,Q:RI,s:LI,S:TI,u:SI,U:wI,V:AI,w:_I,W:CI,x:V,X:k,y:Xw,Y:Kw,Z:EI,"%":qI};C.x=D(r,C),C.X=D(n,C),C.c=D(t,C),E.x=D(r,E),E.X=D(n,E),E.c=D(t,E);function D(re,Q){return function(R){var ne=[],H=-1,ge=0,Pe=re.length,qe,Ge,Gt;for(R instanceof Date||(R=new Date(+R));++H<Pe;)re.charCodeAt(H)===37&&(ne.push(re.slice(ge,H)),(Ge=Yw[qe=re.charAt(++H)])!=null?qe=re.charAt(++H):Ge=qe==="e"?" ":"0",(Gt=Q[qe])&&(qe=Gt(R,Ge)),ne.push(qe),ge=H+1);return ne.push(re.slice(ge,H)),ne.join("")}}function L(re,Q){return function(R){var ne=Vo(1900,void 0,1),H=T(ne,re,R+="",0),ge,Pe;if(H!=R.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(Q&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(ge=gg(Vo(ne.y,0,1)),Pe=ge.getUTCDay(),ge=Pe>4||Pe===0?hf.ceil(ge):hf(ge),ge=om.offset(ge,(ne.V-1)*7),ne.y=ge.getUTCFullYear(),ne.m=ge.getUTCMonth(),ne.d=ge.getUTCDate()+(ne.w+6)%7):(ge=vg(Vo(ne.y,0,1)),Pe=ge.getDay(),ge=Pe>4||Pe===0?pf.ceil(ge):pf(ge),ge=Pc.offset(ge,(ne.V-1)*7),ne.y=ge.getFullYear(),ne.m=ge.getMonth(),ne.d=ge.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),Pe="Z"in ne?gg(Vo(ne.y,0,1)).getUTCDay():vg(Vo(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(Pe+5)%7:ne.w+ne.U*7-(Pe+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,gg(ne)):vg(ne)}}function T(re,Q,R,ne){for(var H=0,ge=Q.length,Pe=R.length,qe,Ge;H<ge;){if(ne>=Pe)return-1;if(qe=Q.charCodeAt(H++),qe===37){if(qe=Q.charAt(H++),Ge=z[qe in Yw?Q.charAt(H++):qe],!Ge||(ne=Ge(re,R,ne))<0)return-1}else if(qe!=R.charCodeAt(ne++))return-1}return ne}function q(re,Q,R){var ne=p.exec(Q.slice(R));return ne?(re.p=h.get(ne[0].toLowerCase()),R+ne[0].length):-1}function Y(re,Q,R){var ne=b.exec(Q.slice(R));return ne?(re.w=_.get(ne[0].toLowerCase()),R+ne[0].length):-1}function X(re,Q,R){var ne=v.exec(Q.slice(R));return ne?(re.w=x.get(ne[0].toLowerCase()),R+ne[0].length):-1}function $(re,Q,R){var ne=A.exec(Q.slice(R));return ne?(re.m=O.get(ne[0].toLowerCase()),R+ne[0].length):-1}function oe(re,Q,R){var ne=N.exec(Q.slice(R));return ne?(re.m=S.get(ne[0].toLowerCase()),R+ne[0].length):-1}function ue(re,Q,R){return T(re,t,Q,R)}function V(re,Q,R){return T(re,r,Q,R)}function k(re,Q,R){return T(re,n,Q,R)}function J(re){return u[re.getDay()]}function G(re){return o[re.getDay()]}function me(re){return m[re.getMonth()]}function I(re){return f[re.getMonth()]}function ve(re){return l[+(re.getHours()>=12)]}function xe(re){return 1+~~(re.getMonth()/3)}function pe(re){return u[re.getUTCDay()]}function ye(re){return o[re.getUTCDay()]}function fe(re){return m[re.getUTCMonth()]}function U(re){return f[re.getUTCMonth()]}function le(re){return l[+(re.getUTCHours()>=12)]}function we(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var Q=D(re+="",C);return Q.toString=function(){return re},Q},parse:function(re){var Q=L(re+="",!1);return Q.toString=function(){return re},Q},utcFormat:function(re){var Q=D(re+="",E);return Q.toString=function(){return re},Q},utcParse:function(re){var Q=L(re+="",!0);return Q.toString=function(){return re},Q}}}var Yw={"-":"",_:" ",0:"0"},rr=/^\s*\d+/,bI=/^%/,jI=/[\\^$*+?|[\]().{}]/g;function Ze(e,t,r){var n=e<0?"-":"",l=(n?-e:e)+"",o=l.length;return n+(o<r?new Array(r-o+1).join(t)+l:l)}function NI(e){return e.replace(jI,"\\$&")}function Yo(e){return new RegExp("^(?:"+e.map(NI).join("|")+")","i")}function Ko(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function _I(e,t,r){var n=rr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function SI(e,t,r){var n=rr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function wI(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function AI(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function CI(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Kw(e,t,r){var n=rr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Xw(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function EI(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function OI(e,t,r){var n=rr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function zI(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Ww(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function MI(e,t,r){var n=rr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Zw(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function DI(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function TI(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function PI(e,t,r){var n=rr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function kI(e,t,r){var n=rr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function qI(e,t,r){var n=bI.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function RI(e,t,r){var n=rr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function LI(e,t,r){var n=rr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Jw(e,t){return Ze(e.getDate(),t,2)}function II(e,t){return Ze(e.getHours(),t,2)}function BI(e,t){return Ze(e.getHours()%12||12,t,2)}function $I(e,t){return Ze(1+Pc.count(Ta(e),e),t,3)}function NO(e,t){return Ze(e.getMilliseconds(),t,3)}function UI(e,t){return NO(e,t)+"000"}function HI(e,t){return Ze(e.getMonth()+1,t,2)}function GI(e,t){return Ze(e.getMinutes(),t,2)}function QI(e,t){return Ze(e.getSeconds(),t,2)}function FI(e){var t=e.getDay();return t===0?7:t}function VI(e,t){return Ze(cm.count(Ta(e)-1,e),t,2)}function _O(e){var t=e.getDay();return t>=4||t===0?Rl(e):Rl.ceil(e)}function YI(e,t){return e=_O(e),Ze(Rl.count(Ta(e),e)+(Ta(e).getDay()===4),t,2)}function KI(e){return e.getDay()}function XI(e,t){return Ze(pf.count(Ta(e)-1,e),t,2)}function WI(e,t){return Ze(e.getFullYear()%100,t,2)}function ZI(e,t){return e=_O(e),Ze(e.getFullYear()%100,t,2)}function JI(e,t){return Ze(e.getFullYear()%1e4,t,4)}function eB(e,t){var r=e.getDay();return e=r>=4||r===0?Rl(e):Rl.ceil(e),Ze(e.getFullYear()%1e4,t,4)}function tB(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ze(t/60|0,"0",2)+Ze(t%60,"0",2)}function eA(e,t){return Ze(e.getUTCDate(),t,2)}function rB(e,t){return Ze(e.getUTCHours(),t,2)}function nB(e,t){return Ze(e.getUTCHours()%12||12,t,2)}function aB(e,t){return Ze(1+om.count(Pa(e),e),t,3)}function SO(e,t){return Ze(e.getUTCMilliseconds(),t,3)}function iB(e,t){return SO(e,t)+"000"}function sB(e,t){return Ze(e.getUTCMonth()+1,t,2)}function lB(e,t){return Ze(e.getUTCMinutes(),t,2)}function oB(e,t){return Ze(e.getUTCSeconds(),t,2)}function cB(e){var t=e.getUTCDay();return t===0?7:t}function uB(e,t){return Ze(um.count(Pa(e)-1,e),t,2)}function wO(e){var t=e.getUTCDay();return t>=4||t===0?Ll(e):Ll.ceil(e)}function dB(e,t){return e=wO(e),Ze(Ll.count(Pa(e),e)+(Pa(e).getUTCDay()===4),t,2)}function fB(e){return e.getUTCDay()}function mB(e,t){return Ze(hf.count(Pa(e)-1,e),t,2)}function pB(e,t){return Ze(e.getUTCFullYear()%100,t,2)}function hB(e,t){return e=wO(e),Ze(e.getUTCFullYear()%100,t,2)}function vB(e,t){return Ze(e.getUTCFullYear()%1e4,t,4)}function gB(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ll(e):Ll.ceil(e),Ze(e.getUTCFullYear()%1e4,t,4)}function yB(){return"+0000"}function tA(){return"%"}function rA(e){return+e}function nA(e){return Math.floor(+e/1e3)}var yl,AO,CO;xB({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xB(e){return yl=xI(e),AO=yl.format,yl.parse,CO=yl.utcFormat,yl.utcParse,yl}function bB(e){return new Date(e)}function jB(e){return e instanceof Date?+e:+new Date(+e)}function Rx(e,t,r,n,l,o,u,f,m,p){var h=_x(),v=h.invert,x=h.domain,b=p(".%L"),_=p(":%S"),N=p("%I:%M"),S=p("%I %p"),A=p("%a %d"),O=p("%b %d"),C=p("%B"),E=p("%Y");function z(D){return(m(D)<D?b:f(D)<D?_:u(D)<D?N:o(D)<D?S:n(D)<D?l(D)<D?A:O:r(D)<D?C:E)(D)}return h.invert=function(D){return new Date(v(D))},h.domain=function(D){return arguments.length?x(Array.from(D,jB)):x().map(bB)},h.ticks=function(D){var L=x();return e(L[0],L[L.length-1],D??10)},h.tickFormat=function(D,L){return L==null?z:p(L)},h.nice=function(D){var L=x();return(!D||typeof D.range!="function")&&(D=t(L[0],L[L.length-1],D??10)),D?x(mO(L,D)):h},h.copy=function(){return Tc(h,Rx(e,t,r,n,l,o,u,f,m,p))},h}function NB(){return xn.apply(Rx(gI,yI,Ta,kx,cm,Pc,Tx,Mx,ss,AO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _B(){return xn.apply(Rx(hI,vI,Pa,qx,um,om,Px,Dx,ss,CO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dm(){var e=0,t=1,r,n,l,o,u=_r,f=!1,m;function p(v){return v==null||isNaN(v=+v)?m:u(l===0?.5:(v=(o(v)-r)*l,f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t]=v,r=o(e=+e),n=o(t=+t),l=r===n?0:1/(n-r),p):[e,t]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(u=v,p):u};function h(v){return function(x){var b,_;return arguments.length?([b,_]=x,u=v(b,_),p):[u(0),u(1)]}}return p.range=h(Il),p.rangeRound=h(Nx),p.unknown=function(v){return arguments.length?(m=v,p):m},function(v){return o=v,r=v(e),n=v(t),l=r===n?0:1/(n-r),p}}function Di(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function EO(){var e=Mi(dm()(_r));return e.copy=function(){return Di(e,EO())},Ua.apply(e,arguments)}function OO(){var e=Ax(dm()).domain([1,10]);return e.copy=function(){return Di(e,OO()).base(e.base())},Ua.apply(e,arguments)}function zO(){var e=Cx(dm());return e.copy=function(){return Di(e,zO()).constant(e.constant())},Ua.apply(e,arguments)}function Lx(){var e=Ex(dm());return e.copy=function(){return Di(e,Lx()).exponent(e.exponent())},Ua.apply(e,arguments)}function SB(){return Lx.apply(null,arguments).exponent(.5)}function MO(){var e=[],t=_r;function r(n){if(n!=null&&!isNaN(n=+n))return t((Mc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let l of n)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(wi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,l)=>t(l/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(l,o)=>c8(e,o/n))},r.copy=function(){return MO(t).domain(e)},Ua.apply(r,arguments)}function fm(){var e=0,t=.5,r=1,n=1,l,o,u,f,m,p=_r,h,v=!1,x;function b(N){return isNaN(N=+N)?x:(N=.5+((N=+h(N))-o)*(n*N<n*o?f:m),p(v?Math.max(0,Math.min(1,N)):N))}b.domain=function(N){return arguments.length?([e,t,r]=N,l=h(e=+e),o=h(t=+t),u=h(r=+r),f=l===o?0:.5/(o-l),m=o===u?0:.5/(u-o),n=o<l?-1:1,b):[e,t,r]},b.clamp=function(N){return arguments.length?(v=!!N,b):v},b.interpolator=function(N){return arguments.length?(p=N,b):p};function _(N){return function(S){var A,O,C;return arguments.length?([A,O,C]=S,p=q8(N,[A,O,C]),b):[p(0),p(.5),p(1)]}}return b.range=_(Il),b.rangeRound=_(Nx),b.unknown=function(N){return arguments.length?(x=N,b):x},function(N){return h=N,l=N(e),o=N(t),u=N(r),f=l===o?0:.5/(o-l),m=o===u?0:.5/(u-o),n=o<l?-1:1,b}}function DO(){var e=Mi(fm()(_r));return e.copy=function(){return Di(e,DO())},Ua.apply(e,arguments)}function TO(){var e=Ax(fm()).domain([.1,1,10]);return e.copy=function(){return Di(e,TO()).base(e.base())},Ua.apply(e,arguments)}function PO(){var e=Cx(fm());return e.copy=function(){return Di(e,PO()).constant(e.constant())},Ua.apply(e,arguments)}function Ix(){var e=Ex(fm());return e.copy=function(){return Di(e,Ix()).exponent(e.exponent())},Ua.apply(e,arguments)}function wB(){return Ix.apply(null,arguments).exponent(.5)}const rc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xx,scaleDiverging:DO,scaleDivergingLog:TO,scaleDivergingPow:Ix,scaleDivergingSqrt:wB,scaleDivergingSymlog:PO,scaleIdentity:fO,scaleImplicit:by,scaleLinear:dO,scaleLog:pO,scaleOrdinal:yx,scalePoint:f8,scalePow:Ox,scaleQuantile:gO,scaleQuantize:yO,scaleRadial:vO,scaleSequential:EO,scaleSequentialLog:OO,scaleSequentialPow:Lx,scaleSequentialQuantile:MO,scaleSequentialSqrt:SB,scaleSequentialSymlog:zO,scaleSqrt:iI,scaleSymlog:hO,scaleThreshold:xO,scaleTime:NB,scaleUtc:_B,tickFormat:uO},Symbol.toStringTag,{value:"Module"}));var Ha=e=>e.chartData,kO=te([Ha],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Bx=(e,t,r,n)=>n?kO(e):Ha(e),AB=(e,t,r)=>r?kO(e):Ha(e);function ka(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ye(t)&&Ye(r))return!0}return!1}function aA(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function qO(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,l,o;if(Ye(r))l=r;else if(typeof r=="function")return;if(Ye(n))o=n;else if(typeof n=="function")return;var u=[l,o];if(ka(u))return u}}function CB(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ka(n))return aA(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[l,o]=e,u,f;if(l==="auto")t!=null&&(u=Math.min(...t));else if(Ne(l))u=l;else if(typeof l=="function")try{t!=null&&(u=l(t?.[0]))}catch{}else if(typeof l=="string"&&hS.test(l)){var m=hS.exec(l);if(m==null||m[1]==null||t==null)u=void 0;else{var p=+m[1];u=t[0]-p}}else u=t?.[0];if(o==="auto")t!=null&&(f=Math.max(...t));else if(Ne(o))f=o;else if(typeof o=="function")try{t!=null&&(f=o(t?.[1]))}catch{}else if(typeof o=="string"&&vS.test(o)){var h=vS.exec(o);if(h==null||h[1]==null||t==null)f=void 0;else{var v=+h[1];f=t[1]+v}}else f=t?.[1];var x=[u,f];if(ka(x))return t==null?x:aA(x,t,r)}}}var Bl=1e9,EB={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ux,Nt=!0,yn="[DecimalError] ",ds=yn+"Invalid argument: ",$x=yn+"Exponent out of range: ",$l=Math.floor,ns=Math.pow,OB=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vr,Jt=1e7,gt=7,RO=9007199254740991,vf=$l(RO/gt),be={};be.absoluteValue=be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};be.comparedTo=be.cmp=function(e){var t,r,n,l,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,l=e.d.length,t=0,r=n<l?n:l;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===l?0:n>l^o.s<0?1:-1};be.decimalPlaces=be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*gt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};be.dividedBy=be.div=function(e){return Ea(this,new this.constructor(e))};be.dividedToIntegerBy=be.idiv=function(e){var t=this,r=t.constructor;return dt(Ea(t,new r(e),0,1),r.precision)};be.equals=be.eq=function(e){return!this.cmp(e)};be.exponent=function(){return Ut(this)};be.greaterThan=be.gt=function(e){return this.cmp(e)>0};be.greaterThanOrEqualTo=be.gte=function(e){return this.cmp(e)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(e){return this.cmp(e)<0};be.lessThanOrEqualTo=be.lte=function(e){return this.cmp(e)<1};be.logarithm=be.log=function(e){var t,r=this,n=r.constructor,l=n.precision,o=l+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Vr))throw Error(yn+"NaN");if(r.s<1)throw Error(yn+(r.s?"NaN":"-Infinity"));return r.eq(Vr)?new n(0):(Nt=!1,t=Ea(xc(r,o),xc(e,o),o),Nt=!0,dt(t,l))};be.minus=be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BO(t,e):LO(t,(e.s=-e.s,e))};be.modulo=be.mod=function(e){var t,r=this,n=r.constructor,l=n.precision;if(e=new n(e),!e.s)throw Error(yn+"NaN");return r.s?(Nt=!1,t=Ea(r,e,0,1).times(e),Nt=!0,r.minus(t)):dt(new n(r),l)};be.naturalExponential=be.exp=function(){return IO(this)};be.naturalLogarithm=be.ln=function(){return xc(this)};be.negated=be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};be.plus=be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LO(t,e):BO(t,(e.s=-e.s,e))};be.precision=be.sd=function(e){var t,r,n,l=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ds+e);if(t=Ut(l)+1,n=l.d.length-1,r=n*gt+1,n=l.d[n],n){for(;n%10==0;n/=10)r--;for(n=l.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};be.squareRoot=be.sqrt=function(){var e,t,r,n,l,o,u,f=this,m=f.constructor;if(f.s<1){if(!f.s)return new m(0);throw Error(yn+"NaN")}for(e=Ut(f),Nt=!1,l=Math.sqrt(+f),l==0||l==1/0?(t=Kn(f.d),(t.length+e)%2==0&&(t+="0"),l=Math.sqrt(t),e=$l((e+1)/2)-(e<0||e%2),l==1/0?t="5e"+e:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new m(t)):n=new m(l.toString()),r=m.precision,l=u=r+3;;)if(o=n,n=o.plus(Ea(f,o,u+2)).times(.5),Kn(o.d).slice(0,u)===(t=Kn(n.d)).slice(0,u)){if(t=t.slice(u-3,u+1),l==u&&t=="4999"){if(dt(o,r+1,0),o.times(o).eq(f)){n=o;break}}else if(t!="9999")break;u+=4}return Nt=!0,dt(n,r)};be.times=be.mul=function(e){var t,r,n,l,o,u,f,m,p,h=this,v=h.constructor,x=h.d,b=(e=new v(e)).d;if(!h.s||!e.s)return new v(0);for(e.s*=h.s,r=h.e+e.e,m=x.length,p=b.length,m<p&&(o=x,x=b,b=o,u=m,m=p,p=u),o=[],u=m+p,n=u;n--;)o.push(0);for(n=p;--n>=0;){for(t=0,l=m+n;l>n;)f=o[l]+b[n]*x[l-n-1]+t,o[l--]=f%Jt|0,t=f/Jt|0;o[l]=(o[l]+t)%Jt|0}for(;!o[--u];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Nt?dt(e,v.precision):e};be.toDecimalPlaces=be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ta(e,0,Bl),t===void 0?t=n.rounding:ta(t,0,8),dt(r,e+Ut(r)+1,t))};be.toExponential=function(e,t){var r,n=this,l=n.constructor;return e===void 0?r=gs(n,!0):(ta(e,0,Bl),t===void 0?t=l.rounding:ta(t,0,8),n=dt(new l(n),e+1,t),r=gs(n,!0,e+1)),r};be.toFixed=function(e,t){var r,n,l=this,o=l.constructor;return e===void 0?gs(l):(ta(e,0,Bl),t===void 0?t=o.rounding:ta(t,0,8),n=dt(new o(l),e+Ut(l)+1,t),r=gs(n.abs(),!1,e+Ut(n)+1),l.isneg()&&!l.isZero()?"-"+r:r)};be.toInteger=be.toint=function(){var e=this,t=e.constructor;return dt(new t(e),Ut(e)+1,t.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(e){var t,r,n,l,o,u,f=this,m=f.constructor,p=12,h=+(e=new m(e));if(!e.s)return new m(Vr);if(f=new m(f),!f.s){if(e.s<1)throw Error(yn+"Infinity");return f}if(f.eq(Vr))return f;if(n=m.precision,e.eq(Vr))return dt(f,n);if(t=e.e,r=e.d.length-1,u=t>=r,o=f.s,u){if((r=h<0?-h:h)<=RO){for(l=new m(Vr),t=Math.ceil(n/gt+4),Nt=!1;r%2&&(l=l.times(f),sA(l.d,t)),r=$l(r/2),r!==0;)f=f.times(f),sA(f.d,t);return Nt=!0,e.s<0?new m(Vr).div(l):dt(l,n)}}else if(o<0)throw Error(yn+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,f.s=1,Nt=!1,l=e.times(xc(f,n+p)),Nt=!0,l=IO(l),l.s=o,l};be.toPrecision=function(e,t){var r,n,l=this,o=l.constructor;return e===void 0?(r=Ut(l),n=gs(l,r<=o.toExpNeg||r>=o.toExpPos)):(ta(e,1,Bl),t===void 0?t=o.rounding:ta(t,0,8),l=dt(new o(l),e,t),r=Ut(l),n=gs(l,e<=r||r<=o.toExpNeg,e)),n};be.toSignificantDigits=be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ta(e,1,Bl),t===void 0?t=n.rounding:ta(t,0,8)),dt(new n(r),e,t)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ut(e),r=e.constructor;return gs(e,t<=r.toExpNeg||t>=r.toExpPos)};function LO(e,t){var r,n,l,o,u,f,m,p,h=e.constructor,v=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Nt?dt(t,v):t;if(m=e.d,p=t.d,u=e.e,l=t.e,m=m.slice(),o=u-l,o){for(o<0?(n=m,o=-o,f=p.length):(n=p,l=u,f=m.length),u=Math.ceil(v/gt),f=u>f?u+1:f+1,o>f&&(o=f,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(f=m.length,o=p.length,f-o<0&&(o=f,n=p,p=m,m=n),r=0;o;)r=(m[--o]=m[o]+p[o]+r)/Jt|0,m[o]%=Jt;for(r&&(m.unshift(r),++l),f=m.length;m[--f]==0;)m.pop();return t.d=m,t.e=l,Nt?dt(t,v):t}function ta(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ds+e)}function Kn(e){var t,r,n,l=e.length-1,o="",u=e[0];if(l>0){for(o+=u,t=1;t<l;t++)n=e[t]+"",r=gt-n.length,r&&(o+=bi(r)),o+=n;u=e[t],n=u+"",r=gt-n.length,r&&(o+=bi(r))}else if(u===0)return"0";for(;u%10===0;)u/=10;return o+u}var Ea=(function(){function e(n,l){var o,u=0,f=n.length;for(n=n.slice();f--;)o=n[f]*l+u,n[f]=o%Jt|0,u=o/Jt|0;return u&&n.unshift(u),n}function t(n,l,o,u){var f,m;if(o!=u)m=o>u?1:-1;else for(f=m=0;f<o;f++)if(n[f]!=l[f]){m=n[f]>l[f]?1:-1;break}return m}function r(n,l,o){for(var u=0;o--;)n[o]-=u,u=n[o]<l[o]?1:0,n[o]=u*Jt+n[o]-l[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,l,o,u){var f,m,p,h,v,x,b,_,N,S,A,O,C,E,z,D,L,T,q=n.constructor,Y=n.s==l.s?1:-1,X=n.d,$=l.d;if(!n.s)return new q(n);if(!l.s)throw Error(yn+"Division by zero");for(m=n.e-l.e,L=$.length,z=X.length,b=new q(Y),_=b.d=[],p=0;$[p]==(X[p]||0);)++p;if($[p]>(X[p]||0)&&--m,o==null?O=o=q.precision:u?O=o+(Ut(n)-Ut(l))+1:O=o,O<0)return new q(0);if(O=O/gt+2|0,p=0,L==1)for(h=0,$=$[0],O++;(p<z||h)&&O--;p++)C=h*Jt+(X[p]||0),_[p]=C/$|0,h=C%$|0;else{for(h=Jt/($[0]+1)|0,h>1&&($=e($,h),X=e(X,h),L=$.length,z=X.length),E=L,N=X.slice(0,L),S=N.length;S<L;)N[S++]=0;T=$.slice(),T.unshift(0),D=$[0],$[1]>=Jt/2&&++D;do h=0,f=t($,N,L,S),f<0?(A=N[0],L!=S&&(A=A*Jt+(N[1]||0)),h=A/D|0,h>1?(h>=Jt&&(h=Jt-1),v=e($,h),x=v.length,S=N.length,f=t(v,N,x,S),f==1&&(h--,r(v,L<x?T:$,x))):(h==0&&(f=h=1),v=$.slice()),x=v.length,x<S&&v.unshift(0),r(N,v,S),f==-1&&(S=N.length,f=t($,N,L,S),f<1&&(h++,r(N,L<S?T:$,S))),S=N.length):f===0&&(h++,N=[0]),_[p++]=h,f&&N[0]?N[S++]=X[E]||0:(N=[X[E]],S=1);while((E++<z||N[0]!==void 0)&&O--)}return _[0]||_.shift(),b.e=m,dt(b,u?o+Ut(b)+1:o)}})();function IO(e,t){var r,n,l,o,u,f,m=0,p=0,h=e.constructor,v=h.precision;if(Ut(e)>16)throw Error($x+Ut(e));if(!e.s)return new h(Vr);for(Nt=!1,f=v,u=new h(.03125);e.abs().gte(.1);)e=e.times(u),p+=5;for(n=Math.log(ns(2,p))/Math.LN10*2+5|0,f+=n,r=l=o=new h(Vr),h.precision=f;;){if(l=dt(l.times(e),f),r=r.times(++m),u=o.plus(Ea(l,r,f)),Kn(u.d).slice(0,f)===Kn(o.d).slice(0,f)){for(;p--;)o=dt(o.times(o),f);return h.precision=v,t==null?(Nt=!0,dt(o,v)):o}o=u}}function Ut(e){for(var t=e.e*gt,r=e.d[0];r>=10;r/=10)t++;return t}function yg(e,t,r){if(t>e.LN10.sd())throw Nt=!0,r&&(e.precision=r),Error(yn+"LN10 precision limit exceeded");return dt(new e(e.LN10),t)}function bi(e){for(var t="";e--;)t+="0";return t}function xc(e,t){var r,n,l,o,u,f,m,p,h,v=1,x=10,b=e,_=b.d,N=b.constructor,S=N.precision;if(b.s<1)throw Error(yn+(b.s?"NaN":"-Infinity"));if(b.eq(Vr))return new N(0);if(t==null?(Nt=!1,p=S):p=t,b.eq(10))return t==null&&(Nt=!0),yg(N,p);if(p+=x,N.precision=p,r=Kn(_),n=r.charAt(0),o=Ut(b),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=Kn(b.d),n=r.charAt(0),v++;o=Ut(b),n>1?(b=new N("0."+r),o++):b=new N(n+"."+r.slice(1))}else return m=yg(N,p+2,S).times(o+""),b=xc(new N(n+"."+r.slice(1)),p-x).plus(m),N.precision=S,t==null?(Nt=!0,dt(b,S)):b;for(f=u=b=Ea(b.minus(Vr),b.plus(Vr),p),h=dt(b.times(b),p),l=3;;){if(u=dt(u.times(h),p),m=f.plus(Ea(u,new N(l),p)),Kn(m.d).slice(0,p)===Kn(f.d).slice(0,p))return f=f.times(2),o!==0&&(f=f.plus(yg(N,p+2,S).times(o+""))),f=Ea(f,new N(v),p),N.precision=S,t==null?(Nt=!0,dt(f,S)):f;f=m,l+=2}}function iA(e,t){var r,n,l;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(l=t.length;t.charCodeAt(l-1)===48;)--l;if(t=t.slice(n,l),t){if(l-=n,r=r-n-1,e.e=$l(r/gt),e.d=[],n=(r+1)%gt,r<0&&(n+=gt),n<l){for(n&&e.d.push(+t.slice(0,n)),l-=gt;n<l;)e.d.push(+t.slice(n,n+=gt));t=t.slice(n),n=gt-t.length}else n-=l;for(;n--;)t+="0";if(e.d.push(+t),Nt&&(e.e>vf||e.e<-vf))throw Error($x+r)}else e.s=0,e.e=0,e.d=[0];return e}function dt(e,t,r){var n,l,o,u,f,m,p,h,v=e.d;for(u=1,o=v[0];o>=10;o/=10)u++;if(n=t-u,n<0)n+=gt,l=t,p=v[h=0];else{if(h=Math.ceil((n+1)/gt),o=v.length,h>=o)return e;for(p=o=v[h],u=1;o>=10;o/=10)u++;n%=gt,l=n-gt+u}if(r!==void 0&&(o=ns(10,u-l-1),f=p/o%10|0,m=t<0||v[h+1]!==void 0||p%o,m=r<4?(f||m)&&(r==0||r==(e.s<0?3:2)):f>5||f==5&&(r==4||m||r==6&&(n>0?l>0?p/ns(10,u-l):0:v[h-1])%10&1||r==(e.s<0?8:7))),t<1||!v[0])return m?(o=Ut(e),v.length=1,t=t-o-1,v[0]=ns(10,(gt-t%gt)%gt),e.e=$l(-t/gt)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(n==0?(v.length=h,o=1,h--):(v.length=h+1,o=ns(10,gt-n),v[h]=l>0?(p/ns(10,u-l)%ns(10,l)|0)*o:0),m)for(;;)if(h==0){(v[0]+=o)==Jt&&(v[0]=1,++e.e);break}else{if(v[h]+=o,v[h]!=Jt)break;v[h--]=0,o=1}for(n=v.length;v[--n]===0;)v.pop();if(Nt&&(e.e>vf||e.e<-vf))throw Error($x+Ut(e));return e}function BO(e,t){var r,n,l,o,u,f,m,p,h,v,x=e.constructor,b=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Nt?dt(t,b):t;if(m=e.d,v=t.d,n=t.e,p=e.e,m=m.slice(),u=p-n,u){for(h=u<0,h?(r=m,u=-u,f=v.length):(r=v,n=p,f=m.length),l=Math.max(Math.ceil(b/gt),f)+2,u>l&&(u=l,r.length=1),r.reverse(),l=u;l--;)r.push(0);r.reverse()}else{for(l=m.length,f=v.length,h=l<f,h&&(f=l),l=0;l<f;l++)if(m[l]!=v[l]){h=m[l]<v[l];break}u=0}for(h&&(r=m,m=v,v=r,t.s=-t.s),f=m.length,l=v.length-f;l>0;--l)m[f++]=0;for(l=v.length;l>u;){if(m[--l]<v[l]){for(o=l;o&&m[--o]===0;)m[o]=Jt-1;--m[o],m[l]+=Jt}m[l]-=v[l]}for(;m[--f]===0;)m.pop();for(;m[0]===0;m.shift())--n;return m[0]?(t.d=m,t.e=n,Nt?dt(t,b):t):new x(0)}function gs(e,t,r){var n,l=Ut(e),o=Kn(e.d),u=o.length;return t?(r&&(n=r-u)>0?o=o.charAt(0)+"."+o.slice(1)+bi(n):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(l<0?"e":"e+")+l):l<0?(o="0."+bi(-l-1)+o,r&&(n=r-u)>0&&(o+=bi(n))):l>=u?(o+=bi(l+1-u),r&&(n=r-l-1)>0&&(o=o+"."+bi(n))):((n=l+1)<u&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-u)>0&&(l+1===u&&(o+="."),o+=bi(n))),e.s<0?"-"+o:o}function sA(e,t){if(e.length>t)return e.length=t,!0}function $O(e){var t,r,n;function l(o){var u=this;if(!(u instanceof l))return new l(o);if(u.constructor=l,o instanceof l){u.s=o.s,u.e=o.e,u.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ds+o);if(o>0)u.s=1;else if(o<0)o=-o,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(o===~~o&&o<1e7){u.e=0,u.d=[o];return}return iA(u,o.toString())}else if(typeof o!="string")throw Error(ds+o);if(o.charCodeAt(0)===45?(o=o.slice(1),u.s=-1):u.s=1,OB.test(o))iA(u,o);else throw Error(ds+o)}if(l.prototype=be,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=$O,l.config=l.set=zB,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return l.config(e),l}function zB(e){if(!e||typeof e!="object")throw Error(yn+"Object expected");var t,r,n,l=["precision",1,Bl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<l.length;t+=3)if((n=e[r=l[t]])!==void 0)if($l(n)===n&&n>=l[t+1]&&n<=l[t+2])this[r]=n;else throw Error(ds+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ds+r+": "+n);return this}var Ux=$O(EB);Vr=new Ux(1);const rt=Ux;function UO(e){var t;return e===0?t=1:t=Math.floor(new rt(e).abs().log(10).toNumber())+1,t}function HO(e,t,r){for(var n=new rt(e),l=0,o=[];n.lt(t)&&l<1e5;)o.push(n.toNumber()),n=n.add(r),l++;return o}var GO=e=>{var[t,r]=e,[n,l]=[t,r];return t>r&&([n,l]=[r,t]),[n,l]},QO=(e,t,r)=>{if(e.lte(0))return new rt(0);var n=UO(e.toNumber()),l=new rt(10).pow(n),o=e.div(l),u=n!==1?.05:.1,f=new rt(Math.ceil(o.div(u).toNumber())).add(r).mul(u),m=f.mul(l);return t?new rt(m.toNumber()):new rt(Math.ceil(m.toNumber()))},MB=(e,t,r)=>{var n=new rt(1),l=new rt(e);if(!l.isint()&&r){var o=Math.abs(e);o<1?(n=new rt(10).pow(UO(e)-1),l=new rt(Math.floor(l.div(n).toNumber())).mul(n)):o>1&&(l=new rt(Math.floor(e)))}else e===0?l=new rt(Math.floor((t-1)/2)):r||(l=new rt(Math.floor(e)));for(var u=Math.floor((t-1)/2),f=[],m=0;m<t;m++)f.push(l.add(new rt(m-u).mul(n)).toNumber());return f},FO=function(t,r,n,l){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new rt(0),tickMin:new rt(0),tickMax:new rt(0)};var u=QO(new rt(r).sub(t).div(n-1),l,o),f;t<=0&&r>=0?f=new rt(0):(f=new rt(t).add(r).div(2),f=f.sub(new rt(f).mod(u)));var m=Math.ceil(f.sub(t).div(u).toNumber()),p=Math.ceil(new rt(r).sub(f).div(u).toNumber()),h=m+p+1;return h>n?FO(t,r,n,l,o+1):(h<n&&(p=r>0?p+(n-h):p,m=r>0?m:m+(n-h)),{step:u,tickMin:f.sub(new rt(m).mul(u)),tickMax:f.add(new rt(p).mul(u))})},DB=function(t){var[r,n]=t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=Math.max(l,2),[f,m]=GO([r,n]);if(f===-1/0||m===1/0){var p=m===1/0?[f,...Array(l-1).fill(1/0)]:[...Array(l-1).fill(-1/0),m];return r>n?p.reverse():p}if(f===m)return MB(f,l,o);var{step:h,tickMin:v,tickMax:x}=FO(f,m,u,o,0),b=HO(v,x.add(new rt(.1).mul(h)),h);return r>n?b.reverse():b},TB=function(t,r){var[n,l]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[u,f]=GO([n,l]);if(u===-1/0||f===1/0)return[n,l];if(u===f)return[u];var m=Math.max(r,2),p=QO(new rt(f).sub(u).div(m-1),o,0),h=[...HO(new rt(u),new rt(f),p),f];return o===!1&&(h=h.map(v=>Math.round(v))),n>l?h.reverse():h},VO=e=>e.rootProps.maxBarSize,PB=e=>e.rootProps.barGap,YO=e=>e.rootProps.barCategoryGap,kB=e=>e.rootProps.barSize,mm=e=>e.rootProps.stackOffset,KO=e=>e.rootProps.reverseStackOrder,Hx=e=>e.options.chartName,Gx=e=>e.rootProps.syncId,XO=e=>e.rootProps.syncMethod,Qx=e=>e.options.eventEmitter,er={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ji={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Qn={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},pm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function hm(e,t,r){if(r!=="auto")return r;if(e!=null)return Ia(e,t)?"category":"number"}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function gf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){qB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qB(e,t,r){return(t=RB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RB(e){var t=LB(e,"string");return typeof t=="symbol"?t:t+""}function LB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oA={allowDataOverflow:Ji.allowDataOverflow,allowDecimals:Ji.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ji.angleAxisId,includeHidden:!1,name:void 0,reversed:Ji.reversed,scale:Ji.scale,tick:Ji.tick,tickCount:void 0,ticks:void 0,type:Ji.type,unit:void 0},cA={allowDataOverflow:Qn.allowDataOverflow,allowDecimals:Qn.allowDecimals,allowDuplicatedCategory:Qn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qn.radiusAxisId,includeHidden:Qn.includeHidden,name:void 0,reversed:Qn.reversed,scale:Qn.scale,tick:Qn.tick,tickCount:Qn.tickCount,ticks:void 0,type:Qn.type,unit:void 0},IB=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Fx=te([IB,RE],(e,t)=>{var r;if(e!=null)return e;var n=(r=hm(t,"angleAxis",oA.type))!==null&&r!==void 0?r:"category";return gf(gf({},oA),{},{type:n})}),BB=(e,t)=>e.polarAxis.radiusAxis[t],Vx=te([BB,RE],(e,t)=>{var r;if(e!=null)return e;var n=(r=hm(t,"radiusAxis",cA.type))!==null&&r!==void 0?r:"category";return gf(gf({},cA),{},{type:n})}),vm=e=>e.polarOptions,Yx=te([Ba,$a,tr],R6),WO=te([vm,Yx],(e,t)=>{if(e!=null)return Pn(e.innerRadius,t,0)}),ZO=te([vm,Yx],(e,t)=>{if(e!=null)return Pn(e.outerRadius,t,t*.8)}),$B=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},JO=te([vm],$B);te([Fx,JO],pm);var ez=te([Yx,WO,ZO],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});te([Vx,ez],pm);var tz=te([nt,vm,WO,ZO,Ba,$a],(e,t,r,n,l,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:u,cy:f,startAngle:m,endAngle:p}=t;return{cx:Pn(u,l,l/2),cy:Pn(f,o,o/2),innerRadius:r,outerRadius:n,startAngle:m,endAngle:p,clockWise:!1}}}),nr=(e,t)=>t,gm=(e,t,r)=>r;function Kx(e){return e?.id}function rz(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:l,dataKey:o}=r,u=new Map;return e.forEach(f=>{var m,p=(m=f.data)!==null&&m!==void 0?m:n;if(!(p==null||p.length===0)){var h=Kx(f);p.forEach((v,x)=>{var b=o==null||l?x:String($t(v,o,null)),_=$t(v,f.dataKey,0),N;u.has(b)?N=u.get(b):N={},Object.assign(N,{[h]:_}),u.set(b,N)})}}),Array.from(u.values())}function ym(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var xm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function bm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function UB(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var ar=e=>{var t=nt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ul=e=>e.tooltip.settings.axisId;function HB(e){if(e in rc)return rc[e]();var t="scale".concat(wc(e));if(t in rc)return rc[t]()}function uA(e){var t=e.ticks,r=e.bandwidth,n=e.range(),l=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(o){function u(){return o.apply(this,arguments)}return u.toString=function(){return o.toString()},u})(()=>l),rangeMin:()=>l[0],rangeMax:()=>l[1],isInRange(o){var u=l[0],f=l[1];return u<=f?o>=u&&o<=f:o>=f&&o<=u},bandwidth:r?()=>r.call(e):void 0,ticks:t?o=>t.call(e,o):void 0,map:(o,u)=>{var f=e(o);if(f!=null){if(e.bandwidth&&u!==null&&u!==void 0&&u.position){var m=e.bandwidth();switch(u.position){case"middle":f+=m/2;break;case"end":f+=m;break}}return f}}}}function dA(e,t,r){if(typeof e=="function")return uA(e.copy().domain(t).range(r));if(e!=null){var n=HB(e);if(n!=null)return n.domain(t).range(r),uA(n)}}var GB=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!ka(t)){for(var r,n,l=0;l<t.length;l++){var o=t[l];Ye(o)&&((r===void 0||o<r)&&(r=o),(n===void 0||o>n)&&(n=o))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function fA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function yf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(r),!0).forEach(function(n){QB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QB(e,t,r){return(t=FB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FB(e){var t=VB(e,"string");return typeof t=="symbol"?t:t+""}function VB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sy=[0,"auto"],Wt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},nz=(e,t)=>e.cartesianAxis.xAxis[t],Ga=(e,t)=>{var r=nz(e,t);return r??Wt},Zt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Sy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ec},az=(e,t)=>e.cartesianAxis.yAxis[t],Qa=(e,t)=>{var r=az(e,t);return r??Zt},YB={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Xx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??YB},Cr=(e,t,r)=>{switch(t){case"xAxis":return Ga(e,r);case"yAxis":return Qa(e,r);case"zAxis":return Xx(e,r);case"angleAxis":return Fx(e,r);case"radiusAxis":return Vx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},KB=(e,t,r)=>{switch(t){case"xAxis":return Ga(e,r);case"yAxis":return Qa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},kc=(e,t,r)=>{switch(t){case"xAxis":return Ga(e,r);case"yAxis":return Qa(e,r);case"angleAxis":return Fx(e,r);case"radiusAxis":return Vx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},iz=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function sz(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var jm=e=>e.graphicalItems.cartesianItems,XB=te([nr,gm],sz),lz=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),qc=te([jm,Cr,XB],lz,{memoizeOptions:{resultEqualityCheck:bm}}),oz=te([qc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(ym)),cz=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),WB=te([qc],cz),uz=e=>e.map(t=>t.data).filter(Boolean).flat(1),ZB=te([qc],uz,{memoizeOptions:{resultEqualityCheck:bm}}),dz=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:l}=t;return e.length>0?e:r.slice(n,l+1)},Wx=te([ZB,Bx],dz),fz=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:$t(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(l=>({value:$t(l,n)}))):e.map(n=>({value:n})),Nm=te([Wx,Cr,qc],fz);function mz(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ed(e){if(Jn(e)||e instanceof Date){var t=Number(e);if(Ye(t))return t}}function mA(e){if(Array.isArray(e)){var t=[Ed(e[0]),Ed(e[1])];return ka(t)?t:void 0}var r=Ed(e);if(r!=null)return[r,r]}function qa(e){return e.map(Ed).filter(qr)}function JB(e,t,r){return!r||typeof t!="number"||Zn(t)?[]:r.length?qa(r.flatMap(n=>{var l=$t(e,n.dataKey),o,u;if(Array.isArray(l)?[o,u]=l:o=u=l,!(!Ye(o)||!Ye(u)))return[t-o,t+u]})):[]}var Yt=e=>{var t=ar(e),r=Ul(e);return kc(e,t,r)},Rc=te([Yt],e=>e?.dataKey),e$=te([oz,Bx,Yt],rz),pz=(e,t,r,n)=>{var l={},o=t.reduce((u,f)=>{if(f.stackId==null)return u;var m=u[f.stackId];return m==null&&(m=[]),m.push(f),u[f.stackId]=m,u},l);return Object.fromEntries(Object.entries(o).map(u=>{var[f,m]=u,p=n?[...m].reverse():m,h=p.map(Kx);return[f,{stackedData:E4(e,h,r),graphicalItems:p}]}))},wy=te([e$,oz,mm,KO],pz),hz=(e,t,r,n)=>{var{dataStartIndex:l,dataEndIndex:o}=t;if(n==null&&r!=="zAxis"){var u=T4(e,l,o);if(!(u!=null&&u[0]===0&&u[1]===0))return u}},t$=te([Cr],e=>e.allowDataOverflow),Zx=e=>{var t;if(e==null||!("domain"in e))return Sy;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=qa(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Sy},vz=te([Cr],Zx),gz=te([vz,t$],qO),r$=te([wy,Ha,nr,gz],hz,{memoizeOptions:{resultEqualityCheck:xm}}),Jx=e=>e.errorBars,n$=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>mz(r,n)),xf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var l=r.filter(Boolean);if(l.length!==0){var o=l.flat(),u=Math.min(...o),f=Math.max(...o);return[u,f]}},yz=(e,t,r,n,l)=>{var o,u;if(r.length>0&&e.forEach(f=>{r.forEach(m=>{var p,h,v=(p=n[m.id])===null||p===void 0?void 0:p.filter(A=>mz(l,A)),x=$t(f,(h=t.dataKey)!==null&&h!==void 0?h:m.dataKey),b=JB(f,x,v);if(b.length>=2){var _=Math.min(...b),N=Math.max(...b);(o==null||_<o)&&(o=_),(u==null||N>u)&&(u=N)}var S=mA(x);S!=null&&(o=o==null?S[0]:Math.min(o,S[0]),u=u==null?S[1]:Math.max(u,S[1]))})}),t?.dataKey!=null&&e.forEach(f=>{var m=mA($t(f,t.dataKey));m!=null&&(o=o==null?m[0]:Math.min(o,m[0]),u=u==null?m[1]:Math.max(u,m[1]))}),Ye(o)&&Ye(u))return[o,u]},a$=te([Wx,Cr,WB,Jx,nr],yz,{memoizeOptions:{resultEqualityCheck:xm}});function i$(e){var{value:t}=e;if(Jn(t)||t instanceof Date)return t}var s$=(e,t,r)=>{var n=e.map(i$).filter(l=>l!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&P2(n))?tO(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},xz=e=>e.referenceElements.dots,Hl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),l$=te([xz,nr,gm],Hl),bz=e=>e.referenceElements.areas,o$=te([bz,nr,gm],Hl),jz=e=>e.referenceElements.lines,c$=te([jz,nr,gm],Hl),Nz=(e,t)=>{if(e!=null){var r=qa(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},u$=te(l$,nr,Nz),_z=(e,t)=>{if(e!=null){var r=qa(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},d$=te([o$,nr],_z);function f$(e){var t;if(e.x!=null)return qa([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:qa(r)}function m$(e){var t;if(e.y!=null)return qa([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:qa(r)}var Sz=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?f$(n):m$(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},p$=te([c$,nr],Sz),h$=te(u$,p$,d$,(e,t,r)=>xf(e,r,t)),wz=(e,t,r,n,l,o,u,f)=>{if(r!=null)return r;var m=u==="vertical"&&f==="xAxis"||u==="horizontal"&&f==="yAxis",p=m?xf(n,o,l):xf(o,l);return CB(t,p,e.allowDataOverflow)},v$=te([Cr,vz,gz,r$,a$,h$,nt,nr],wz,{memoizeOptions:{resultEqualityCheck:xm}}),g$=[0,1],Az=(e,t,r,n,l,o,u)=>{if(!((e==null||r==null||r.length===0)&&u===void 0)){var{dataKey:f,type:m}=e,p=Ia(t,o);if(p&&f==null){var h;return tO(0,(h=r?.length)!==null&&h!==void 0?h:0)}return m==="category"?s$(n,e,p):l==="expand"?g$:u}},eb=te([Cr,nt,Wx,Nm,mm,nr,v$],Az);function y$(e){return e in rc}var Cz=(e,t,r)=>{if(e!=null){var{scale:n,type:l}=e;if(n==="auto")return l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":l==="category"?"band":"linear";if(typeof n=="string"){var o="scale".concat(wc(n));return y$(o)?o:"point"}}},Gl=te([Cr,iz,Hx],Cz);function tb(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?dA(e.scale,r,n):dA(t,r,n)}var Ez=(e,t,r)=>{var n=Zx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ka(e))return DB(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ka(e))return TB(e,t.tickCount,t.allowDecimals)}},rb=te([eb,kc,Gl],Ez),Oz=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&ka(t)&&Array.isArray(r)&&r.length>0){var l,o,u=t[0],f=(l=r[0])!==null&&l!==void 0?l:0,m=t[1],p=(o=r[r.length-1])!==null&&o!==void 0?o:0;return[Math.min(u,f),Math.max(m,p)]}return t},x$=te([Cr,eb,rb,nr],Oz),b$=te(Nm,Cr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(qa(e.map(v=>v.value))).sort((v,x)=>v-x),l=n[0],o=n[n.length-1];if(l==null||o==null)return 1/0;var u=o-l;if(u===0)return 1/0;for(var f=0;f<n.length-1;f++){var m=n[f],p=n[f+1];if(!(m==null||p==null)){var h=p-m;r=Math.min(r,h)}}return r/u}}),zz=te(b$,nt,YO,tr,(e,t,r,n,l)=>l,(e,t,r,n,l)=>{if(!Ye(e))return 0;var o=t==="vertical"?n.height:n.width;if(l==="gap")return e*o/2;if(l==="no-gap"){var u=Pn(r,e*o),f=e*o/2;return f-u-(f-u)/o*u}return 0}),j$=(e,t,r)=>{var n=Ga(e,t);return n==null||typeof n.padding!="string"?0:zz(e,"xAxis",t,r,n.padding)},N$=(e,t,r)=>{var n=Qa(e,t);return n==null||typeof n.padding!="string"?0:zz(e,"yAxis",t,r,n.padding)},_$=te(Ga,j$,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:l}=e;return typeof l=="string"?{left:t,right:t}:{left:((r=l.left)!==null&&r!==void 0?r:0)+t,right:((n=l.right)!==null&&n!==void 0?n:0)+t}}),S$=te(Qa,N$,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:l}=e;return typeof l=="string"?{top:t,bottom:t}:{top:((r=l.top)!==null&&r!==void 0?r:0)+t,bottom:((n=l.bottom)!==null&&n!==void 0?n:0)+t}}),w$=te([tr,_$,Jf,Zf,(e,t,r)=>r],(e,t,r,n,l)=>{var{padding:o}=n;return l?[o.left,r.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),A$=te([tr,nt,S$,Jf,Zf,(e,t,r)=>r],(e,t,r,n,l,o)=>{var{padding:u}=l;return o?[n.height-u.bottom,u.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Lc=(e,t,r,n)=>{var l;switch(t){case"xAxis":return w$(e,r,n);case"yAxis":return A$(e,r,n);case"zAxis":return(l=Xx(e,r))===null||l===void 0?void 0:l.range;case"angleAxis":return JO(e);case"radiusAxis":return ez(e,r);default:return}},Mz=te([Cr,Lc],pm),C$=te([Gl,x$],GB),_m=te([Cr,Gl,C$,Mz],tb);te([qc,Jx,nr],n$);function Dz(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Sm=(e,t)=>t,wm=(e,t,r)=>r,E$=te(Xf,Sm,wm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Dz)),O$=te(Wf,Sm,wm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Dz)),Tz=(e,t)=>({width:e.width,height:t.height}),z$=(e,t)=>{var r=typeof t.width=="number"?t.width:Ec;return{width:r,height:e.height}},Pz=te(tr,Ga,Tz),M$=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},D$=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},T$=te($a,tr,E$,Sm,wm,(e,t,r,n,l)=>{var o={},u;return r.forEach(f=>{var m=Tz(t,f);u==null&&(u=M$(t,n,e));var p=n==="top"&&!l||n==="bottom"&&l;o[f.id]=u-Number(p)*m.height,u+=(p?-1:1)*m.height}),o}),P$=te(Ba,tr,O$,Sm,wm,(e,t,r,n,l)=>{var o={},u;return r.forEach(f=>{var m=z$(t,f);u==null&&(u=D$(t,n,e));var p=n==="left"&&!l||n==="right"&&l;o[f.id]=u-Number(p)*m.width,u+=(p?-1:1)*m.width}),o}),k$=(e,t)=>{var r=Ga(e,t);if(r!=null)return T$(e,r.orientation,r.mirror)},q$=te([tr,Ga,k$,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var l=r?.[n];return l==null?{x:e.left,y:0}:{x:e.left,y:l}}}),R$=(e,t)=>{var r=Qa(e,t);if(r!=null)return P$(e,r.orientation,r.mirror)},L$=te([tr,Qa,R$,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var l=r?.[n];return l==null?{x:0,y:e.top}:{x:l,y:e.top}}}),kz=te(tr,Qa,(e,t)=>{var r=typeof t.width=="number"?t.width:Ec;return{width:r,height:e.height}}),pA=(e,t,r)=>{switch(t){case"xAxis":return Pz(e,r).width;case"yAxis":return kz(e,r).height;default:return}},qz=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:l,type:o,dataKey:u}=r,f=Ia(e,n),m=t.map(p=>p.value);if(u&&f&&o==="category"&&l&&P2(m))return m}},nb=te([nt,Nm,Cr,nr],qz),Rz=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:l,scale:o}=r,u=Ia(e,n);if(u&&(l==="number"||o!=="auto"))return t.map(f=>f.value)}},ab=te([nt,Nm,kc,nr],Rz),hA=te([nt,KB,Gl,_m,nb,ab,Lc,rb,nr],(e,t,r,n,l,o,u,f,m)=>{if(t!=null){var p=Ia(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:o,duplicateDomain:l,isCategorical:p,niceTicks:f,range:u,realScaleType:r,scale:n}}}),I$=(e,t,r,n,l,o,u,f,m)=>{if(!(t==null||n==null)){var p=Ia(e,m),{type:h,ticks:v,tickCount:x}=t,b=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,_=h==="category"&&n.bandwidth?n.bandwidth()/b:0;_=m==="angleAxis"&&o!=null&&o.length>=2?kr(o[0]-o[1])*2*_:_;var N=v||l;return N?N.map((S,A)=>{var O=u?u.indexOf(S):S,C=n.map(O);return Ye(C)?{index:A,coordinate:C+_,value:S,offset:_}:null}).filter(qr):p&&f?f.map((S,A)=>{var O=n.map(S);return Ye(O)?{coordinate:O+_,value:S,index:A,offset:_}:null}).filter(qr):n.ticks?n.ticks(x).map((S,A)=>{var O=n.map(S);return Ye(O)?{coordinate:O+_,value:S,index:A,offset:_}:null}).filter(qr):n.domain().map((S,A)=>{var O=n.map(S);return Ye(O)?{coordinate:O+_,value:u?u[S]:S,index:A,offset:_}:null}).filter(qr)}},Lz=te([nt,kc,Gl,_m,rb,Lc,nb,ab,nr],I$),B$=(e,t,r,n,l,o,u)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var f=Ia(e,u),{tickCount:m}=t,p=0;return p=u==="angleAxis"&&n?.length>=2?kr(n[0]-n[1])*2*p:p,f&&o?o.map((h,v)=>{var x=r.map(h);return Ye(x)?{coordinate:x+p,value:h,index:v,offset:p}:null}).filter(qr):r.ticks?r.ticks(m).map((h,v)=>{var x=r.map(h);return Ye(x)?{coordinate:x+p,value:h,index:v,offset:p}:null}).filter(qr):r.domain().map((h,v)=>{var x=r.map(h);return Ye(x)?{coordinate:x+p,value:l?l[h]:h,index:v,offset:p}:null}).filter(qr)}},Ei=te([nt,kc,_m,Lc,nb,ab,nr],B$),Oi=te(Cr,_m,(e,t)=>{if(!(e==null||t==null))return yf(yf({},e),{},{scale:t})}),$$=te([Cr,Gl,eb,Mz],tb);te((e,t,r)=>Xx(e,r),$$,(e,t)=>{if(!(e==null||t==null))return yf(yf({},e),{},{scale:t})});var U$=te([nt,Xf,Wf],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Iz=e=>e.options.defaultTooltipEventType,Bz=e=>e.options.validateTooltipEventTypes;function $z(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function ib(e,t){var r=Iz(e),n=Bz(e);return $z(t,r,n)}function H$(e){return Ae(t=>ib(t,e))}var Uz=(e,t)=>{var r,n=Number(t);if(!(Zn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},G$=e=>e.tooltip.settings,Ni={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Q$={itemInteraction:{click:Ni,hover:Ni},axisInteraction:{click:Ni,hover:Ni},keyboardInteraction:Ni,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Hz=Ir({name:"tooltip",initialState:Q$,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:bt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,l=Dn(e).tooltipItemPayloads.indexOf(r);l>-1&&(e.tooltipItemPayloads[l]=n)},prepare:bt()},removeTooltipEntrySettings:{reducer(e,t){var r=Dn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:bt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:F$,replaceTooltipEntrySettings:V$,removeTooltipEntrySettings:Y$,setTooltipSettingsState:K$,setActiveMouseOverItemIndex:Gz,mouseLeaveItem:X$,mouseLeaveChart:Qz,setActiveClickItemIndex:W$,setMouseOverAxisIndex:Fz,setMouseClickAxisIndex:Z$,setSyncInteraction:Ay,setKeyboardInteraction:Cy}=Hz.actions,J$=Hz.reducer;function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){eU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eU(e,t,r){return(t=tU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tU(e){var t=rU(e,"string");return typeof t=="symbol"?t:t+""}function rU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nU(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function aU(e){return e.index!=null}var Vz=(e,t,r,n)=>{if(t==null)return Ni;var l=nU(e,t,r);if(l==null)return Ni;if(l.active)return l;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(aU(l)){if(o)return gd(gd({},l),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return gd(gd({},Ni),{},{coordinate:l.coordinate})};function iU(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function sU(e,t){var r=iU(e),n=t[0],l=t[1];if(r===void 0)return!1;var o=Math.min(n,l),u=Math.max(n,l);return r>=o&&r<=u}function lU(e,t,r){if(r==null||t==null)return!0;var n=$t(e,t);return n==null||!ka(r)?!0:sU(n,r)}var sb=(e,t,r,n)=>{var l=e?.index;if(l==null)return null;var o=Number(l);if(!Ye(o))return l;var u=0,f=1/0;t.length>0&&(f=t.length-1);var m=Math.max(u,Math.min(o,f)),p=t[m];return p==null||lU(p,r,n)?String(m):null},Yz=(e,t,r,n,l,o,u)=>{if(o!=null){var f=u[0],m=f?.getPosition(o);if(m!=null)return m;var p=l?.[Number(o)];if(p)return r==="horizontal"?{x:p.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:p.coordinate}}},Kz=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var l;if(r==="hover"?l=e.itemInteraction.hover.graphicalItemId:l=e.itemInteraction.click.graphicalItemId,l==null&&n!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(u=>{var f;return((f=u.settings)===null||f===void 0?void 0:f.graphicalItemId)===l})},Xz=e=>e.options.tooltipPayloadSearcher,Ql=e=>e.tooltip;function gA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function yA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(r),!0).forEach(function(n){oU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oU(e,t,r){return(t=cU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cU(e){var t=uU(e,"string");return typeof t=="symbol"?t:t+""}function uU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dU(e,t){return e??t}var Wz=(e,t,r,n,l,o,u)=>{if(!(t==null||o==null)){var{chartData:f,computedData:m,dataStartIndex:p,dataEndIndex:h}=r,v=[];return e.reduce((x,b)=>{var _,{dataDefinedOnItem:N,settings:S}=b,A=dU(N,f),O=Array.isArray(A)?AE(A,p,h):A,C=(_=S?.dataKey)!==null&&_!==void 0?_:n,E=S?.nameKey,z;if(n&&Array.isArray(O)&&!Array.isArray(O[0])&&u==="axis"?z=k2(O,n,l):z=o(O,t,m,E),Array.isArray(z))z.forEach(L=>{var T=yA(yA({},S),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});x.push(gS({tooltipEntrySettings:T,dataKey:L.dataKey,payload:L.payload,value:$t(L.payload,L.dataKey),name:L.name}))});else{var D;x.push(gS({tooltipEntrySettings:S,dataKey:C,payload:z,value:$t(z,C),name:(D=$t(z,E))!==null&&D!==void 0?D:S?.name}))}return x},v)}},lb=te([Yt,iz,Hx],Cz),fU=te([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),mU=te([ar,Ul],sz),Fl=te([fU,Yt,mU],lz,{memoizeOptions:{resultEqualityCheck:bm}}),pU=te([Fl],e=>e.filter(ym)),hU=te([Fl],uz,{memoizeOptions:{resultEqualityCheck:bm}}),Vl=te([hU,Ha],dz),vU=te([pU,Ha,Yt],rz),ob=te([Vl,Yt,Fl],fz),Zz=te([Yt],Zx),gU=te([Yt],e=>e.allowDataOverflow),Jz=te([Zz,gU],qO),yU=te([Fl],e=>e.filter(ym)),xU=te([vU,yU,mm,KO],pz),bU=te([xU,Ha,ar,Jz],hz),jU=te([Fl],cz),NU=te([Vl,Yt,jU,Jx,ar],yz,{memoizeOptions:{resultEqualityCheck:xm}}),_U=te([xz,ar,Ul],Hl),SU=te([_U,ar],Nz),wU=te([bz,ar,Ul],Hl),AU=te([wU,ar],_z),CU=te([jz,ar,Ul],Hl),EU=te([CU,ar],Sz),OU=te([SU,EU,AU],xf),zU=te([Yt,Zz,Jz,bU,NU,OU,nt,ar],wz),Ic=te([Yt,nt,Vl,ob,mm,ar,zU],Az),MU=te([Ic,Yt,lb],Ez),DU=te([Yt,Ic,MU,ar],Oz),eM=e=>{var t=ar(e),r=Ul(e),n=!1;return Lc(e,t,r,n)},tM=te([Yt,eM],pm),rM=te([Yt,lb,DU,tM],tb),TU=te([nt,ob,Yt,ar],qz),PU=te([nt,ob,Yt,ar],Rz),kU=(e,t,r,n,l,o,u,f)=>{if(t){var{type:m}=t,p=Ia(e,f);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,v=m==="category"&&n.bandwidth?n.bandwidth()/h:0;return v=f==="angleAxis"&&l!=null&&l?.length>=2?kr(l[0]-l[1])*2*v:v,p&&u?u.map((x,b)=>{var _=n.map(x);return Ye(_)?{coordinate:_+v,value:x,index:b,offset:v}:null}).filter(qr):n.domain().map((x,b)=>{var _=n.map(x);return Ye(_)?{coordinate:_+v,value:o?o[x]:x,index:b,offset:v}:null}).filter(qr)}}},Fa=te([nt,Yt,lb,rM,eM,TU,PU,ar],kU),cb=te([Iz,Bz,G$],(e,t,r)=>$z(r.shared,e,t)),nM=e=>e.tooltip.settings.trigger,ub=e=>e.tooltip.settings.defaultIndex,Bc=te([Ql,cb,nM,ub],Vz),ys=te([Bc,Vl,Rc,Ic],sb),aM=te([Fa,ys],Uz),iM=te([Bc],e=>{if(e)return e.dataKey});te([Bc],e=>{if(e)return e.graphicalItemId});var sM=te([Ql,cb,nM,ub],Kz),qU=te([Ba,$a,nt,tr,Fa,ub,sM],Yz),RU=te([Bc,qU],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),LU=te([Bc],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),IU=te([sM,ys,Ha,Rc,aM,Xz,cb],Wz),BU=te([IU],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function bA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(n){$U(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $U(e,t,r){return(t=UU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UU(e){var t=HU(e,"string");return typeof t=="symbol"?t:t+""}function HU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GU=()=>Ae(Yt),QU=()=>{var e=GU(),t=Ae(Fa),r=Ae(rM);return Pl(!e||!r?void 0:bA(bA({},e),{},{scale:r}),t)};function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function xl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(n){FU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FU(e,t,r){return(t=VU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VU(e){var t=YU(e,"string");return typeof t=="symbol"?t:t+""}function YU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KU=(e,t,r,n)=>{var l=t.find(o=>o&&o.index===r);if(l){if(e==="horizontal")return{x:l.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:l.coordinate}}return{x:0,y:0}},XU=(e,t,r,n)=>{var l=t.find(p=>p&&p.index===r);if(l){if(e==="centric"){var o=l.coordinate,{radius:u}=n;return xl(xl(xl({},n),fr(n.cx,n.cy,u,o)),{},{angle:o,radius:u})}var f=l.coordinate,{angle:m}=n;return xl(xl(xl({},n),fr(n.cx,n.cy,f,m)),{},{angle:m,radius:f})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function WU(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var lM=(e,t,r,n,l)=>{var o,u=(o=t?.length)!==null&&o!==void 0?o:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&l!=null&&Math.abs(Math.abs(l[1]-l[0])-360)<=1e-6)for(var f=0;f<u;f++){var m,p,h,v,x,b=f>0?(m=r[f-1])===null||m===void 0?void 0:m.coordinate:(p=r[u-1])===null||p===void 0?void 0:p.coordinate,_=(h=r[f])===null||h===void 0?void 0:h.coordinate,N=f>=u-1?(v=r[0])===null||v===void 0?void 0:v.coordinate:(x=r[f+1])===null||x===void 0?void 0:x.coordinate,S=void 0;if(!(b==null||_==null||N==null))if(kr(_-b)!==kr(N-_)){var A=[];if(kr(N-_)===kr(l[1]-l[0])){S=N;var O=_+l[1]-l[0];A[0]=Math.min(O,(O+b)/2),A[1]=Math.max(O,(O+b)/2)}else{S=b;var C=N+l[1]-l[0];A[0]=Math.min(_,(C+_)/2),A[1]=Math.max(_,(C+_)/2)}var E=[Math.min(_,(S+_)/2),Math.max(_,(S+_)/2)];if(e>E[0]&&e<=E[1]||e>=A[0]&&e<=A[1]){var z;return(z=r[f])===null||z===void 0?void 0:z.index}}else{var D=Math.min(b,N),L=Math.max(b,N);if(e>(D+_)/2&&e<=(L+_)/2){var T;return(T=r[f])===null||T===void 0?void 0:T.index}}}else if(t)for(var q=0;q<u;q++){var Y=t[q];if(Y!=null){var X=t[q+1],$=t[q-1];if(q===0&&X!=null&&e<=(Y.coordinate+X.coordinate)/2||q===u-1&&$!=null&&e>(Y.coordinate+$.coordinate)/2||q>0&&q<u-1&&$!=null&&X!=null&&e>(Y.coordinate+$.coordinate)/2&&e<=(Y.coordinate+X.coordinate)/2)return Y.index}}return-1},ZU=()=>Ae(Hx),db=(e,t)=>t,oM=(e,t,r)=>r,fb=(e,t,r,n)=>n,JU=te(Fa,e=>If(e,t=>t.coordinate)),mb=te([Ql,db,oM,fb],Vz),pb=te([mb,Vl,Rc,Ic],sb),e9=(e,t,r)=>{if(t!=null){var n=Ql(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},cM=te([Ql,db,oM,fb],Kz),bf=te([Ba,$a,nt,tr,Fa,fb,cM],Yz),t9=te([mb,bf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),uM=te([Fa,pb],Uz),r9=te([cM,pb,Ha,Rc,uM,Xz,db],Wz),n9=te([mb,pb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),a9=(e,t,r,n,l,o,u)=>{if(!(!e||!r||!n||!l)&&WU(e,u)){var f=P4(e,t),m=lM(f,o,l,r,n),p=KU(t,l,m,e);return{activeIndex:String(m),activeCoordinate:p}}},i9=(e,t,r,n,l,o,u)=>{if(!(!e||!n||!l||!o||!r)){var f=U6(e,r);if(f){var m=k4(f,t),p=lM(m,u,o,n,l),h=XU(t,o,p,f);return{activeIndex:String(p),activeCoordinate:h}}}},s9=(e,t,r,n,l,o,u,f)=>{if(!(!e||!t||!n||!l||!o))return t==="horizontal"||t==="vertical"?a9(e,t,n,l,o,u,f):i9(e,t,r,n,l,o,u)},l9=te(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),o9=te(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(er)),r=Array.from(new Set(t));return r.sort((n,l)=>n-l)},{memoizeOptions:{resultEqualityCheck:UB}});function NA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function _A(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(r),!0).forEach(function(n){c9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c9(e,t,r){return(t=u9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u9(e){var t=d9(e,"string");return typeof t=="symbol"?t:t+""}function d9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f9={},m9={zIndexMap:Object.values(er).reduce((e,t)=>_A(_A({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),f9)},p9=new Set(Object.values(er));function h9(e){return p9.has(e)}var dM=Ir({name:"zIndex",initialState:m9,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:bt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!h9(r)&&delete e.zIndexMap[r])},prepare:bt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:l}=t.payload;e.zIndexMap[r]?l?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:l?void 0:n,panoramaElement:l?n:void 0}},prepare:bt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:bt()}}}),{registerZIndexPortal:v9,unregisterZIndexPortal:g9,registerZIndexPortalElement:y9,unregisterZIndexPortalElement:x9}=dM.actions,b9=dM.reducer;function bn(e){var{zIndex:t,children:r}=e,n=mL(),l=n&&t!==void 0&&t!==0,o=xr(),u=kt();j.useLayoutEffect(()=>l?(u(v9({zIndex:t})),()=>{u(g9({zIndex:t}))}):Ns,[u,t,l]);var f=Ae(m=>l9(m,t,o));return l?f?VC.createPortal(r,f):null:r}function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(null,arguments)}function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){j9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j9(e,t,r){return(t=N9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N9(e){var t=_9(e,"string");return typeof t=="symbol"?t:t+""}function _9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S9(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return j.isValidElement(t)?j.cloneElement(t,n):j.createElement(r,n)}function w9(e){var t,{coordinate:r,payload:n,index:l,offset:o,tooltipAxisBandSize:u,layout:f,cursor:m,tooltipEventType:p,chartName:h}=e,v=r,x=n,b=l;if(!m||!v||h!=="ScatterChart"&&p!=="axis")return null;var _,N,S;if(h==="ScatterChart")_=v,N=t6,S=er.cursorLine;else if(h==="BarChart")_=r6(f,v,o,u),N=WE,S=er.cursorRectangle;else if(f==="radial"&&L2(v)){var{cx:A,cy:O,radius:C,startAngle:E,endAngle:z}=ZE(v);_={cx:A,cy:O,startAngle:E,endAngle:z,innerRadius:C,outerRadius:C},N=eO,S=er.cursorLine}else _={points:F6(f,v,o)},N=FE,S=er.cursorLine;var D=typeof m=="object"&&"className"in m?m.className:void 0,L=yd(yd(yd(yd({stroke:"#ccc",pointerEvents:"none"},o),_),Sc(m)),{},{payload:x,payloadIndex:b,className:ot("recharts-tooltip-cursor",D)});return j.createElement(bn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:S},j.createElement(S9,{cursor:m,cursorComp:N,cursorProps:L}))}function A9(e){var t=QU(),r=TE(),n=_s(),l=ZU();return t==null||r==null||n==null||l==null?null:j.createElement(w9,Ey({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:l}))}var fM=j.createContext(null),C9=()=>j.useContext(fM),xg={exports:{}},wA;function E9(){return wA||(wA=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function l(m,p,h){this.fn=m,this.context=p,this.once=h||!1}function o(m,p,h,v,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new l(h,v||m,x),_=r?r+p:p;return m._events[_]?m._events[_].fn?m._events[_]=[m._events[_],b]:m._events[_].push(b):(m._events[_]=b,m._eventsCount++),m}function u(m,p){--m._eventsCount===0?m._events=new n:delete m._events[p]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var p=[],h,v;if(this._eventsCount===0)return p;for(v in h=this._events)t.call(h,v)&&p.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(h)):p},f.prototype.listeners=function(p){var h=r?r+p:p,v=this._events[h];if(!v)return[];if(v.fn)return[v.fn];for(var x=0,b=v.length,_=new Array(b);x<b;x++)_[x]=v[x].fn;return _},f.prototype.listenerCount=function(p){var h=r?r+p:p,v=this._events[h];return v?v.fn?1:v.length:0},f.prototype.emit=function(p,h,v,x,b,_){var N=r?r+p:p;if(!this._events[N])return!1;var S=this._events[N],A=arguments.length,O,C;if(S.fn){switch(S.once&&this.removeListener(p,S.fn,void 0,!0),A){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,v),!0;case 4:return S.fn.call(S.context,h,v,x),!0;case 5:return S.fn.call(S.context,h,v,x,b),!0;case 6:return S.fn.call(S.context,h,v,x,b,_),!0}for(C=1,O=new Array(A-1);C<A;C++)O[C-1]=arguments[C];S.fn.apply(S.context,O)}else{var E=S.length,z;for(C=0;C<E;C++)switch(S[C].once&&this.removeListener(p,S[C].fn,void 0,!0),A){case 1:S[C].fn.call(S[C].context);break;case 2:S[C].fn.call(S[C].context,h);break;case 3:S[C].fn.call(S[C].context,h,v);break;case 4:S[C].fn.call(S[C].context,h,v,x);break;default:if(!O)for(z=1,O=new Array(A-1);z<A;z++)O[z-1]=arguments[z];S[C].fn.apply(S[C].context,O)}}return!0},f.prototype.on=function(p,h,v){return o(this,p,h,v,!1)},f.prototype.once=function(p,h,v){return o(this,p,h,v,!0)},f.prototype.removeListener=function(p,h,v,x){var b=r?r+p:p;if(!this._events[b])return this;if(!h)return u(this,b),this;var _=this._events[b];if(_.fn)_.fn===h&&(!x||_.once)&&(!v||_.context===v)&&u(this,b);else{for(var N=0,S=[],A=_.length;N<A;N++)(_[N].fn!==h||x&&!_[N].once||v&&_[N].context!==v)&&S.push(_[N]);S.length?this._events[b]=S.length===1?S[0]:S:u(this,b)}return this},f.prototype.removeAllListeners=function(p){var h;return p?(h=r?r+p:p,this._events[h]&&u(this,h)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=r,f.EventEmitter=f,e.exports=f})(xg)),xg.exports}var O9=E9();const z9=La(O9);var bc=new z9,Oy="recharts.syncEvent.tooltip",AA="recharts.syncEvent.brush",mM=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!Zn(r))return e[r]}},M9={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},pM=Ir({name:"options",initialState:M9,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),D9=pM.reducer,{createEventEmitter:T9}=pM.actions;function P9(e){return e.tooltip.syncInteraction}var k9={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},hM=Ir({name:"chartData",initialState:k9,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:CA,setDataStartEndIndexes:q9,setComputedData:nX}=hM.actions,R9=hM.reducer,L9=["x","y"];function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function bl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(n){I9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I9(e,t,r){return(t=B9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B9(e){var t=$9(e,"string");return typeof t=="symbol"?t:t+""}function $9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U9(e,t){if(e==null)return{};var r,n,l=H9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function H9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function G9(){var e=Ae(Gx),t=Ae(Qx),r=kt(),n=Ae(XO),l=Ae(Fa),o=_s(),u=em(),f=Ae(m=>m.rootProps.className);j.useEffect(()=>{if(e==null)return Ns;var m=(p,h,v)=>{if(t!==v&&e===p){if(n==="index"){var x;if(u&&h!==null&&h!==void 0&&(x=h.payload)!==null&&x!==void 0&&x.coordinate&&h.payload.sourceViewBox){var b=h.payload.coordinate,{x:_,y:N}=b,S=U9(b,L9),{x:A,y:O,width:C,height:E}=h.payload.sourceViewBox,z=bl(bl({},S),{},{x:u.x+(C?(_-A)/C:0)*u.width,y:u.y+(E?(N-O)/E:0)*u.height});r(bl(bl({},h),{},{payload:bl(bl({},h.payload),{},{coordinate:z})}))}else r(h);return}if(l!=null){var D;if(typeof n=="function"){var L={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},T=n(l,L);D=l[T]}else n==="value"&&(D=l.find(k=>String(k.value)===h.payload.label));var{coordinate:q}=h.payload;if(D==null||h.payload.active===!1||q==null||u==null){r(Ay({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:Y,y:X}=q,$=Math.min(Y,u.x+u.width),oe=Math.min(X,u.y+u.height),ue={x:o==="horizontal"?D.coordinate:$,y:o==="horizontal"?oe:D.coordinate},V=Ay({active:h.payload.active,coordinate:ue,dataKey:h.payload.dataKey,index:String(D.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});r(V)}}};return bc.on(Oy,m),()=>{bc.off(Oy,m)}},[f,r,t,e,n,l,o,u])}function Q9(){var e=Ae(Gx),t=Ae(Qx),r=kt();j.useEffect(()=>{if(e==null)return Ns;var n=(l,o,u)=>{t!==u&&e===l&&r(q9(o))};return bc.on(AA,n),()=>{bc.off(AA,n)}},[r,t,e])}function F9(){var e=kt();j.useEffect(()=>{e(T9())},[e]),G9(),Q9()}function V9(e,t,r,n,l,o){var u=Ae(b=>e9(b,e,t)),f=Ae(Qx),m=Ae(Gx),p=Ae(XO),h=Ae(P9),v=h?.active,x=em();j.useEffect(()=>{if(!v&&m!=null&&f!=null){var b=Ay({active:o,coordinate:r,dataKey:u,index:l,label:typeof n=="number"?String(n):n,sourceViewBox:x,graphicalItemId:void 0});bc.emit(Oy,m,b,f)}},[v,r,u,l,n,f,m,p,o,x])}function OA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function zA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(r),!0).forEach(function(n){Y9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y9(e,t,r){return(t=K9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K9(e){var t=X9(e,"string");return typeof t=="symbol"?t:t+""}function X9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W9(e){return e.dataKey}function Z9(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(PL,t)}var MA=[],J9={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function DA(e){var t,r,n=Ar(e,J9),{active:l,allowEscapeViewBox:o,animationDuration:u,animationEasing:f,content:m,filterNull:p,isAnimationActive:h,offset:v,payloadUniqBy:x,position:b,reverseDirection:_,useTranslate3d:N,wrapperStyle:S,cursor:A,shared:O,trigger:C,defaultIndex:E,portal:z,axisId:D}=n,L=kt(),T=typeof E=="number"?String(E):E;j.useEffect(()=>{L(K$({shared:O,trigger:C,axisId:D,active:l,defaultIndex:T}))},[L,O,C,D,l,T]);var q=em(),Y=QE(),X=H$(O),{activeIndex:$,isActive:oe}=(t=Ae(le=>n9(le,X,C,T)))!==null&&t!==void 0?t:{},ue=Ae(le=>r9(le,X,C,T)),V=Ae(le=>uM(le,X,C,T)),k=Ae(le=>t9(le,X,C,T)),J=ue,G=C9(),me=(r=l??oe)!==null&&r!==void 0?r:!1,[I,ve]=x5([J,me]),xe=X==="axis"?V:void 0;V9(X,C,k,xe,$,me);var pe=z??G;if(pe==null||q==null||X==null)return null;var ye=J??MA;me||(ye=MA),p&&ye.length&&(ye=QR(ye.filter(le=>le.value!=null&&(le.hide!==!0||n.includeHidden)),x,W9));var fe=ye.length>0,U=j.createElement($L,{allowEscapeViewBox:o,animationDuration:u,animationEasing:f,isAnimationActive:h,active:me,coordinate:k,hasPayload:fe,offset:v,position:b,reverseDirection:_,useTranslate3d:N,viewBox:q,wrapperStyle:S,lastBoundingBox:I,innerRef:ve,hasPortalFromProps:!!z},Z9(m,zA(zA({},n),{},{payload:ye,label:xe,active:me,activeIndex:$,coordinate:k,accessibilityLayer:Y})));return j.createElement(j.Fragment,null,VC.createPortal(U,pe),me&&j.createElement(A9,{cursor:A,tooltipEventType:X,coordinate:k,payload:ye,index:$}))}var hb=e=>null;hb.displayName="Cell";function e7(e,t,r){return(t=t7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t7(e){var t=r7(e,"string");return typeof t=="symbol"?t:t+""}function r7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class n7{constructor(t){e7(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function TA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function a7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(r),!0).forEach(function(n){i7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i7(e,t,r){return(t=s7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s7(e){var t=l7(e,"string");return typeof t=="symbol"?t:t+""}function l7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o7={cacheSize:2e3,enableCache:!0},vM=a7({},o7),PA=new n7(vM.cacheSize),c7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kA="recharts_measurement_span";function u7(e,t){var r=t.fontSize||"",n=t.fontFamily||"",l=t.fontWeight||"",o=t.fontStyle||"",u=t.letterSpacing||"",f=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(l,"|").concat(o,"|").concat(u,"|").concat(f)}var qA=(e,t)=>{try{var r=document.getElementById(kA);r||(r=document.createElement("span"),r.setAttribute("id",kA),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,c7,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ic=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||am.isSsr)return{width:0,height:0};if(!vM.enableCache)return qA(t,r);var n=u7(t,r),l=PA.get(n);if(l)return l;var o=qA(t,r);return PA.set(n,o),o},gM;function d7(e,t,r){return(t=f7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f7(e){var t=m7(e,"string");return typeof t=="symbol"?t:t+""}function m7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,p7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,h7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,v7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},g7=["cm","mm","pt","pc","in","Q","px"];function y7(e){return g7.includes(e)}var wl="NaN";function x7(e,t){return e*v7[t]}class dr{static parse(t){var r,[,n,l]=(r=h7.exec(t))!==null&&r!==void 0?r:[];return n==null?dr.NaN:new dr(parseFloat(n),l??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Zn(t)&&(this.unit=""),r!==""&&!p7.test(r)&&(this.num=NaN,this.unit=""),y7(r)&&(this.num=x7(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new dr(NaN,""):new dr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new dr(NaN,""):new dr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new dr(NaN,""):new dr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new dr(NaN,""):new dr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Zn(this.num)}}gM=dr;d7(dr,"NaN",new gM(NaN,""));function yM(e){if(e==null||e.includes(wl))return wl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,l,o]=(r=RA.exec(t))!==null&&r!==void 0?r:[],u=dr.parse(n??""),f=dr.parse(o??""),m=l==="*"?u.multiply(f):u.divide(f);if(m.isNaN())return wl;t=t.replace(RA,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,[,h,v,x]=(p=LA.exec(t))!==null&&p!==void 0?p:[],b=dr.parse(h??""),_=dr.parse(x??""),N=v==="+"?b.add(_):b.subtract(_);if(N.isNaN())return wl;t=t.replace(LA,N.toString())}return t}var IA=/\(([^()]*)\)/;function b7(e){for(var t=e,r;(r=IA.exec(t))!=null;){var[,n]=r;t=t.replace(IA,yM(n))}return t}function j7(e){var t=e.replace(/\s+/g,"");return t=b7(t),t=yM(t),t}function N7(e){try{return j7(e)}catch{return wl}}function bg(e){var t=N7(e.slice(5,-1));return t===wl?"":t}var _7=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],S7=["dx","dy","angle","className","breakAll"];function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(null,arguments)}function BA(e,t){if(e==null)return{};var r,n,l=w7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function w7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xM=/[ \f\n\r\t\v\u2028\u2029]+/,bM=e=>{var{children:t,breakAll:r,style:n}=e;try{var l=[];St(t)||(r?l=t.toString().split(""):l=t.toString().split(xM));var o=l.map(f=>({word:f,width:ic(f,n).width})),u=r?0:ic("",n).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}};function A7(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var jM=(e,t,r,n)=>e.reduce((l,o)=>{var{word:u,width:f}=o,m=l[l.length-1];if(m&&f!=null&&(t==null||n||m.width+f+r<Number(t)))m.words.push(u),m.width+=f+r;else{var p={words:[u],width:f};l.push(p)}return l},[]),NM=e=>e.reduce((t,r)=>t.width>r.width?t:r),C7="",$A=(e,t,r,n,l,o,u,f)=>{var m=e.slice(0,t),p=bM({breakAll:r,style:n,children:m+C7});if(!p)return[!1,[]];var h=jM(p.wordsWithComputedWidth,o,u,f),v=h.length>l||NM(h).width>Number(o);return[v,h]},E7=(e,t,r,n,l)=>{var{maxLines:o,children:u,style:f,breakAll:m}=e,p=Ne(o),h=String(u),v=jM(t,n,r,l);if(!p||l)return v;var x=v.length>o||NM(v).width>Number(n);if(!x)return v;for(var b=0,_=h.length-1,N=0,S;b<=_&&N<=h.length-1;){var A=Math.floor((b+_)/2),O=A-1,[C,E]=$A(h,O,m,f,o,n,r,l),[z]=$A(h,A,m,f,o,n,r,l);if(!C&&!z&&(b=A+1),C&&z&&(_=A-1),!C&&z){S=E;break}N++}return S||v},UA=e=>{var t=St(e)?[]:e.toString().split(xM);return[{words:t,width:void 0}]},O7=e=>{var{width:t,scaleToFit:r,children:n,style:l,breakAll:o,maxLines:u}=e;if((t||r)&&!am.isSsr){var f,m,p=bM({breakAll:o,children:n,style:l});if(p){var{wordsWithComputedWidth:h,spaceWidth:v}=p;f=h,m=v}else return UA(n);return E7({breakAll:o,children:n,maxLines:u,style:l},f,m,t,!!r)}return UA(n)},_M="#808080",z7={angle:0,breakAll:!1,capHeight:"0.71em",fill:_M,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},vb=j.forwardRef((e,t)=>{var r=Ar(e,z7),{x:n,y:l,lineHeight:o,capHeight:u,fill:f,scaleToFit:m,textAnchor:p,verticalAnchor:h}=r,v=BA(r,_7),x=j.useMemo(()=>O7({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:m,style:v.style,width:v.width}),[v.breakAll,v.children,v.maxLines,m,v.style,v.width]),{dx:b,dy:_,angle:N,className:S,breakAll:A}=v,O=BA(v,S7);if(!Jn(n)||!Jn(l)||x.length===0)return null;var C=Number(n)+(Ne(b)?b:0),E=Number(l)+(Ne(_)?_:0);if(!Ye(C)||!Ye(E))return null;var z;switch(h){case"start":z=bg("calc(".concat(u,")"));break;case"middle":z=bg("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:z=bg("calc(".concat(x.length-1," * -").concat(o,")"));break}var D=[],L=x[0];if(m&&L!=null){var T=L.width,{width:q}=v;D.push("scale(".concat(Ne(q)&&Ne(T)?q/T:1,")"))}return N&&D.push("rotate(".concat(N,", ").concat(C,", ").concat(E,")")),D.length&&(O.transform=D.join(" ")),j.createElement("text",zy({},Sr(O),{ref:t,x:C,y:E,className:ot("recharts-text",S),textAnchor:p,fill:f.includes("url")?_M:f}),x.map((Y,X)=>{var $=Y.words.join(A?"":" ");return j.createElement("tspan",{x:C,dy:X===0?z:o,key:"".concat($,"-").concat(X)},$)}))});vb.displayName="Text";function HA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(r),!0).forEach(function(n){M7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M7(e,t,r){return(t=D7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D7(e){var t=T7(e,"string");return typeof t=="symbol"?t:t+""}function T7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P7=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:l}=e,{x:o,y:u,height:f,upperWidth:m,lowerWidth:p}=px(t),h=o,v=o+(m-p)/2,x=(h+v)/2,b=(m+p)/2,_=h+m/2,N=f>=0?1:-1,S=N*n,A=N>0?"end":"start",O=N>0?"start":"end",C=m>=0?1:-1,E=C*n,z=C>0?"end":"start",D=C>0?"start":"end",L=l;if(r==="top"){var T={x:h+m/2,y:u-S,horizontalAnchor:"middle",verticalAnchor:A};return L&&(T.height=Math.max(u-L.y,0),T.width=m),T}if(r==="bottom"){var q={x:v+p/2,y:u+f+S,horizontalAnchor:"middle",verticalAnchor:O};return L&&(q.height=Math.max(L.y+L.height-(u+f),0),q.width=p),q}if(r==="left"){var Y={x:x-E,y:u+f/2,horizontalAnchor:z,verticalAnchor:"middle"};return L&&(Y.width=Math.max(Y.x-L.x,0),Y.height=f),Y}if(r==="right"){var X={x:x+b+E,y:u+f/2,horizontalAnchor:D,verticalAnchor:"middle"};return L&&(X.width=Math.max(L.x+L.width-X.x,0),X.height=f),X}var $=L?{width:b,height:f}:{};return r==="insideLeft"?Fn({x:x+E,y:u+f/2,horizontalAnchor:D,verticalAnchor:"middle"},$):r==="insideRight"?Fn({x:x+b-E,y:u+f/2,horizontalAnchor:z,verticalAnchor:"middle"},$):r==="insideTop"?Fn({x:h+m/2,y:u+S,horizontalAnchor:"middle",verticalAnchor:O},$):r==="insideBottom"?Fn({x:v+p/2,y:u+f-S,horizontalAnchor:"middle",verticalAnchor:A},$):r==="insideTopLeft"?Fn({x:h+E,y:u+S,horizontalAnchor:D,verticalAnchor:O},$):r==="insideTopRight"?Fn({x:h+m-E,y:u+S,horizontalAnchor:z,verticalAnchor:O},$):r==="insideBottomLeft"?Fn({x:v+E,y:u+f-S,horizontalAnchor:D,verticalAnchor:A},$):r==="insideBottomRight"?Fn({x:v+p-E,y:u+f-S,horizontalAnchor:z,verticalAnchor:A},$):r&&typeof r=="object"&&(Ne(r.x)||ms(r.x))&&(Ne(r.y)||ms(r.y))?Fn({x:o+Pn(r.x,b),y:u+Pn(r.y,f),horizontalAnchor:"end",verticalAnchor:"end"},$):Fn({x:_,y:u+f/2,horizontalAnchor:"middle",verticalAnchor:"middle"},$)},k7=["labelRef"],q7=["content"];function GA(e,t){if(e==null)return{};var r,n,l=R7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function R7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(r),!0).forEach(function(n){L7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L7(e,t,r){return(t=I7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I7(e){var t=B7(e,"string");return typeof t=="symbol"?t:t+""}function B7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sa.apply(null,arguments)}var SM=j.createContext(null),$7=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:l,width:o,height:u,children:f}=e,m=j.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:l,width:o,height:u}),[t,r,n,l,o,u]);return j.createElement(SM.Provider,{value:m},f)},wM=()=>{var e=j.useContext(SM),t=em();return e||(t?px(t):void 0)},U7=j.createContext(null),H7=()=>{var e=j.useContext(U7),t=Ae(tz);return e||t},G7=e=>{var{value:t,formatter:r}=e,n=St(e.children)?t:e.children;return typeof r=="function"?r(n):n},gb=e=>e!=null&&typeof e=="function",Q7=(e,t)=>{var r=kr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},F7=(e,t,r,n,l)=>{var{offset:o,className:u}=e,{cx:f,cy:m,innerRadius:p,outerRadius:h,startAngle:v,endAngle:x,clockWise:b}=l,_=(p+h)/2,N=Q7(v,x),S=N>=0?1:-1,A,O;switch(t){case"insideStart":A=v+S*o,O=b;break;case"insideEnd":A=x-S*o,O=!b;break;case"end":A=x+S*o,O=b;break;default:throw new Error("Unsupported position ".concat(t))}O=N<=0?O:!O;var C=fr(f,m,_,A),E=fr(f,m,_,A+(O?1:-1)*359),z="M".concat(C.x,",").concat(C.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(O?0:1,`,
    `).concat(E.x,",").concat(E.y),D=St(e.id)?lc("recharts-radial-line-"):e.id;return j.createElement("text",Sa({},n,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",u)}),j.createElement("defs",null,j.createElement("path",{id:D,d:z})),j.createElement("textPath",{xlinkHref:"#".concat(D)},r))},V7=(e,t,r)=>{var{cx:n,cy:l,innerRadius:o,outerRadius:u,startAngle:f,endAngle:m}=e,p=(f+m)/2;if(r==="outside"){var{x:h,y:v}=fr(n,l,u+t,p);return{x:h,y:v,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:l,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(o+u)/2,{x:b,y:_}=fr(n,l,x,p);return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Od=e=>e!=null&&"cx"in e&&Ne(e.cx),Y7={angle:0,offset:5,zIndex:er.label,position:"middle",textBreakAll:!1};function K7(e){if(!Od(e))return e;var{cx:t,cy:r,outerRadius:n}=e,l=n*2;return{x:t-n,y:r-n,width:l,upperWidth:l,lowerWidth:l,height:l}}function ji(e){var t=Ar(e,Y7),{viewBox:r,parentViewBox:n,position:l,value:o,children:u,content:f,className:m="",textBreakAll:p,labelRef:h}=t,v=H7(),x=wM(),b=l==="center"?x:v??x,_,N,S;r==null?_=b:Od(r)?_=r:_=px(r);var A=K7(_);if(!_||St(o)&&St(u)&&!j.isValidElement(f)&&typeof f!="function")return null;var O=nc(nc({},t),{},{viewBox:_});if(j.isValidElement(f)){var{labelRef:C}=O,E=GA(O,k7);return j.cloneElement(f,E)}if(typeof f=="function"){var{content:z}=O,D=GA(O,q7);if(N=j.createElement(f,D),j.isValidElement(N))return N}else N=G7(t);var L=Sr(t);if(Od(_)){if(l==="insideStart"||l==="insideEnd"||l==="end")return F7(t,l,N,L,_);S=V7(_,t.offset,t.position)}else{if(!A)return null;var T=P7({viewBox:A,position:l,offset:t.offset,parentViewBox:Od(n)?void 0:n});S=nc(nc({x:T.x,y:T.y,textAnchor:T.horizontalAnchor,verticalAnchor:T.verticalAnchor},T.width!==void 0?{width:T.width}:{}),T.height!==void 0?{height:T.height}:{})}return j.createElement(bn,{zIndex:t.zIndex},j.createElement(vb,Sa({ref:h,className:ot("recharts-label",m)},L,S,{textAnchor:A7(L.textAnchor)?L.textAnchor:S.textAnchor,breakAll:p}),N))}ji.displayName="Label";var X7=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?j.createElement(ji,Sa({key:"label-implicit"},n)):Jn(e)?j.createElement(ji,Sa({key:"label-implicit",value:e},n)):j.isValidElement(e)?e.type===ji?j.cloneElement(e,nc({key:"label-implicit"},n)):j.createElement(ji,Sa({key:"label-implicit",content:e},n)):gb(e)?j.createElement(ji,Sa({key:"label-implicit",content:e},n)):e&&typeof e=="object"?j.createElement(ji,Sa({},e,{key:"label-implicit"},n)):null};function W7(e){var{label:t,labelRef:r}=e,n=wM();return X7(t,n,r)||null}var jg={},Ng={},FA;function Z7(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Ng)),Ng}var _g={},VA;function J7(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(_g)),_g}var YA;function eH(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z7(),r=J7(),n=nx();function l(o){if(n.isArrayLike(o))return t.last(r.toArray(o))}e.last=l})(jg)),jg}var Sg,KA;function tH(){return KA||(KA=1,Sg=eH().last),Sg}var rH=tH();const nH=La(rH);var aH=["valueAccessor"],iH=["dataKey","clockWise","id","textBreakAll","zIndex"];function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(null,arguments)}function XA(e,t){if(e==null)return{};var r,n,l=sH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function sH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lH=e=>Array.isArray(e.value)?nH(e.value):e.value,AM=j.createContext(void 0),CM=AM.Provider,EM=j.createContext(void 0);EM.Provider;function oH(){return j.useContext(AM)}function cH(){return j.useContext(EM)}function zd(e){var{valueAccessor:t=lH}=e,r=XA(e,aH),{dataKey:n,clockWise:l,id:o,textBreakAll:u,zIndex:f}=r,m=XA(r,iH),p=oH(),h=cH(),v=p||h;return!v||!v.length?null:j.createElement(bn,{zIndex:f??er.label},j.createElement(vn,{className:"recharts-label-list"},v.map((x,b)=>{var _,N=St(n)?t(x,b):$t(x.payload,n),S=St(o)?{}:{id:"".concat(o,"-").concat(b)};return j.createElement(ji,jf({key:"label-".concat(b)},Sr(x),m,S,{fill:(_=r.fill)!==null&&_!==void 0?_:x.fill,parentViewBox:x.parentViewBox,value:N,textBreakAll:u,viewBox:x.viewBox,index:b,zIndex:0}))})))}zd.displayName="LabelList";function OM(e){var{label:t}=e;return t?t===!0?j.createElement(zd,{key:"labelList-implicit"}):j.isValidElement(t)||gb(t)?j.createElement(zd,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(zd,jf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},My.apply(null,arguments)}var zM=e=>{var{cx:t,cy:r,r:n,className:l}=e,o=ot("recharts-dot",l);return Ne(t)&&Ne(r)&&Ne(n)?j.createElement("circle",My({},Tn(e),tx(e),{className:o,cx:t,cy:r,r:n})):null},uH={radiusAxis:{},angleAxis:{}},MM=Ir({name:"polarAxis",initialState:uH,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:aX,removeRadiusAxis:iX,addAngleAxis:sX,removeAngleAxis:lX}=MM.actions,dH=MM.reducer;function fH(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var wg={exports:{}},lt={};var WA;function mH(){if(WA)return lt;WA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function _(N){if(typeof N=="object"&&N!==null){var S=N.$$typeof;switch(S){case e:switch(N=N.type,N){case r:case l:case n:case m:case p:case x:return N;default:switch(N=N&&N.$$typeof,N){case u:case f:case v:case h:return N;case o:return N;default:return S}}case t:return S}}}return lt.ContextConsumer=o,lt.ContextProvider=u,lt.Element=e,lt.ForwardRef=f,lt.Fragment=r,lt.Lazy=v,lt.Memo=h,lt.Portal=t,lt.Profiler=l,lt.StrictMode=n,lt.Suspense=m,lt.SuspenseList=p,lt.isContextConsumer=function(N){return _(N)===o},lt.isContextProvider=function(N){return _(N)===u},lt.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},lt.isForwardRef=function(N){return _(N)===f},lt.isFragment=function(N){return _(N)===r},lt.isLazy=function(N){return _(N)===v},lt.isMemo=function(N){return _(N)===h},lt.isPortal=function(N){return _(N)===t},lt.isProfiler=function(N){return _(N)===l},lt.isStrictMode=function(N){return _(N)===n},lt.isSuspense=function(N){return _(N)===m},lt.isSuspenseList=function(N){return _(N)===p},lt.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===l||N===n||N===m||N===p||typeof N=="object"&&N!==null&&(N.$$typeof===v||N.$$typeof===h||N.$$typeof===u||N.$$typeof===o||N.$$typeof===f||N.$$typeof===b||N.getModuleId!==void 0)},lt.typeOf=_,lt}var ZA;function pH(){return ZA||(ZA=1,wg.exports=mH()),wg.exports}var hH=pH(),JA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",eC=null,Ag=null,DM=e=>{if(e===eC&&Array.isArray(Ag))return Ag;var t=[];return j.Children.forEach(e,r=>{St(r)||(hH.isFragment(r)?t=t.concat(DM(r.props.children)):t.push(r))}),Ag=t,eC=e,t};function vH(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(l=>JA(l)):n=[JA(t)],DM(e).forEach(l=>{var o=Dl(l,"type.displayName")||Dl(l,"type.name");o&&n.indexOf(o)!==-1&&r.push(l)}),r}var TM=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Cg={},tC;function gH(){return tC||(tC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const l=r[Symbol.toStringTag];return l==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${l}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Cg)),Cg}var Eg,rC;function yH(){return rC||(rC=1,Eg=gH().isPlainObject),Eg}var xH=yH();const bH=La(xH);var nC,aC,iC,sC,lC;function oC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function cC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(r),!0).forEach(function(n){jH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jH(e,t,r){return(t=NH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NH(e){var t=_H(e,"string");return typeof t=="symbol"?t:t+""}function _H(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nf.apply(null,arguments)}function Xo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var uC=(e,t,r,n,l)=>{var o=r-n,u;return u=Ot(nC||(nC=Xo(["M ",",",""])),e,t),u+=Ot(aC||(aC=Xo(["L ",",",""])),e+r,t),u+=Ot(iC||(iC=Xo(["L ",",",""])),e+r-o/2,t+l),u+=Ot(sC||(sC=Xo(["L ",",",""])),e+r-o/2-n,t+l),u+=Ot(lC||(lC=Xo(["L ",","," Z"])),e,t),u},SH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wH=e=>{var t=Ar(e,SH),{x:r,y:n,upperWidth:l,lowerWidth:o,height:u,className:f}=t,{animationEasing:m,animationDuration:p,animationBegin:h,isUpdateAnimationActive:v}=t,x=j.useRef(null),[b,_]=j.useState(-1),N=j.useRef(l),S=j.useRef(o),A=j.useRef(u),O=j.useRef(r),C=j.useRef(n),E=sm(e,"trapezoid-");if(j.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var ue=x.current.getTotalLength();ue&&_(ue)}catch{}},[]),r!==+r||n!==+n||l!==+l||o!==+o||u!==+u||l===0&&o===0||u===0)return null;var z=ot("recharts-trapezoid",f);if(!v)return j.createElement("g",null,j.createElement("path",Nf({},Sr(t),{className:z,d:uC(r,n,l,o,u)})));var D=N.current,L=S.current,T=A.current,q=O.current,Y=C.current,X="0px ".concat(b===-1?1:b,"px"),$="".concat(b,"px 0px"),oe=VE(["strokeDasharray"],p,m);return j.createElement(im,{animationId:E,key:E,canBegin:b>0,duration:p,easing:m,isActive:v,begin:h},ue=>{var V=zt(D,l,ue),k=zt(L,o,ue),J=zt(T,u,ue),G=zt(q,r,ue),me=zt(Y,n,ue);x.current&&(N.current=V,S.current=k,A.current=J,O.current=G,C.current=me);var I=ue>0?{transition:oe,strokeDasharray:$}:{strokeDasharray:X};return j.createElement("path",Nf({},Sr(t),{className:z,d:uC(G,me,V,k,J),ref:x,style:cC(cC({},I),t.style)}))})},AH=["option","shapeType","activeClassName"];function CH(e,t){if(e==null)return{};var r,n,l=EH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function EH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function _f(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(r),!0).forEach(function(n){OH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OH(e,t,r){return(t=zH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zH(e){var t=MH(e,"string");return typeof t=="symbol"?t:t+""}function MH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DH(e,t){return _f(_f({},t),e)}function TH(e,t){return e==="symbols"}function fC(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(WE,r);case"trapezoid":return j.createElement(wH,r);case"sector":return j.createElement(eO,r);case"symbols":if(TH(t))return j.createElement(R2,r);break;case"curve":return j.createElement(FE,r);default:return null}}function PH(e){return j.isValidElement(e)?e.props:e}function PM(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,l=CH(e,AH),o;if(j.isValidElement(t))o=j.cloneElement(t,_f(_f({},l),PH(t)));else if(typeof t=="function")o=t(l,l.index);else if(bH(t)&&typeof t!="boolean"){var u=DH(t,l);o=j.createElement(fC,{shapeType:r,elementProps:u})}else{var f=l;o=j.createElement(fC,{shapeType:r,elementProps:f})}return l.isActive?j.createElement(vn,{className:n},o):o}var kM=(e,t,r)=>{var n=kt();return(l,o)=>u=>{e?.(l,o,u),n(Gz({activeIndex:String(o),activeDataKey:t,activeCoordinate:l.tooltipPosition,activeGraphicalItemId:r}))}},qM=e=>{var t=kt();return(r,n)=>l=>{e?.(r,n,l),t(X$())}},RM=(e,t,r)=>{var n=kt();return(l,o)=>u=>{e?.(l,o,u),n(W$({activeIndex:String(o),activeDataKey:t,activeCoordinate:l.tooltipPosition,activeGraphicalItemId:r}))}};function LM(e){var{tooltipEntrySettings:t}=e,r=kt(),n=xr(),l=j.useRef(null);return j.useLayoutEffect(()=>{n||(l.current===null?r(F$(t)):l.current!==t&&r(V$({prev:l.current,next:t})),l.current=t)},[t,r,n]),j.useLayoutEffect(()=>()=>{l.current&&(r(Y$(l.current)),l.current=null)},[r]),null}function IM(e){var{legendPayload:t}=e,r=kt(),n=xr(),l=j.useRef(null);return j.useLayoutEffect(()=>{n||(l.current===null?r(AL(t)):l.current!==t&&r(CL({prev:l.current,next:t})),l.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{l.current&&(r(EL(l.current)),l.current=null)},[r]),null}var Og,kH=()=>{var[e]=j.useState(()=>lc("uid-"));return e},qH=(Og=QP.useId)!==null&&Og!==void 0?Og:kH;function RH(e,t){var r=qH();return t||(e?"".concat(e,"-").concat(r):r)}var LH=j.createContext(void 0),BM=e=>{var{id:t,type:r,children:n}=e,l=RH("recharts-".concat(r),t);return j.createElement(LH.Provider,{value:l},n(l))},IH={cartesianItems:[],polarItems:[]},$M=Ir({name:"graphicalItems",initialState:IH,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:bt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,l=Dn(e).cartesianItems.indexOf(r);l>-1&&(e.cartesianItems[l]=n)},prepare:bt()},removeCartesianGraphicalItem:{reducer(e,t){var r=Dn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:bt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:bt()},removePolarGraphicalItem:{reducer(e,t){var r=Dn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:bt()}}}),{addCartesianGraphicalItem:BH,replaceCartesianGraphicalItem:$H,removeCartesianGraphicalItem:UH,addPolarGraphicalItem:oX,removePolarGraphicalItem:cX}=$M.actions,HH=$M.reducer,GH=e=>{var t=kt(),r=j.useRef(null);return j.useLayoutEffect(()=>{r.current===null?t(BH(e)):r.current!==e&&t($H({prev:r.current,next:e})),r.current=e},[t,e]),j.useLayoutEffect(()=>()=>{r.current&&(t(UH(r.current)),r.current=null)},[t]),null},UM=j.memo(GH),QH=["points"];function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function zg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(n){FH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FH(e,t,r){return(t=VH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VH(e){var t=YH(e,"string");return typeof t=="symbol"?t:t+""}function YH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sf.apply(null,arguments)}function KH(e,t){if(e==null)return{};var r,n,l=XH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function XH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WH(e){var{option:t,dotProps:r,className:n}=e;if(j.isValidElement(t))return j.cloneElement(t,r);if(typeof t=="function")return t(r);var l=ot(n,typeof t!="boolean"?t.className:""),o=r??{},{points:u}=o,f=KH(o,QH);return j.createElement(zM,Sf({},f,{className:l}))}function ZH(e,t){return e==null?!1:t?!0:e.length===1}function JH(e){var{points:t,dot:r,className:n,dotClassName:l,dataKey:o,baseProps:u,needClip:f,clipPathId:m,zIndex:p=er.scatter}=e;if(!ZH(t,r))return null;var h=TM(r),v=g3(r),x=t.map((_,N)=>{var S,A,O=zg(zg(zg({r:3},u),v),{},{index:N,cx:(S=_.x)!==null&&S!==void 0?S:void 0,cy:(A=_.y)!==null&&A!==void 0?A:void 0,dataKey:o,value:_.value,payload:_.payload,points:t});return j.createElement(WH,{key:"dot-".concat(N),option:r,dotProps:O,className:l})}),b={};return f&&m!=null&&(b.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(m,")")),j.createElement(bn,{zIndex:p},j.createElement(vn,Sf({className:n},b),x))}function pC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function hC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(r),!0).forEach(function(n){eG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eG(e,t,r){return(t=tG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tG(e){var t=rG(e,"string");return typeof t=="symbol"?t:t+""}function rG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HM=0,nG={xAxis:{},yAxis:{},zAxis:{}},GM=Ir({name:"cartesianAxis",initialState:nG,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:bt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:bt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:bt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:bt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:bt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:bt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:bt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:bt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:bt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,l=e.yAxis[r];if(l){var o,u=l.widthHistory||[];if(u.length===3&&u[0]===u[2]&&n===u[1]&&n!==l.width&&Math.abs(n-((o=u[0])!==null&&o!==void 0?o:0))<=1)return;var f=[...u,n].slice(-3);e.yAxis[r]=hC(hC({},l),{},{width:n,widthHistory:f})}}}}),{addXAxis:aG,replaceXAxis:iG,removeXAxis:sG,addYAxis:lG,replaceYAxis:oG,removeYAxis:cG,addZAxis:uX,replaceZAxis:dX,removeZAxis:fX,updateYAxisWidth:uG}=GM.actions,dG=GM.reducer,fG=te([tr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),mG=te([fG,Ba,$a],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),yb=()=>Ae(mG),pG=()=>Ae(BU);function vC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(r),!0).forEach(function(n){hG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hG(e,t,r){return(t=vG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var t=gG(e,"string");return typeof t=="symbol"?t:t+""}function gG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yG=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:l,dataKey:o,clipPath:u}=e;if(l===!1||t.x==null||t.y==null)return null;var f={index:r,dataKey:o,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},m=Mg(Mg(Mg({},f),Sc(l)),tx(l)),p;return j.isValidElement(l)?p=j.cloneElement(l,m):typeof l=="function"?p=l(m):p=j.createElement(zM,m),j.createElement(vn,{className:"recharts-active-dot",clipPath:u},p)};function xG(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:l,clipPath:o,zIndex:u=er.activeDot}=e,f=Ae(ys),m=pG();if(t==null||m==null)return null;var p=t.find(h=>m.includes(h.payload));return St(p)?null:j.createElement(bn,{zIndex:u},j.createElement(yG,{point:p,childIndex:Number(f),mainColor:r,dataKey:l,activeDot:n,clipPath:o}))}var gC=(e,t,r)=>{var n=r??e;if(!St(n))return Pn(n,t,0)},bG=(e,t,r)=>{var n={},l=e.filter(ym),o=e.filter(p=>p.stackId==null),u=l.reduce((p,h)=>{var v=p[h.stackId];return v==null&&(v=[]),v.push(h),p[h.stackId]=v,p},n),f=Object.entries(u).map(p=>{var h,[v,x]=p,b=x.map(N=>N.dataKey),_=gC(t,r,(h=x[0])===null||h===void 0?void 0:h.barSize);return{stackId:v,dataKeys:b,barSize:_}}),m=o.map(p=>{var h=[p.dataKey].filter(x=>x!=null),v=gC(t,r,p.barSize);return{stackId:void 0,dataKeys:h,barSize:v}});return[...f,...m]};function yC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(r),!0).forEach(function(n){jG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jG(e,t,r){return(t=NG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NG(e){var t=_G(e,"string");return typeof t=="symbol"?t:t+""}function _G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SG(e,t,r,n,l){var o,u=n.length;if(!(u<1)){var f=Pn(e,r,0,!0),m,p=[];if(Ye((o=n[0])===null||o===void 0?void 0:o.barSize)){var h=!1,v=r/u,x=n.reduce((O,C)=>O+(C.barSize||0),0);x+=(u-1)*f,x>=r&&(x-=(u-1)*f,f=0),x>=r&&v>0&&(h=!0,v*=.9,x=u*v);var b=(r-x)/2>>0,_={offset:b-f,size:0};m=n.reduce((O,C)=>{var E,z={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:_.offset+_.size+f,size:h?v:(E=C.barSize)!==null&&E!==void 0?E:0}},D=[...O,z];return _=z.position,D},p)}else{var N=Pn(t,r,0,!0);r-2*N-(u-1)*f<=0&&(f=0);var S=(r-2*N-(u-1)*f)/u;S>1&&(S>>=0);var A=Ye(l)?Math.min(S,l):S;m=n.reduce((O,C,E)=>[...O,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:N+(S+f)*E+(S-A)/2,size:A}}],p)}return m}}var wG=(e,t,r,n,l,o,u)=>{var f=St(u)?t:u,m=SG(r,n,l!==o?l:o,e,f);return l!==o&&m!=null&&(m=m.map(p=>xd(xd({},p),{},{position:xd(xd({},p.position),{},{offset:p.position.offset-l/2})}))),m},AG=(e,t)=>{var r=Kx(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var l=e[n];if(l){var{stackedData:o}=l;if(o)return o.find(u=>u.key===r)}}}},CG=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function EG(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ye(e.zIndex)?e.zIndex:t}var OG=e=>{var{chartData:t}=e,r=kt(),n=xr();return j.useEffect(()=>n?()=>{}:(r(CA(t)),()=>{r(CA(void 0))}),[t,r,n]),null},xC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},QM=Ir({name:"brush",initialState:xC,reducers:{setBrushSettings(e,t){return t.payload==null?xC:t.payload}}}),{setBrushSettings:mX}=QM.actions,zG=QM.reducer;function MG(e){return(e%180+180)%180}var DG=function(t){var{width:r,height:n}=t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=MG(l),u=o*Math.PI/180,f=Math.atan(n/r),m=u>f&&u<Math.PI-f?n/Math.sin(u):r/Math.cos(u);return Math.abs(m)},TG={dots:[],areas:[],lines:[]},FM=Ir({name:"referenceElements",initialState:TG,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Dn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Dn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Dn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:pX,removeDot:hX,addArea:vX,removeArea:gX,addLine:yX,removeLine:xX}=FM.actions,PG=FM.reducer,kG=j.createContext(void 0),qG=e=>{var{children:t}=e,[r]=j.useState("".concat(lc("recharts"),"-clip")),n=yb();if(n==null)return null;var{x:l,y:o,width:u,height:f}=n;return j.createElement(kG.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:l,y:o,height:f,width:u}))),t)};function VM(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var l=e[n];l!==void 0&&r.push(l)}return r}function RG(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return DG(n,r)}function LG(e,t,r){var n=r==="width",{x:l,y:o,width:u,height:f}=e;return t===1?{start:n?l:o,end:n?l+u:o+f}:{start:n?l+u:o+f,end:n?l:o}}function jc(e,t,r,n,l){if(e*t<e*n||e*t>e*l)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-l)<=0}function IG(e,t){return VM(e,t+1)}function BG(e,t,r,n,l){for(var o=(n||[]).slice(),{start:u,end:f}=t,m=0,p=1,h=u,v=function(){var _=n?.[m];if(_===void 0)return{v:VM(n,p)};var N=m,S,A=()=>(S===void 0&&(S=r(_,N)),S),O=_.coordinate,C=m===0||jc(e,O,A,h,f);C||(m=0,h=u,p+=1),C&&(h=O+e*(A()/2+l),m+=p)},x;p<=o.length;)if(x=v(),x)return x.v;return[]}function $G(e,t,r,n,l){var o=(n||[]).slice(),u=o.length;if(u===0)return[];for(var{start:f,end:m}=t,p=1;p<=u;p++){for(var h=(u-1)%p,v=f,x=!0,b=function(){var E=n[N];if(E==null)return 0;var z=N,D,L=()=>(D===void 0&&(D=r(E,z)),D),T=E.coordinate,q=N===h||jc(e,T,L,v,m);if(!q)return x=!1,1;q&&(v=T+e*(L()/2+l))},_,N=h;N<u&&(_=b(),!(_!==0&&_===1));N+=p);if(x){for(var S=[],A=h;A<u;A+=p){var O=n[A];O!=null&&S.push(O)}return S}}return[]}function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){UG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UG(e,t,r){return(t=HG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HG(e){var t=GG(e,"string");return typeof t=="symbol"?t:t+""}function GG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QG(e,t,r,n,l){for(var o=(n||[]).slice(),u=o.length,{start:f}=t,{end:m}=t,p=function(x){var b=o[x];if(b==null)return 1;var _=b,N,S=()=>(N===void 0&&(N=r(b,x)),N);if(x===u-1){var A=e*(_.coordinate+e*S()/2-m);o[x]=_=vr(vr({},_),{},{tickCoord:A>0?_.coordinate-A*e:_.coordinate})}else o[x]=_=vr(vr({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var O=jc(e,_.tickCoord,S,f,m);O&&(m=_.tickCoord-e*(S()/2+l),o[x]=vr(vr({},_),{},{isShow:!0}))}},h=u-1;h>=0;h--)p(h);return o}function FG(e,t,r,n,l,o){var u=(n||[]).slice(),f=u.length,{start:m,end:p}=t;if(o){var h=n[f-1];if(h!=null){var v=r(h,f-1),x=e*(h.coordinate+e*v/2-p);if(u[f-1]=h=vr(vr({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate}),h.tickCoord!=null){var b=jc(e,h.tickCoord,()=>v,m,p);b&&(p=h.tickCoord-e*(v/2+l),u[f-1]=vr(vr({},h),{},{isShow:!0}))}}}for(var _=o?f-1:f,N=function(O){var C=u[O];if(C==null)return 1;var E=C,z,D=()=>(z===void 0&&(z=r(C,O)),z);if(O===0){var L=e*(E.coordinate-e*D()/2-m);u[O]=E=vr(vr({},E),{},{tickCoord:L<0?E.coordinate-L*e:E.coordinate})}else u[O]=E=vr(vr({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var T=jc(e,E.tickCoord,D,m,p);T&&(m=E.tickCoord+e*(D()/2+l),u[O]=vr(vr({},E),{},{isShow:!0}))}},S=0;S<_;S++)N(S);return u}function xb(e,t,r){var{tick:n,ticks:l,viewBox:o,minTickGap:u,orientation:f,interval:m,tickFormatter:p,unit:h,angle:v}=e;if(!l||!l.length||!n)return[];if(Ne(m)||am.isSsr){var x;return(x=IG(l,Ne(m)?m:0))!==null&&x!==void 0?x:[]}var b=[],_=f==="top"||f==="bottom"?"width":"height",N=h&&_==="width"?ic(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},S=(z,D)=>{var L=typeof p=="function"?p(z.value,D):z.value;return _==="width"?RG(ic(L,{fontSize:t,letterSpacing:r}),N,v):ic(L,{fontSize:t,letterSpacing:r})[_]},A=l[0],O=l[1],C=l.length>=2&&A!=null&&O!=null?kr(O.coordinate-A.coordinate):1,E=LG(o,C,_);return m==="equidistantPreserveStart"?BG(C,E,S,l,u):m==="equidistantPreserveEnd"?$G(C,E,S,l,u):(m==="preserveStart"||m==="preserveStartEnd"?b=FG(C,E,S,l,u,m==="preserveStartEnd"):b=QG(C,E,S,l,u),b.filter(z=>z.isShow))}var VG=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:l=0,tickMargin:o=0}=e,u=0;if(t){Array.from(t).forEach(h=>{if(h){var v=h.getBoundingClientRect();v.width>u&&(u=v.width)}});var f=r?r.getBoundingClientRect().width:0,m=l+o,p=u+m+f+(r?n:0);return Math.round(p)}return 0},YG=["axisLine","width","height","className","hide","ticks","axisType"];function KG(e,t){if(e==null)return{};var r,n,l=XG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function XG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xs.apply(null,arguments)}function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){WG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WG(e,t,r){return(t=ZG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=JG(e,"string");return typeof t=="symbol"?t:t+""}function JG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oa={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:er.axis};function eQ(e){var{x:t,y:r,width:n,height:l,orientation:o,mirror:u,axisLine:f,otherSvgProps:m}=e;if(!f)return null;var p=Ct(Ct(Ct({},m),Tn(f)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!u||o==="bottom"&&u);p=Ct(Ct({},p),{},{x1:t,y1:r+h*l,x2:t+n,y2:r+h*l})}else{var v=+(o==="left"&&!u||o==="right"&&u);p=Ct(Ct({},p),{},{x1:t+v*n,y1:r,x2:t+v*n,y2:r+l})}return j.createElement("line",xs({},p,{className:ot("recharts-cartesian-axis-line",Dl(f,"className"))}))}function tQ(e,t,r,n,l,o,u,f,m){var p,h,v,x,b,_,N=f?-1:1,S=e.tickSize||u,A=Ne(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":p=h=e.coordinate,x=r+ +!f*l,v=x-N*S,_=v-N*m,b=A;break;case"left":v=x=e.coordinate,h=t+ +!f*n,p=h-N*S,b=p-N*m,_=A;break;case"right":v=x=e.coordinate,h=t+ +f*n,p=h+N*S,b=p+N*m,_=A;break;default:p=h=e.coordinate,x=r+ +f*l,v=x+N*S,_=v+N*m,b=A;break}return{line:{x1:p,y1:v,x2:h,y2:x},tick:{x:b,y:_}}}function rQ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function nQ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function aQ(e){var{option:t,tickProps:r,value:n}=e,l,o=ot(r.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))l=j.cloneElement(t,Ct(Ct({},r),{},{className:o}));else if(typeof t=="function")l=t(Ct(Ct({},r),{},{className:o}));else{var u="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(u=ot(u,fH(t))),l=j.createElement(vb,xs({},r,{className:u}),n)}return l}var iQ=j.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:l,stroke:o,tickFormatter:u,unit:f,padding:m,tickTextProps:p,orientation:h,mirror:v,x,y:b,width:_,height:N,tickSize:S,tickMargin:A,fontSize:O,letterSpacing:C,getTicksConfig:E,events:z,axisType:D}=e,L=xb(Ct(Ct({},E),{},{ticks:r}),O,C),T=rQ(h,v),q=nQ(h,v),Y=Tn(E),X=Sc(n),$={};typeof l=="object"&&($=l);var oe=Ct(Ct({},Y),{},{fill:"none"},$),ue=L.map(J=>Ct({entry:J},tQ(J,x,b,_,N,h,S,v,A))),V=ue.map(J=>{var{entry:G,line:me}=J;return j.createElement(vn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},l&&j.createElement("line",xs({},oe,me,{className:ot("recharts-cartesian-axis-tick-line",Dl(l,"className"))})))}),k=ue.map((J,G)=>{var me,I,{entry:ve,tick:xe}=J,pe=Ct(Ct(Ct(Ct({verticalAnchor:q},Y),{},{textAnchor:T,stroke:"none",fill:o},xe),{},{index:G,payload:ve,visibleTicksCount:L.length,tickFormatter:u,padding:m},p),{},{angle:(me=(I=p?.angle)!==null&&I!==void 0?I:Y.angle)!==null&&me!==void 0?me:0}),ye=Ct(Ct({},pe),X);return j.createElement(vn,xs({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ve.value,"-").concat(ve.coordinate,"-").concat(ve.tickCoord)},rx(z,ve,G)),n&&j.createElement(aQ,{option:n,tickProps:ye,value:"".concat(typeof u=="function"?u(ve.value,G):ve.value).concat(f||"")}))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},k.length>0&&j.createElement(bn,{zIndex:er.label},j.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},k)),V.length>0&&j.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},V))}),sQ=j.forwardRef((e,t)=>{var{axisLine:r,width:n,height:l,className:o,hide:u,ticks:f,axisType:m}=e,p=KG(e,YG),[h,v]=j.useState(""),[x,b]=j.useState(""),_=j.useRef(null);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return VG({ticks:_.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var N=j.useCallback(S=>{if(S){var A=S.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=A;var O=A[0];if(O){var C=window.getComputedStyle(O),E=C.fontSize,z=C.letterSpacing;(E!==h||z!==x)&&(v(E),b(z))}}},[h,x]);return u||n!=null&&n<=0||l!=null&&l<=0?null:j.createElement(bn,{zIndex:e.zIndex},j.createElement(vn,{className:ot("recharts-cartesian-axis",o)},j.createElement(eQ,{x:e.x,y:e.y,width:n,height:l,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Tn(e)}),j.createElement(iQ,{ref:N,axisType:m,events:p,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:x,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:f,unit:e.unit,width:e.width,x:e.x,y:e.y}),j.createElement($7,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},j.createElement(W7,{label:e.label,labelRef:e.labelRef}),e.children)))}),bb=j.forwardRef((e,t)=>{var r=Ar(e,Oa);return j.createElement(sQ,xs({},r,{ref:t}))});bb.displayName="CartesianAxis";var lQ=["x1","y1","x2","y2","key"],oQ=["offset"],cQ=["xAxisId","yAxisId"],uQ=["xAxisId","yAxisId"];function NC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(r),!0).forEach(function(n){dQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dQ(e,t,r){return(t=fQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fQ(e){var t=mQ(e,"string");return typeof t=="symbol"?t:t+""}function mQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ls.apply(null,arguments)}function wf(e,t){if(e==null)return{};var r,n,l=pQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function pQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hQ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:l,width:o,height:u,ry:f}=e;return j.createElement("rect",{x:n,y:l,ry:f,width:o,height:u,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function YM(e){var{option:t,lineItemProps:r}=e,n;if(j.isValidElement(t))n=j.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var l,{x1:o,y1:u,x2:f,y2:m,key:p}=r,h=wf(r,lQ),v=(l=Tn(h))!==null&&l!==void 0?l:{},{offset:x}=v,b=wf(v,oQ);n=j.createElement("line",ls({},b,{x1:o,y1:u,x2:f,y2:m,fill:"none",key:p}))}return n}function vQ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:l}=e;if(!n||!l||!l.length)return null;var{xAxisId:o,yAxisId:u}=e,f=wf(e,cQ),m=l.map((p,h)=>{var v=gr(gr({},f),{},{x1:t,y1:p,x2:t+r,y2:p,key:"line-".concat(h),index:h});return j.createElement(YM,{key:"line-".concat(h),option:n,lineItemProps:v})});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function gQ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:l}=e;if(!n||!l||!l.length)return null;var{xAxisId:o,yAxisId:u}=e,f=wf(e,uQ),m=l.map((p,h)=>{var v=gr(gr({},f),{},{x1:p,y1:t,x2:p,y2:t+r,key:"line-".concat(h),index:h});return j.createElement(YM,{option:n,lineItemProps:v,key:"line-".concat(h)})});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function yQ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:l,width:o,height:u,horizontalPoints:f,horizontal:m=!0}=e;if(!m||!t||!t.length||f==null)return null;var p=f.map(v=>Math.round(v+l-l)).sort((v,x)=>v-x);l!==p[0]&&p.unshift(0);var h=p.map((v,x)=>{var b=p[x+1],_=b==null,N=_?l+u-v:b-v;if(N<=0)return null;var S=x%t.length;return j.createElement("rect",{key:"react-".concat(x),y:v,x:n,height:N,width:o,stroke:"none",fill:t[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function xQ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:l,y:o,width:u,height:f,verticalPoints:m}=e;if(!t||!r||!r.length)return null;var p=m.map(v=>Math.round(v+l-l)).sort((v,x)=>v-x);l!==p[0]&&p.unshift(0);var h=p.map((v,x)=>{var b=p[x+1],_=b==null,N=_?l+u-v:b-v;if(N<=0)return null;var S=x%r.length;return j.createElement("rect",{key:"react-".concat(x),x:v,y:o,width:N,height:f,stroke:"none",fill:r[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var bQ=(e,t)=>{var{xAxis:r,width:n,height:l,offset:o}=e;return CE(xb(gr(gr(gr({},Oa),r),{},{ticks:EE(r),viewBox:{x:0,y:0,width:n,height:l}})),o.left,o.left+o.width,t)},jQ=(e,t)=>{var{yAxis:r,width:n,height:l,offset:o}=e;return CE(xb(gr(gr(gr({},Oa),r),{},{ticks:EE(r),viewBox:{x:0,y:0,width:n,height:l}})),o.top,o.top+o.height,t)},NQ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:er.grid};function Dy(e){var t=PE(),r=kE(),n=TE(),l=gr(gr({},Ar(e,NQ)),{},{x:Ne(e.x)?e.x:n.left,y:Ne(e.y)?e.y:n.top,width:Ne(e.width)?e.width:n.width,height:Ne(e.height)?e.height:n.height}),{xAxisId:o,yAxisId:u,x:f,y:m,width:p,height:h,syncWithTicks:v,horizontalValues:x,verticalValues:b}=l,_=xr(),N=Ae(q=>hA(q,"xAxis",o,_)),S=Ae(q=>hA(q,"yAxis",u,_));if(!ea(p)||!ea(h)||!Ne(f)||!Ne(m))return null;var A=l.verticalCoordinatesGenerator||bQ,O=l.horizontalCoordinatesGenerator||jQ,{horizontalPoints:C,verticalPoints:E}=l;if((!C||!C.length)&&typeof O=="function"){var z=x&&x.length,D=O({yAxis:S?gr(gr({},S),{},{ticks:z?x:S.ticks}):void 0,width:t??p,height:r??h,offset:n},z?!0:v);Xd(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(C=D)}if((!E||!E.length)&&typeof A=="function"){var L=b&&b.length,T=A({xAxis:N?gr(gr({},N),{},{ticks:L?b:N.ticks}):void 0,width:t??p,height:r??h,offset:n},L?!0:v);Xd(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(E=T)}return j.createElement(bn,{zIndex:l.zIndex},j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(hQ,{fill:l.fill,fillOpacity:l.fillOpacity,x:l.x,y:l.y,width:l.width,height:l.height,ry:l.ry}),j.createElement(yQ,ls({},l,{horizontalPoints:C})),j.createElement(xQ,ls({},l,{verticalPoints:E})),j.createElement(vQ,ls({},l,{offset:n,horizontalPoints:C,xAxis:N,yAxis:S})),j.createElement(gQ,ls({},l,{offset:n,verticalPoints:E,xAxis:N,yAxis:S}))))}Dy.displayName="CartesianGrid";var _Q={},KM=Ir({name:"errorBars",initialState:_Q,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:l}=t.payload;e[r]&&(e[r]=e[r].map(o=>o.dataKey===n.dataKey&&o.direction===n.direction?l:o))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(l=>l.dataKey!==n.dataKey||l.direction!==n.direction))}}}),{addErrorBar:bX,replaceErrorBar:jX,removeErrorBar:NX}=KM.actions,SQ=KM.reducer,wQ=["children"];function AQ(e,t){if(e==null)return{};var r,n,l=CQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function CQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},OQ=j.createContext(EQ);function XM(e){var{children:t}=e,r=AQ(e,wQ);return j.createElement(OQ.Provider,{value:r},t)}function jb(e,t){var r,n,l=Ae(p=>Ga(p,e)),o=Ae(p=>Qa(p,t)),u=(r=l?.allowDataOverflow)!==null&&r!==void 0?r:Wt.allowDataOverflow,f=(n=o?.allowDataOverflow)!==null&&n!==void 0?n:Zt.allowDataOverflow,m=u||f;return{needClip:m,needClipX:u,needClipY:f}}function WM(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,l=yb(),{needClipX:o,needClipY:u,needClip:f}=jb(t,r);if(!f||!l)return null;var{x:m,y:p,width:h,height:v}=l;return j.createElement("clipPath",{id:"clipPath-".concat(n)},j.createElement("rect",{x:o?m:m-h/2,y:u?p:p-v/2,width:o?h:h*2,height:u?v:v*2}))}var ZM=(e,t,r,n)=>Oi(e,"xAxis",t,n),JM=(e,t,r,n)=>Ei(e,"xAxis",t,n),eD=(e,t,r,n)=>Oi(e,"yAxis",r,n),tD=(e,t,r,n)=>Ei(e,"yAxis",r,n),zQ=te([nt,ZM,eD,JM,tD],(e,t,r,n,l)=>Ia(e,"xAxis")?Pl(t,n,!1):Pl(r,l,!1)),MQ=(e,t,r,n,l)=>l;function DQ(e){return e.type==="line"}var TQ=te([jm,MQ],(e,t)=>e.filter(DQ).find(r=>r.id===t)),PQ=te([nt,ZM,eD,JM,tD,TQ,zQ,Bx],(e,t,r,n,l,o,u,f)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:h}=f;if(!(o==null||t==null||r==null||n==null||l==null||n.length===0||l.length===0||u==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:v,data:x}=o,b;if(x!=null&&x.length>0?b=x:b=m?.slice(p,h+1),b!=null)return jF({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:l,dataKey:v,bandSize:u,displayedData:b})}});function kQ(e){var t=Sc(e),r=3,n=2;if(t!=null){var{r:l,strokeWidth:o}=t,u=Number(l),f=Number(o);return(Number.isNaN(u)||u<0)&&(u=r),(Number.isNaN(f)||f<0)&&(f=n),{r:u,strokeWidth:f}}return{r,strokeWidth:n}}var Dg={exports:{}},Tg={};var _C;function qQ(){if(_C)return Tg;_C=1;var e=Mf();function t(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,l=e.useRef,o=e.useEffect,u=e.useMemo,f=e.useDebugValue;return Tg.useSyncExternalStoreWithSelector=function(m,p,h,v,x){var b=l(null);if(b.current===null){var _={hasValue:!1,value:null};b.current=_}else _=b.current;b=u(function(){function S(z){if(!A){if(A=!0,O=z,z=v(z),x!==void 0&&_.hasValue){var D=_.value;if(x(D,z))return C=D}return C=z}if(D=C,r(O,z))return D;var L=v(z);return x!==void 0&&x(D,L)?(O=z,D):(O=z,C=L)}var A=!1,O,C,E=h===void 0?null:h;return[function(){return S(p())},E===null?void 0:function(){return S(E())}]},[p,h,v,x]);var N=n(m,b[0],b[1]);return o(function(){_.hasValue=!0,_.value=N},[N]),f(N),N},Tg}var SC;function RQ(){return SC||(SC=1,Dg.exports=qQ()),Dg.exports}RQ();function LQ(e){e()}function IQ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){LQ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const l=t={callback:r,next:null,prev:t};return l.prev?l.prev.next=l:e=l,function(){!n||e===null||(n=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}var wC={notify(){},get:()=>[]};function BQ(e,t){let r,n=wC,l=0,o=!1;function u(N){h();const S=n.subscribe(N);let A=!1;return()=>{A||(A=!0,S(),v())}}function f(){n.notify()}function m(){_.onStateChange&&_.onStateChange()}function p(){return o}function h(){l++,r||(r=e.subscribe(m),n=IQ())}function v(){l--,r&&l===0&&(r(),r=void 0,n.clear(),n=wC)}function x(){o||(o=!0,h())}function b(){o&&(o=!1,v())}const _={addNestedSub:u,notifyNestedSubs:f,handleChangeWrapper:m,isSubscribed:p,trySubscribe:x,tryUnsubscribe:b,getListeners:()=>n};return _}var $Q=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UQ=$Q(),HQ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",GQ=HQ(),QQ=()=>UQ||GQ?j.useLayoutEffect:j.useEffect,FQ=QQ();function AC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function VQ(e,t){if(AC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let l=0;l<r.length;l++)if(!Object.prototype.hasOwnProperty.call(t,r[l])||!AC(e[r[l]],t[r[l]]))return!1;return!0}var YQ=Symbol.for("react-redux-context"),KQ=typeof globalThis<"u"?globalThis:{};function XQ(){if(!j.createContext)return{};const e=KQ[YQ]??=new Map;let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var WQ=XQ();function ZQ(e){const{children:t,context:r,serverState:n,store:l}=e,o=j.useMemo(()=>{const m=BQ(l);return{store:l,subscription:m,getServerState:n?()=>n:void 0}},[l,n]),u=j.useMemo(()=>l.getState(),[l]);FQ(()=>{const{subscription:m}=o;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),u!==l.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[o,u]);const f=r||WQ;return j.createElement(f.Provider,{value:o},t)}var JQ=ZQ,eF=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function tF(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Am(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(eF.has(n)){if(e[n]==null&&t[n]==null)continue;if(!VQ(e[n],t[n]))return!1}else if(!tF(e[n],t[n]))return!1;return!0}var rF=["id"],nF=["type","layout","connectNulls","needClip","shape"],aF=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nc.apply(null,arguments)}function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(n){iF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iF(e,t,r){return(t=sF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sF(e){var t=lF(e,"string");return typeof t=="symbol"?t:t+""}function lF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nb(e,t){if(e==null)return{};var r,n,l=oF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function oF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cF=e=>{var{dataKey:t,name:r,stroke:n,legendType:l,hide:o}=e;return[{inactive:o,dataKey:t,type:l,color:n,value:Kf(r,t),payload:e}]},uF=j.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:l,fill:o,name:u,hide:f,unit:m,tooltipType:p,id:h}=e,v={dataDefinedOnItem:r,getPosition:Ns,settings:{stroke:n,strokeWidth:l,fill:o,dataKey:t,nameKey:void 0,name:Kf(u,t),hide:f,type:p,color:n,unit:m,graphicalItemId:h}};return j.createElement(LM,{tooltipEntrySettings:v})}),rD=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function dF(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],l=0;l<t;++l)n=[...n,...r];return n}var fF=(e,t,r)=>{var n=r.reduce((b,_)=>b+_);if(!n)return rD(t,e);for(var l=Math.floor(e/n),o=e%n,u=t-e,f=[],m=0,p=0;m<r.length;p+=(h=r[m])!==null&&h!==void 0?h:0,++m){var h,v=r[m];if(v!=null&&p+v>o){f=[...r.slice(0,m),o-p];break}}var x=f.length%2===0?[0,u]:[u];return[...dF(r,l),...f,...x].map(b=>"".concat(b,"px")).join(", ")};function mF(e){var{clipPathId:t,points:r,props:n}=e,{dot:l,dataKey:o,needClip:u}=n,{id:f}=n,m=Nb(n,rF),p=Tn(m);return j.createElement(JH,{points:r,dot:l,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:p,needClip:u,clipPathId:t})}function pF(e){var{showLabels:t,children:r,points:n}=e,l=j.useMemo(()=>n?.map(o=>{var u,f,m={x:(u=o.x)!==null&&u!==void 0?u:0,y:(f=o.y)!==null&&f!==void 0?f:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Vn(Vn({},m),{},{value:o.value,payload:o.payload,viewBox:m,parentViewBox:void 0,fill:void 0})}),[n]);return j.createElement(CM,{value:t?l:void 0},r)}function EC(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:l,props:o}=e,{type:u,layout:f,connectNulls:m,needClip:p,shape:h}=o,v=Nb(o,nF),x=Vn(Vn({},Sr(v)),{},{fill:"none",className:"recharts-line-curve",clipPath:p?"url(#clipPath-".concat(t,")"):void 0,points:n,type:u,layout:f,connectNulls:m,strokeDasharray:l??o.strokeDasharray});return j.createElement(j.Fragment,null,n?.length>1&&j.createElement(PM,Nc({shapeType:"curve",option:h},x,{pathRef:r})),j.createElement(mF,{points:n,clipPathId:t,props:o}))}function hF(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function vF(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:l,longestAnimatedLengthRef:o}=e,{points:u,strokeDasharray:f,isAnimationActive:m,animationBegin:p,animationDuration:h,animationEasing:v,animateNewValues:x,width:b,height:_,onAnimationEnd:N,onAnimationStart:S}=r,A=l.current,O=sm(u,"recharts-line-"),C=j.useRef(O),[E,z]=j.useState(!1),D=!E,L=j.useCallback(()=>{typeof N=="function"&&N(),z(!1)},[N]),T=j.useCallback(()=>{typeof S=="function"&&S(),z(!0)},[S]),q=hF(n.current),Y=j.useRef(0);C.current!==O&&(Y.current=o.current,C.current=O);var X=Y.current;return j.createElement(pF,{points:u,showLabels:D},r.children,j.createElement(im,{animationId:O,begin:p,duration:h,isActive:m,easing:v,onAnimationEnd:L,onAnimationStart:T,key:O},$=>{var oe=zt(X,q+X,$),ue=Math.min(oe,q),V;if(m)if(f){var k="".concat(f).split(/[,\s]+/gim).map(me=>parseFloat(me));V=fF(ue,q,k)}else V=rD(q,ue);else V=f==null?void 0:String(f);if($>0&&q>0&&(l.current=u,o.current=Math.max(o.current,ue)),A){var J=A.length/u.length,G=$===1?u:u.map((me,I)=>{var ve=Math.floor(I*J);if(A[ve]){var xe=A[ve];return Vn(Vn({},me),{},{x:zt(xe.x,me.x,$),y:zt(xe.y,me.y,$)})}return x?Vn(Vn({},me),{},{x:zt(b*2,me.x,$),y:zt(_/2,me.y,$)}):Vn(Vn({},me),{},{x:me.x,y:me.y})});return l.current=G,j.createElement(EC,{props:r,points:G,clipPathId:t,pathRef:n,strokeDasharray:V})}return j.createElement(EC,{props:r,points:u,clipPathId:t,pathRef:n,strokeDasharray:V})}),j.createElement(OM,{label:r.label}))}function gF(e){var{clipPathId:t,props:r}=e,n=j.useRef(null),l=j.useRef(0),o=j.useRef(null);return j.createElement(vF,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:l,pathRef:o})}var yF=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:$t(e.payload,t)}};class xF extends j.Component{render(){var{hide:t,dot:r,points:n,className:l,xAxisId:o,yAxisId:u,top:f,left:m,width:p,height:h,id:v,needClip:x,zIndex:b}=this.props;if(t)return null;var _=ot("recharts-line",l),N=v,{r:S,strokeWidth:A}=kQ(r),O=TM(r),C=S*2+A,E=x?"url(#clipPath-".concat(O?"":"dots-").concat(N,")"):void 0;return j.createElement(bn,{zIndex:b},j.createElement(vn,{className:_},x&&j.createElement("defs",null,j.createElement(WM,{clipPathId:N,xAxisId:o,yAxisId:u}),!O&&j.createElement("clipPath",{id:"clipPath-dots-".concat(N)},j.createElement("rect",{x:m-C/2,y:f-C/2,width:p+C,height:h+C}))),j.createElement(XM,{xAxisId:o,yAxisId:u,data:n,dataPointFormatter:yF,errorBarOffset:0},j.createElement(gF,{props:this.props,clipPathId:N}))),j.createElement(xG,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:E}))}}var nD={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:er.line,type:"linear"};function bF(e){var t=Ar(e,nD),{activeDot:r,animateNewValues:n,animationBegin:l,animationDuration:o,animationEasing:u,connectNulls:f,dot:m,hide:p,isAnimationActive:h,label:v,legendType:x,xAxisId:b,yAxisId:_,id:N}=t,S=Nb(t,aF),{needClip:A}=jb(b,_),O=yb(),C=_s(),E=xr(),z=Ae(Y=>PQ(Y,b,_,E,N));if(C!=="horizontal"&&C!=="vertical"||z==null||O==null)return null;var{height:D,width:L,x:T,y:q}=O;return j.createElement(xF,Nc({},S,{id:N,connectNulls:f,dot:m,activeDot:r,animateNewValues:n,animationBegin:l,animationDuration:o,animationEasing:u,isAnimationActive:h,hide:p,label:v,legendType:x,xAxisId:b,yAxisId:_,points:z,layout:C,height:D,width:L,left:T,top:q,needClip:A}))}function jF(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:l,yAxisTicks:o,dataKey:u,bandSize:f,displayedData:m}=e;return m.map((p,h)=>{var v=$t(p,u);if(t==="horizontal"){var x=mS({axis:r,ticks:l,bandSize:f,entry:p,index:h}),b=St(v)?null:n.scale.map(v);return{x,y:b??null,value:v,payload:p}}var _=St(v)?null:r.scale.map(v),N=mS({axis:n,ticks:o,bandSize:f,entry:p,index:h});return _==null||N==null?null:{x:_,y:N,value:v,payload:p}}).filter(Boolean)}function NF(e){var t=Ar(e,nD),r=xr();return j.createElement(BM,{id:t.id,type:"line"},n=>j.createElement(j.Fragment,null,j.createElement(IM,{legendPayload:cF(t)}),j.createElement(uF,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),j.createElement(UM,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),j.createElement(bF,Nc({},t,{id:n}))))}var aD=j.memo(NF,Am);aD.displayName="Line";function As(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(l=>l.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:HM}function Cs(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(l=>l.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:HM}var _F="Invariant failed";function SF(e,t){throw new Error(_F)}function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(null,arguments)}function Af(e){return j.createElement(PM,Ty({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var wF=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,l)=>{if(Ne(t))return t;var o=Ne(n)||St(n);return o?t(n,l):(o||SF(),r)}},AF=(e,t,r)=>r,CF=(e,t)=>t,$c=te([jm,CF],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),EF=te([$c],e=>e?.maxBarSize),OF=(e,t,r,n)=>n,zF=te([nt,jm,As,Cs,AF],(e,t,r,n,l)=>t.filter(o=>e==="horizontal"?o.xAxisId===r:o.yAxisId===n).filter(o=>o.isPanorama===l).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),MF=(e,t,r)=>{var n=nt(e),l=As(e,t),o=Cs(e,t);if(!(l==null||o==null))return n==="horizontal"?wy(e,"yAxis",o,r):wy(e,"xAxis",l,r)},DF=(e,t)=>{var r=nt(e),n=As(e,t),l=Cs(e,t);if(!(n==null||l==null))return r==="horizontal"?pA(e,"xAxis",n):pA(e,"yAxis",l)},TF=te([zF,kB,DF],bG),PF=(e,t,r)=>{var n,l,o=$c(e,t);if(o==null)return 0;var u=As(e,t),f=Cs(e,t);if(u==null||f==null)return 0;var m=nt(e),p=VO(e),{maxBarSize:h}=o,v=St(h)?p:h,x,b;return m==="horizontal"?(x=Oi(e,"xAxis",u,r),b=Ei(e,"xAxis",u,r)):(x=Oi(e,"yAxis",f,r),b=Ei(e,"yAxis",f,r)),(n=(l=Pl(x,b,!0))!==null&&l!==void 0?l:v)!==null&&n!==void 0?n:0},iD=(e,t,r)=>{var n=nt(e),l=As(e,t),o=Cs(e,t);if(!(l==null||o==null)){var u,f;return n==="horizontal"?(u=Oi(e,"xAxis",l,r),f=Ei(e,"xAxis",l,r)):(u=Oi(e,"yAxis",o,r),f=Ei(e,"yAxis",o,r)),Pl(u,f)}},kF=te([TF,VO,PB,YO,PF,iD,EF],wG),qF=(e,t,r)=>{var n=As(e,t);if(n!=null)return Oi(e,"xAxis",n,r)},RF=(e,t,r)=>{var n=Cs(e,t);if(n!=null)return Oi(e,"yAxis",n,r)},LF=(e,t,r)=>{var n=As(e,t);if(n!=null)return Ei(e,"xAxis",n,r)},IF=(e,t,r)=>{var n=Cs(e,t);if(n!=null)return Ei(e,"yAxis",n,r)},BF=te([kF,$c],CG),$F=te([MF,$c],AG),UF=te([tr,fx,qF,RF,LF,IF,BF,nt,AB,iD,$F,$c,OF],(e,t,r,n,l,o,u,f,m,p,h,v,x)=>{var{chartData:b,dataStartIndex:_,dataEndIndex:N}=m;if(!(v==null||u==null||t==null||f!=="horizontal"&&f!=="vertical"||r==null||n==null||l==null||o==null||p==null)){var{data:S}=v,A;if(S!=null&&S.length>0?A=S:A=b?.slice(_,N+1),A!=null)return vV({layout:f,barSettings:v,pos:u,parentViewBox:t,bandSize:p,xAxis:r,yAxis:n,xAxisTicks:l,yAxisTicks:o,stackedData:h,displayedData:A,offset:e,cells:x,dataStartIndex:_})}}),HF=["index"];function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(null,arguments)}function GF(e,t){if(e==null)return{};var r,n,l=QF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function QF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sD=j.createContext(void 0),FF=e=>{var t=j.useContext(sD);if(t!=null)return t.stackId;if(e!=null)return O4(e)},VF=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),YF=e=>{var t=j.useContext(sD);if(t!=null){var{stackId:r}=t;return"url(#".concat(VF(r,e),")")}},lD=e=>{var{index:t}=e,r=GF(e,HF),n=YF(t);return j.createElement(vn,Py({className:"recharts-bar-stack-layer",clipPath:n},r))},KF=["onMouseEnter","onMouseLeave","onClick"],XF=["value","background","tooltipPosition"],WF=["id"],ZF=["onMouseEnter","onClick","onMouseLeave"];function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ra.apply(null,arguments)}function OC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OC(Object(r),!0).forEach(function(n){JF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JF(e,t,r){return(t=eV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eV(e){var t=tV(e,"string");return typeof t=="symbol"?t:t+""}function tV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cf(e,t){if(e==null)return{};var r,n,l=rV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function rV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nV=e=>{var{dataKey:t,name:r,fill:n,legendType:l,hide:o}=e;return[{inactive:o,dataKey:t,type:l,color:n,value:Kf(r,t),payload:e}]},aV=j.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:l,name:o,hide:u,unit:f,tooltipType:m,id:p}=e,h={dataDefinedOnItem:void 0,getPosition:Ns,settings:{stroke:r,strokeWidth:n,fill:l,dataKey:t,nameKey:void 0,name:Kf(o,t),hide:u,type:m,color:l,unit:f,graphicalItemId:p}};return j.createElement(LM,{tooltipEntrySettings:h})});function iV(e){var t=Ae(ys),{data:r,dataKey:n,background:l,allOtherBarProps:o}=e,{onMouseEnter:u,onMouseLeave:f,onClick:m}=o,p=Cf(o,KF),h=kM(u,n,o.id),v=qM(f),x=RM(m,n,o.id);if(!l||r==null)return null;var b=Sc(l);return j.createElement(bn,{zIndex:EG(l,er.barBackground)},r.map((_,N)=>{var{value:S,background:A,tooltipPosition:O}=_,C=Cf(_,XF);if(!A)return null;var E=h(_,N),z=v(_,N),D=x(_,N),L=Nr(Nr(Nr(Nr(Nr({option:l,isActive:String(N)===t},C),{},{fill:"#eee"},A),b),rx(p,_,N)),{},{onMouseEnter:E,onMouseLeave:z,onClick:D,dataKey:n,index:N,className:"recharts-bar-background-rectangle"});return j.createElement(Af,Ra({key:"background-bar-".concat(N)},L))}))}function sV(e){var{showLabels:t,children:r,rects:n}=e,l=n?.map(o=>{var u={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return Nr(Nr({},u),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:u,fill:o.fill})});return j.createElement(CM,{value:t?l:void 0},r)}function lV(e){var{shape:t,activeBar:r,baseProps:n,entry:l,index:o,dataKey:u}=e,f=Ae(ys),m=Ae(iM),p=r&&String(o)===f&&(m==null||u===m),h=p?r:t;return p?j.createElement(bn,{zIndex:er.activeBar},j.createElement(lD,{index:o},j.createElement(Af,Ra({},n,{name:String(n.name)},l,{isActive:p,option:h,index:o,dataKey:u})))):j.createElement(Af,Ra({},n,{name:String(n.name)},l,{isActive:p,option:h,index:o,dataKey:u}))}function oV(e){var{shape:t,baseProps:r,entry:n,index:l,dataKey:o}=e;return j.createElement(Af,Ra({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:l,dataKey:o}))}function cV(e){var t,{data:r,props:n}=e,l=(t=Tn(n))!==null&&t!==void 0?t:{},{id:o}=l,u=Cf(l,WF),{shape:f,dataKey:m,activeBar:p}=n,{onMouseEnter:h,onClick:v,onMouseLeave:x}=n,b=Cf(n,ZF),_=kM(h,m,o),N=qM(x),S=RM(v,m,o);return r?j.createElement(j.Fragment,null,r.map((A,O)=>j.createElement(lD,Ra({index:O,key:"rectangle-".concat(A?.x,"-").concat(A?.y,"-").concat(A?.value,"-").concat(O),className:"recharts-bar-rectangle"},rx(b,A,O),{onMouseEnter:_(A,O),onMouseLeave:N(A,O),onClick:S(A,O)}),p?j.createElement(lV,{shape:f,activeBar:p,baseProps:u,entry:A,index:O,dataKey:m}):j.createElement(oV,{shape:f,baseProps:u,entry:A,index:O,dataKey:m})))):null}function uV(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:l,isAnimationActive:o,animationBegin:u,animationDuration:f,animationEasing:m,onAnimationEnd:p,onAnimationStart:h}=t,v=r.current,x=sm(t,"recharts-bar-"),[b,_]=j.useState(!1),N=!b,S=j.useCallback(()=>{typeof p=="function"&&p(),_(!1)},[p]),A=j.useCallback(()=>{typeof h=="function"&&h(),_(!0)},[h]);return j.createElement(sV,{showLabels:N,rects:n},j.createElement(im,{animationId:x,begin:u,duration:f,isActive:o,easing:m,onAnimationEnd:S,onAnimationStart:A,key:x},O=>{var C=O===1?n:n?.map((E,z)=>{var D=v&&v[z];if(D)return Nr(Nr({},E),{},{x:zt(D.x,E.x,O),y:zt(D.y,E.y,O),width:zt(D.width,E.width,O),height:zt(D.height,E.height,O)});if(l==="horizontal"){var L=zt(0,E.height,O),T=zt(E.stackedBarStart,E.y,O);return Nr(Nr({},E),{},{y:T,height:L})}var q=zt(0,E.width,O),Y=zt(E.stackedBarStart,E.x,O);return Nr(Nr({},E),{},{width:q,x:Y})});return O>0&&(r.current=C??null),C==null?null:j.createElement(vn,null,j.createElement(cV,{props:t,data:C}))}),j.createElement(OM,{label:t.label}),t.children)}function dV(e){var t=j.useRef(null);return j.createElement(uV,{previousRectanglesRef:t,props:e})}var oD=0,fV=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:$t(e,t)}};class mV extends j.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:l,xAxisId:o,yAxisId:u,needClip:f,background:m,id:p}=this.props;if(t||r==null)return null;var h=ot("recharts-bar",l),v=p;return j.createElement(vn,{className:h,id:p},f&&j.createElement("defs",null,j.createElement(WM,{clipPathId:v,xAxisId:o,yAxisId:u})),j.createElement(vn,{className:"recharts-bar-rectangles",clipPath:f?"url(#clipPath-".concat(v,")"):void 0},j.createElement(iV,{data:r,dataKey:n,background:m,allOtherBarProps:this.props}),j.createElement(dV,this.props)))}}var pV={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:oD,xAxisId:0,yAxisId:0,zIndex:er.bar};function hV(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:l,minPointSize:o,activeBar:u,animationBegin:f,animationDuration:m,animationEasing:p,isAnimationActive:h}=e,{needClip:v}=jb(t,r),x=_s(),b=xr(),_=vH(e.children,hb),N=Ae(O=>UF(O,e.id,b,_));if(x!=="vertical"&&x!=="horizontal")return null;var S,A=N?.[0];return A==null||A.height==null||A.width==null?S=0:S=x==="vertical"?A.height/2:A.width/2,j.createElement(XM,{xAxisId:t,yAxisId:r,data:N,dataPointFormatter:fV,errorBarOffset:S},j.createElement(mV,Ra({},e,{layout:x,needClip:v,data:N,xAxisId:t,yAxisId:r,hide:n,legendType:l,minPointSize:o,activeBar:u,animationBegin:f,animationDuration:m,animationEasing:p,isAnimationActive:h})))}function vV(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:l,bandSize:o,xAxis:u,yAxis:f,xAxisTicks:m,yAxisTicks:p,stackedData:h,displayedData:v,offset:x,cells:b,parentViewBox:_,dataStartIndex:N}=e,S=t==="horizontal"?f:u,A=h?S.scale.domain():null,O=z4({numericAxis:S}),C=S.scale.map(O);return v.map((E,z)=>{var D,L,T,q,Y,X;if(h){var $=h[z+N];if($==null)return null;D=S4($,A)}else D=$t(E,r),Array.isArray(D)||(D=[O,D]);var oe=wF(n,oD)(D[1],z);if(t==="horizontal"){var ue,V=f.scale.map(D[0]),k=f.scale.map(D[1]);if(V==null||k==null)return null;L=pS({axis:u,ticks:m,bandSize:o,offset:l.offset,entry:E,index:z}),T=(ue=k??V)!==null&&ue!==void 0?ue:void 0,q=l.size;var J=V-k;if(Y=Zn(J)?0:J,X={x:L,y:x.top,width:q,height:x.height},Math.abs(oe)>0&&Math.abs(Y)<Math.abs(oe)){var G=kr(Y||oe)*(Math.abs(oe)-Math.abs(Y));T-=G,Y+=G}}else{var me=u.scale.map(D[0]),I=u.scale.map(D[1]);if(me==null||I==null)return null;if(L=me,T=pS({axis:f,ticks:p,bandSize:o,offset:l.offset,entry:E,index:z}),q=I-me,Y=l.size,X={x:x.left,y:T,width:x.width,height:Y},Math.abs(oe)>0&&Math.abs(q)<Math.abs(oe)){var ve=kr(q||oe)*(Math.abs(oe)-Math.abs(q));q+=ve}}if(L==null||T==null||q==null||Y==null)return null;var xe=Nr(Nr({},E),{},{stackedBarStart:C,x:L,y:T,width:q,height:Y,value:h?D:D[1],payload:E,background:X,tooltipPosition:{x:L+q/2,y:T+Y/2},parentViewBox:_},b&&b[z]&&b[z].props);return xe}).filter(Boolean)}function gV(e){var t=Ar(e,pV),r=FF(t.stackId),n=xr();return j.createElement(BM,{id:t.id,type:"bar"},l=>j.createElement(j.Fragment,null,j.createElement(IM,{legendPayload:nV(t)}),j.createElement(aV,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:l}),j.createElement(UM,{type:"bar",id:l,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),j.createElement(bn,{zIndex:t.zIndex},j.createElement(hV,Ra({},t,{id:l})))))}var cD=j.memo(gV,Am);cD.displayName="Bar";var yV=["domain","range"],xV=["domain","range"];function zC(e,t){if(e==null)return{};var r,n,l=bV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function bV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function MC(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function uD(e,t){if(e===t)return!0;var{domain:r,range:n}=e,l=zC(e,yV),{domain:o,range:u}=t,f=zC(t,xV);return!MC(r,o)||!MC(n,u)?!1:Am(l,f)}var jV=["type"],NV=["dangerouslySetInnerHTML","ticks","scale"],_V=["id","scale"];function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ky.apply(null,arguments)}function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function TC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){SV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SV(e,t,r){return(t=wV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wV(e){var t=AV(e,"string");return typeof t=="symbol"?t:t+""}function AV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qy(e,t){if(e==null)return{};var r,n,l=CV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function CV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function EV(e){var t=kt(),r=j.useRef(null),n=qE(),{type:l}=e,o=qy(e,jV),u=hm(n,"xAxis",l),f=j.useMemo(()=>{if(u!=null)return TC(TC({},o),{},{type:u})},[o,u]);return j.useLayoutEffect(()=>{f!=null&&(r.current===null?t(aG(f)):r.current!==f&&t(iG({prev:r.current,next:f})),r.current=f)},[f,t]),j.useLayoutEffect(()=>()=>{r.current&&(t(sG(r.current)),r.current=null)},[t]),null}var OV=e=>{var{xAxisId:t,className:r}=e,n=Ae(fx),l=xr(),o="xAxis",u=Ae(A=>Lz(A,o,t,l)),f=Ae(A=>Pz(A,t)),m=Ae(A=>q$(A,t)),p=Ae(A=>nz(A,t));if(f==null||m==null||p==null)return null;var{dangerouslySetInnerHTML:h,ticks:v,scale:x}=e,b=qy(e,NV),{id:_,scale:N}=p,S=qy(p,_V);return j.createElement(bb,ky({},b,S,{x:m.x,y:m.y,width:f.width,height:f.height,className:ot("recharts-".concat(o," ").concat(o),r),viewBox:n,ticks:u,axisType:o}))},zV={allowDataOverflow:Wt.allowDataOverflow,allowDecimals:Wt.allowDecimals,allowDuplicatedCategory:Wt.allowDuplicatedCategory,angle:Wt.angle,axisLine:Oa.axisLine,height:Wt.height,hide:!1,includeHidden:Wt.includeHidden,interval:Wt.interval,label:!1,minTickGap:Wt.minTickGap,mirror:Wt.mirror,orientation:Wt.orientation,padding:Wt.padding,reversed:Wt.reversed,scale:Wt.scale,tick:Wt.tick,tickCount:Wt.tickCount,tickLine:Oa.tickLine,tickSize:Oa.tickSize,type:Wt.type,xAxisId:0},MV=e=>{var t=Ar(e,zV);return j.createElement(j.Fragment,null,j.createElement(EV,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),j.createElement(OV,t))},Ry=j.memo(MV,uD);Ry.displayName="XAxis";var DV=["type"],TV=["dangerouslySetInnerHTML","ticks","scale"],PV=["id","scale"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(null,arguments)}function PC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function kC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(r),!0).forEach(function(n){kV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kV(e,t,r){return(t=qV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qV(e){var t=RV(e,"string");return typeof t=="symbol"?t:t+""}function RV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iy(e,t){if(e==null)return{};var r,n,l=LV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function LV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function IV(e){var t=kt(),r=j.useRef(null),n=qE(),{type:l}=e,o=Iy(e,DV),u=hm(n,"yAxis",l),f=j.useMemo(()=>{if(u!=null)return kC(kC({},o),{},{type:u})},[u,o]);return j.useLayoutEffect(()=>{f!=null&&(r.current===null?t(lG(f)):r.current!==f&&t(oG({prev:r.current,next:f})),r.current=f)},[f,t]),j.useLayoutEffect(()=>()=>{r.current&&(t(cG(r.current)),r.current=null)},[t]),null}function BV(e){var{yAxisId:t,className:r,width:n,label:l}=e,o=j.useRef(null),u=j.useRef(null),f=Ae(fx),m=xr(),p=kt(),h="yAxis",v=Ae(D=>kz(D,t)),x=Ae(D=>L$(D,t)),b=Ae(D=>Lz(D,h,t,m)),_=Ae(D=>az(D,t));if(j.useLayoutEffect(()=>{if(!(n!=="auto"||!v||gb(l)||j.isValidElement(l)||_==null)){var D=o.current;if(D){var L=D.getCalculatedWidth();Math.round(v.width)!==Math.round(L)&&p(uG({id:t,width:L}))}}},[b,v,p,l,t,n,_]),v==null||x==null||_==null)return null;var{dangerouslySetInnerHTML:N,ticks:S,scale:A}=e,O=Iy(e,TV),{id:C,scale:E}=_,z=Iy(_,PV);return j.createElement(bb,Ly({},O,z,{ref:o,labelRef:u,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:ot("recharts-".concat(h," ").concat(h),r),viewBox:f,ticks:b,axisType:h}))}var $V={allowDataOverflow:Zt.allowDataOverflow,allowDecimals:Zt.allowDecimals,allowDuplicatedCategory:Zt.allowDuplicatedCategory,angle:Zt.angle,axisLine:Oa.axisLine,hide:!1,includeHidden:Zt.includeHidden,interval:Zt.interval,label:!1,minTickGap:Zt.minTickGap,mirror:Zt.mirror,orientation:Zt.orientation,padding:Zt.padding,reversed:Zt.reversed,scale:Zt.scale,tick:Zt.tick,tickCount:Zt.tickCount,tickLine:Oa.tickLine,tickSize:Oa.tickSize,type:Zt.type,width:Zt.width,yAxisId:0},UV=e=>{var t=Ar(e,$V);return j.createElement(j.Fragment,null,j.createElement(IV,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),j.createElement(BV,t))},By=j.memo(UV,uD);By.displayName="YAxis";var HV=(e,t)=>t,_b=te([HV,nt,tz,ar,tM,Fa,JU,tr],s9),Sb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},dD=gn("mouseClick"),fD=Cc();fD.startListening({actionCreator:dD,effect:(e,t)=>{var r=e.payload,n=_b(t.getState(),Sb(r));n?.activeIndex!=null&&t.dispatch(Z$({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var $y=gn("mouseMove"),mD=Cc(),bd=null;mD.startListening({actionCreator:$y,effect:(e,t)=>{var r=e.payload;bd!==null&&cancelAnimationFrame(bd);var n=Sb(r);bd=requestAnimationFrame(()=>{var l=t.getState(),o=ib(l,l.tooltip.settings.shared);if(o==="axis"){var u=_b(l,n);u?.activeIndex!=null?t.dispatch(Fz({activeIndex:u.activeIndex,activeDataKey:void 0,activeCoordinate:u.activeCoordinate})):t.dispatch(Qz())}bd=null})}});function GV(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var qC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},pD=Ir({name:"rootProps",initialState:qC,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:qC.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),QV=pD.reducer,{updateOptions:FV}=pD.actions,VV=null,YV={updatePolarOptions:(e,t)=>t.payload},hD=Ir({name:"polarOptions",initialState:VV,reducers:YV}),{updatePolarOptions:_X}=hD.actions,KV=hD.reducer,vD=gn("keyDown"),gD=gn("focus"),wb=Cc();wb.startListening({actionCreator:vD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:l}=r.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var u=sb(l,Vl(r),Rc(r),Ic(r)),f=u==null?-1:Number(u);if(!(!Number.isFinite(f)||f<0)){var m=Fa(r);if(o==="Enter"){var p=bf(r,"axis","hover",String(l.index));t.dispatch(Cy({active:!l.active,activeIndex:l.index,activeCoordinate:p}));return}var h=U$(r),v=h==="left-to-right"?1:-1,x=o==="ArrowRight"?1:-1,b=f+x*v;if(!(m==null||b>=m.length||b<0)){var _=bf(r,"axis","hover",String(b));t.dispatch(Cy({active:!0,activeIndex:b.toString(),activeCoordinate:_}))}}}}}});wb.startListening({actionCreator:gD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:l}=r.tooltip;if(!l.active&&l.index==null){var o="0",u=bf(r,"axis","hover",String(o));t.dispatch(Cy({active:!0,activeIndex:o,activeCoordinate:u}))}}}});var pn=gn("externalEvent"),yD=Cc(),Pg=new Map;yD.startListening({actionCreator:pn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var l=n.type,o=Pg.get(l);o!==void 0&&cancelAnimationFrame(o);var u=requestAnimationFrame(()=>{try{var f=t.getState(),m={activeCoordinate:RU(f),activeDataKey:iM(f),activeIndex:ys(f),activeLabel:aM(f),activeTooltipIndex:ys(f),isTooltipActive:LU(f)};r(m,n)}finally{Pg.delete(l)}});Pg.set(l,u)}}});var XV=te([Ql],e=>e.tooltipItemPayloads),WV=te([XV,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(o=>o.settings.graphicalItemId===r);if(n!=null){var{getPosition:l}=n;if(l!=null)return l(t)}}}),xD=gn("touchMove"),bD=Cc();bD.startListening({actionCreator:xD,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),l=ib(n,n.tooltip.settings.shared);if(l==="axis"){var o=r.touches[0];if(o==null)return;var u=_b(n,Sb({clientX:o.clientX,clientY:o.clientY,currentTarget:r.currentTarget}));u?.activeIndex!=null&&t.dispatch(Fz({activeIndex:u.activeIndex,activeDataKey:void 0,activeCoordinate:u.activeCoordinate}))}else if(l==="item"){var f,m=r.touches[0];if(document.elementFromPoint==null||m==null)return;var p=document.elementFromPoint(m.clientX,m.clientY);if(!p||!p.getAttribute)return;var h=p.getAttribute(R4),v=(f=p.getAttribute(L4))!==null&&f!==void 0?f:void 0,x=Fl(n).find(N=>N.id===v);if(h==null||x==null||v==null)return;var{dataKey:b}=x,_=WV(n,h,v);t.dispatch(Gz({activeDataKey:b,activeIndex:h,activeCoordinate:_,activeGraphicalItemId:v}))}}}});var ZV=Z2({brush:zG,cartesianAxis:dG,chartData:R9,errorBars:SQ,graphicalItems:HH,layout:x4,legend:OL,options:D9,polarAxis:dH,polarOptions:KV,referenceElements:PG,rootProps:QV,tooltip:J$,zIndex:b9}),JV=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return G5({reducer:ZV,preloadedState:t,middleware:n=>{var l;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((l="es6")!==null&&l!==void 0?l:"")}).concat([fD.middleware,mD.middleware,wb.middleware,yD.middleware,bD.middleware])},enhancers:n=>{var l=n;return typeof n=="function"&&(l=n()),l.concat(mE({type:"raf"}))},devTools:{serialize:{replacer:GV},name:"recharts-".concat(r)}})};function eY(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,l=xr(),o=j.useRef(null);if(l)return r;o.current==null&&(o.current=JV(t,n));var u=ix;return j.createElement(JQ,{context:u,store:o.current},r)}function tY(e){var{layout:t,margin:r}=e,n=kt(),l=xr();return j.useEffect(()=>{l||(n(v4(t)),n(h4(r)))},[n,l,t,r]),null}var rY=j.memo(tY,Am);function nY(e){var t=kt();return j.useEffect(()=>{t(FV(e))},[t,e]),null}function RC(e){var{zIndex:t,isPanorama:r}=e,n=j.useRef(null),l=kt();return j.useLayoutEffect(()=>(n.current&&l(y9({zIndex:t,element:n.current,isPanorama:r})),()=>{l(x9({zIndex:t,isPanorama:r}))}),[l,t,r]),j.createElement("g",{tabIndex:-1,ref:n})}function LC(e){var{children:t,isPanorama:r}=e,n=Ae(o9);if(!n||n.length===0)return t;var l=n.filter(u=>u<0),o=n.filter(u=>u>0);return j.createElement(j.Fragment,null,l.map(u=>j.createElement(RC,{key:u,zIndex:u,isPanorama:r})),t,o.map(u=>j.createElement(RC,{key:u,zIndex:u,isPanorama:r})))}var aY=["children"];function iY(e,t){if(e==null)return{};var r,n,l=sY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function sY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ef(){return Ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ef.apply(null,arguments)}var lY={width:"100%",height:"100%",display:"block"},oY=j.forwardRef((e,t)=>{var r=PE(),n=kE(),l=QE();if(!ea(r)||!ea(n))return null;var{children:o,otherAttributes:u,title:f,desc:m}=e,p,h;return u!=null&&(typeof u.tabIndex=="number"?p=u.tabIndex:p=l?0:void 0,typeof u.role=="string"?h=u.role:h=l?"application":void 0),j.createElement(v2,Ef({},u,{title:f,desc:m,role:h,tabIndex:p,width:r,height:n,style:lY,ref:t}),o)}),cY=e=>{var{children:t}=e,r=Ae(Jf);if(!r)return null;var{width:n,height:l,y:o,x:u}=r;return j.createElement(v2,{width:n,height:l,x:u,y:o},t)},IC=j.forwardRef((e,t)=>{var{children:r}=e,n=iY(e,aY),l=xr();return l?j.createElement(cY,null,j.createElement(LC,{isPanorama:!0},r)):j.createElement(oY,Ef({ref:t},n),j.createElement(LC,{isPanorama:!1},r))});function uY(){var e=kt(),[t,r]=j.useState(null),n=Ae(q4);return j.useEffect(()=>{if(t!=null){var l=t.getBoundingClientRect(),o=l.width/t.offsetWidth;Ye(o)&&o!==n&&e(y4(o))}},[t,e,n]),r}function BC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function dY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(r),!0).forEach(function(n){fY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fY(e,t,r){return(t=mY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mY(e){var t=pY(e,"string");return typeof t=="symbol"?t:t+""}function pY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ai.apply(null,arguments)}var hY=()=>(F9(),null);function Of(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var vY=j.forwardRef((e,t)=>{var r,n,l=j.useRef(null),[o,u]=j.useState({containerWidth:Of((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Of((n=e.style)===null||n===void 0?void 0:n.height)}),f=j.useCallback((p,h)=>{u(v=>{var x=Math.round(p),b=Math.round(h);return v.containerWidth===x&&v.containerHeight===b?v:{containerWidth:x,containerHeight:b}})},[]),m=j.useCallback(p=>{if(typeof t=="function"&&t(p),p!=null&&typeof ResizeObserver<"u"){var{width:h,height:v}=p.getBoundingClientRect();f(h,v);var x=_=>{var N=_[0];if(N!=null){var{width:S,height:A}=N.contentRect;f(S,A)}},b=new ResizeObserver(x);b.observe(p),l.current=b}},[t,f]);return j.useEffect(()=>()=>{var p=l.current;p?.disconnect()},[f]),j.createElement(j.Fragment,null,j.createElement(Oc,{width:o.containerWidth,height:o.containerHeight}),j.createElement("div",Ai({ref:m},e)))}),gY=j.forwardRef((e,t)=>{var{width:r,height:n}=e,[l,o]=j.useState({containerWidth:Of(r),containerHeight:Of(n)}),u=j.useCallback((m,p)=>{o(h=>{var v=Math.round(m),x=Math.round(p);return h.containerWidth===v&&h.containerHeight===x?h:{containerWidth:v,containerHeight:x}})},[]),f=j.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null){var{width:p,height:h}=m.getBoundingClientRect();u(p,h)}},[t,u]);return j.createElement(j.Fragment,null,j.createElement(Oc,{width:l.containerWidth,height:l.containerHeight}),j.createElement("div",Ai({ref:f},e)))}),yY=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return j.createElement(j.Fragment,null,j.createElement(Oc,{width:r,height:n}),j.createElement("div",Ai({ref:t},e)))}),xY=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?j.createElement(gY,Ai({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?j.createElement(yY,Ai({},e,{width:r,height:n,ref:t})):j.createElement(j.Fragment,null,j.createElement(Oc,{width:r,height:n}),j.createElement("div",Ai({ref:t},e)))});function bY(e){return e?vY:xY}var jY=j.forwardRef((e,t)=>{var{children:r,className:n,height:l,onClick:o,onContextMenu:u,onDoubleClick:f,onMouseDown:m,onMouseEnter:p,onMouseLeave:h,onMouseMove:v,onMouseUp:x,onTouchEnd:b,onTouchMove:_,onTouchStart:N,style:S,width:A,responsive:O,dispatchTouchEvents:C=!0}=e,E=j.useRef(null),z=kt(),[D,L]=j.useState(null),[T,q]=j.useState(null),Y=uY(),X=mx(),$=X?.width>0?X.width:A,oe=X?.height>0?X.height:l,ue=j.useCallback(re=>{Y(re),typeof t=="function"&&t(re),L(re),q(re),re!=null&&(E.current=re)},[Y,t,L,q]),V=j.useCallback(re=>{z(dD(re)),z(pn({handler:o,reactEvent:re}))},[z,o]),k=j.useCallback(re=>{z($y(re)),z(pn({handler:p,reactEvent:re}))},[z,p]),J=j.useCallback(re=>{z(Qz()),z(pn({handler:h,reactEvent:re}))},[z,h]),G=j.useCallback(re=>{z($y(re)),z(pn({handler:v,reactEvent:re}))},[z,v]),me=j.useCallback(()=>{z(gD())},[z]),I=j.useCallback(re=>{z(vD(re.key))},[z]),ve=j.useCallback(re=>{z(pn({handler:u,reactEvent:re}))},[z,u]),xe=j.useCallback(re=>{z(pn({handler:f,reactEvent:re}))},[z,f]),pe=j.useCallback(re=>{z(pn({handler:m,reactEvent:re}))},[z,m]),ye=j.useCallback(re=>{z(pn({handler:x,reactEvent:re}))},[z,x]),fe=j.useCallback(re=>{z(pn({handler:N,reactEvent:re}))},[z,N]),U=j.useCallback(re=>{C&&z(xD(re)),z(pn({handler:_,reactEvent:re}))},[z,C,_]),le=j.useCallback(re=>{z(pn({handler:b,reactEvent:re}))},[z,b]),we=bY(O);return j.createElement(fM.Provider,{value:D},j.createElement(S3.Provider,{value:T},j.createElement(we,{width:$??S?.width,height:oe??S?.height,className:ot("recharts-wrapper",n),style:dY({position:"relative",cursor:"default",width:$,height:oe},S),onClick:V,onContextMenu:ve,onDoubleClick:xe,onFocus:me,onKeyDown:I,onMouseDown:pe,onMouseEnter:k,onMouseLeave:J,onMouseMove:G,onMouseUp:ye,onTouchEnd:le,onTouchMove:U,onTouchStart:fe,ref:ue},j.createElement(hY,null),r)))}),NY=["width","height","responsive","children","className","style","compact","title","desc"];function _Y(e,t){if(e==null)return{};var r,n,l=SY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function SY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wY=j.forwardRef((e,t)=>{var{width:r,height:n,responsive:l,children:o,className:u,style:f,compact:m,title:p,desc:h}=e,v=_Y(e,NY),x=Tn(v);return m?j.createElement(j.Fragment,null,j.createElement(Oc,{width:r,height:n}),j.createElement(IC,{otherAttributes:x,title:p,desc:h},o)):j.createElement(jY,{className:u,style:f,width:r,height:n,responsive:l??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(IC,{otherAttributes:x,title:p,desc:h,ref:t},j.createElement(qG,null,o)))});function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(null,arguments)}var AY={top:5,right:5,bottom:5,left:5},CY={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:AY,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},jD=j.forwardRef(function(t,r){var n,l=Ar(t.categoricalChartProps,CY),{chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,categoricalChartProps:p}=t,h={chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,eventEmitter:void 0};return j.createElement(eY,{preloadedState:{options:h},reduxStoreName:(n=p.id)!==null&&n!==void 0?n:o},j.createElement(OG,{chartData:p.data}),j.createElement(rY,{layout:l.layout,margin:l.margin}),j.createElement(nY,{baseValue:l.baseValue,accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className,reverseStackOrder:l.reverseStackOrder}),j.createElement(wY,Uy({},l,{ref:r})))}),EY=["axis"],OY=j.forwardRef((e,t)=>j.createElement(jD,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:EY,tooltipPayloadSearcher:mM,categoricalChartProps:e,ref:t})),zY=["axis","item"],MY=j.forwardRef((e,t)=>j.createElement(jD,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zY,tooltipPayloadSearcher:mM,categoricalChartProps:e,ref:t}));const DY=8,TY=12,PY=14,kY=1;function Ab(e){return e instanceof Mt?e.toDate():e instanceof Date?e:e?.seconds?new Date(e.seconds*1e3):new Date(e)}function $C(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function Cm(){const e=new Date,t=e.getDay(),r=t===0?-6:1-t,n=new Date(e);return n.setDate(e.getDate()+r),n.setHours(0,0,0,0),n}function qY(){const e=Cm(),t=new Date(e);return t.setDate(e.getDate()+6),t.setHours(23,59,59,999),t}function kg(e,t){return Math.floor(Math.abs(t.getTime()-e.getTime())/864e5)}async function Em(e){try{const t=Ke(Te(he,"quiz_results"),Be("userId","==",e),Pt("datePassage","desc"));return(await $e(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Erreur rcupration rsultats lve:",t),[]}}async function RY(e){try{const t=await Em(e);if(t.length===0)return[];const r=new Map;t.forEach(o=>{const u=o.disciplineId;r.has(u)||r.set(u,[]),r.get(u).push(o)});const n=[];r.forEach((o,u)=>{if(o.length<kY)return;const f=o.map(S=>S.pourcentage/100*20),m=f.reduce((S,A)=>S+A,0)/f.length;if(m>=PY)return;let p="stable";if(f.length>=3){const S=f.slice(0,2),A=f.slice(2,4),O=S.reduce((z,D)=>z+D,0)/S.length,C=A.reduce((z,D)=>z+D,0)/A.length,E=O-C;E>1.5?p="hausse":E<-1.5&&(p="baisse")}let h="modere";m<DY?h="critique":m<TY&&(h="important");const v=f[0],x=Math.max(...f),b=Math.min(...f),_=Ab(o[0].datePassage),N=o[0].disciplineNom||"Discipline inconnue";n.push({id:`lacune_${u}`,disciplineId:u,disciplineNom:N,moyenne:Math.round(m*10)/10,nombreQuiz:o.length,tendance:p,niveauUrgence:h,dernierQuizDate:_,scoreDetails:{dernierScore:Math.round(v*10)/10,meilleurScore:Math.round(x*10)/10,pireScore:Math.round(b*10)/10}})});const l={critique:0,important:1,modere:2};return n.sort((o,u)=>{const f=l[o.niveauUrgence]-l[u.niveauUrgence];return f!==0?f:o.moyenne-u.moyenne}),n}catch(t){return console.error("Erreur dtection lacunes:",t),[]}}function LY(e){const t=[];let r=1;return e.forEach(n=>{const{id:l,disciplineNom:o,niveauUrgence:u,moyenne:f,tendance:m}=n;switch(u){case"critique":t.push({id:`reco_cours_${l}`,lacuneId:l,type:"revoir_cours",titre:` Revoir les cours de ${o}`,description:`Ta moyenne est de ${f}/20 en ${o}. Il est important de reprendre les bases. Consulte les cours disponibles et prends des notes.`,disciplineNom:o,priorite:r++,completee:!1,dateCreation:new Date}),t.push({id:`reco_quiz_${l}`,lacuneId:l,type:"refaire_quiz",titre:` Refaire les quiz de ${o}`,description:"Aprs avoir rvis, refais les quiz pour vrifier ta comprhension. Vise au moins 12/20 !",disciplineNom:o,priorite:r++,completee:!1,dateCreation:new Date});break;case"important":t.push({id:`reco_exercice_${l}`,lacuneId:l,type:"exercice_cible",titre:` Exercices cibls en ${o}`,description:`Avec ${f}/20 de moyenne, concentre-toi sur les exercices pratiques. ${m==="hausse"?"Tu progresses, continue !":"Un effort supplmentaire est ncessaire."}`,disciplineNom:o,priorite:r++,completee:!1,dateCreation:new Date}),t.push({id:`reco_cours2_${l}`,lacuneId:l,type:"revoir_cours",titre:` Rviser les points cls en ${o}`,description:"Identifie les concepts qui te posent problme et revois-les attentivement.",disciplineNom:o,priorite:r++,completee:!1,dateCreation:new Date});break;case"modere":t.push({id:`reco_consolider_${l}`,lacuneId:l,type:"refaire_quiz",titre:` Consolider tes acquis en ${o}`,description:`Tu es proche du niveau attendu (${f}/20). Un quiz supplmentaire devrait suffire pour atteindre 14/20 !`,disciplineNom:o,priorite:r++,completee:!1,dateCreation:new Date});break}}),t}async function IY(e){try{const t=await Em(e);if(t.length===0)return{userId:e,streakActuel:0,meilleurStreak:0,dernierJourActif:null,totalJoursActifs:0,semaineCourante:[!1,!1,!1,!1,!1,!1,!1],historiqueHebdo:[]};const r=new Set;t.forEach(N=>{const S=Ab(N.datePassage),A=`${S.getFullYear()}-${S.getMonth()}-${S.getDate()}`;r.add(A)});const n=Array.from(r).map(N=>{const[S,A,O]=N.split("-").map(Number);return new Date(S,A,O)}).sort((N,S)=>S.getTime()-N.getTime()),l=n.length,o=n[0];let u=0;const f=new Date;f.setHours(0,0,0,0);const m=n[0];if(kg(m,f)<=1){u=1;for(let N=1;N<n.length&&kg(n[N],n[N-1])===1;N++)u++}let h=0,v=1;for(let N=1;N<n.length;N++)kg(n[N],n[N-1])===1?v++:(h=Math.max(h,v),v=1);h=Math.max(h,v,u);const x=Cm(),b=[];for(let N=0;N<7;N++){const S=new Date(x);S.setDate(x.getDate()+N);const A=n.some(O=>$C(O,S));b.push(A)}const _=[];for(let N=0;N<4;N++){const S=new Date(x);S.setDate(x.getDate()-N*7);let A=0;for(let C=0;C<7;C++){const E=new Date(S);E.setDate(S.getDate()+C),n.some(z=>$C(z,E))&&A++}const O=Math.ceil((S.getDate()+new Date(S.getFullYear(),S.getMonth(),1).getDay())/7);_.push({semaine:N===0?"Cette sem.":`Sem. -${N}`,joursActifs:A})}return{userId:e,streakActuel:u,meilleurStreak:h,dernierJourActif:o,totalJoursActifs:l,semaineCourante:b,historiqueHebdo:_.reverse()}}catch(t){return console.error("Erreur calcul streak:",t),{userId:e,streakActuel:0,meilleurStreak:0,dernierJourActif:null,totalJoursActifs:0,semaineCourante:[!1,!1,!1,!1,!1,!1,!1],historiqueHebdo:[]}}}function BY(e,t,r){const n=[],l=Cm(),o=qY(),u=t.length>2?5:3;if(n.push({id:`obj_quiz_${e}_${l.getTime()}`,userId:e,titre:`Passer ${u} quiz cette semaine`,description:`Entrane-toi en passant au moins ${u} quiz pour progresser dans tes matires.`,type:"quiz_count",cible:u,progression:0,statut:"en_cours",dateDebut:l,dateFin:o,recompense:' Badge "Travailleur"'}),t.length>0){const m=t[0],p=Math.min(m.moyenne+3,14);n.push({id:`obj_score_${e}_${l.getTime()}`,userId:e,titre:`Atteindre ${Math.round(p)}/20 en ${m.disciplineNom}`,description:`Ta moyenne actuelle est de ${m.moyenne}/20. Vise ${Math.round(p)}/20 lors de ton prochain quiz !`,type:"score_min",cible:Math.round(p),progression:Math.round(m.moyenne),statut:"en_cours",disciplineId:m.disciplineId,disciplineNom:m.disciplineNom,dateDebut:l,dateFin:o,recompense:' Badge "En progrs"'})}const f=r.streakActuel>=5?7:r.streakActuel+2;return n.push({id:`obj_streak_${e}_${l.getTime()}`,userId:e,titre:`Maintenir un streak de ${f} jours`,description:`Tu es actuellement  ${r.streakActuel} jour(s) conscutif(s). Continue !`,type:"streak",cible:f,progression:r.streakActuel,statut:r.streakActuel>=f?"atteint":"en_cours",dateDebut:l,dateFin:o,recompense:' Badge "Flamme"'}),n}function $Y(e,t,r,n){let l=0;if(n.length>0){const v=n.reduce((x,b)=>x+b.pourcentage/100*20,0)/n.length;l=Math.min(v/20*100,100)}let o=100;const u=e.filter(v=>v.niveauUrgence==="critique").length,f=e.filter(v=>v.niveauUrgence==="important").length;o-=u*25,o-=f*15,o=Math.max(o,0);const m=Math.min(t.streakActuel/7*100,100);let p=0;r.length>0&&(p=r.filter(x=>x.statut==="atteint").length/r.length*100);const h=l*.4+o*.25+m*.2+p*.15;return Math.round(Math.min(Math.max(h,0),100))}function UY(e,t,r){const n=Cm(),l=t.filter(o=>Ab(o.datePassage)>=n);return e.map(o=>{const u={...o};switch(o.type){case"quiz_count":u.progression=l.length;break;case"score_min":if(o.disciplineId){const f=l.filter(m=>m.disciplineId===o.disciplineId);if(f.length>0){const m=Math.max(...f.map(p=>p.pourcentage));u.progression=Math.round(m/100*20)}}break;case"streak":u.progression=r.streakActuel;break}return u.progression>=u.cible&&(u.statut="atteint"),u})}async function Cb(e){try{const t=await RY(e),r=LY(t),n=await IY(e);let l=BY(e,t,n);const o=await Em(e);l=UY(l,o,n);const u=$Y(t,n,l,o);return{lacunes:t,recommandations:r,streak:n,objectifs:l,scoreGlobal:u}}catch(t){return console.error("Erreur suivi complet:",t),{lacunes:[],recommandations:[],streak:{userId:e,streakActuel:0,meilleurStreak:0,dernierJourActif:null,totalJoursActifs:0,semaineCourante:[!1,!1,!1,!1,!1,!1,!1],historiqueHebdo:[]},objectifs:[],scoreGlobal:0}}}function zf(e){switch(e){case"critique":return"#ef4444";case"important":return"#f59e0b";case"modere":return"#eab308";case"info":return"#10b981";default:return"#6b7280"}}function ND(e){switch(e){case"critique":return"Critique";case"important":return"Important";case"modere":return"Modr";case"info":return"Info";default:return"Inconnu"}}function _D(e){switch(e){case"hausse":return"";case"baisse":return"";case"stable":return"";default:return""}}function HY(e){return e>=80?"Excellent travail ! Continue comme a, tu es sur la bonne voie ! ":e>=60?"Bon travail ! Quelques efforts supplmentaires et tu seras au top ! ":e>=40?"Tu peux faire mieux ! Suis les recommandations pour progresser. ":e>=20?"Courage ! Chaque effort compte. Commence par les recommandations prioritaires. ":"C'est le moment de se lancer ! Passe ton premier quiz pour commencer. "}function GY(e){return e.cible===0?0:Math.min(Math.round(e.progression/e.cible*100),100)}const QY="PEDA",FY=4,VY=5,YY=40,SD=5;function Ca(e){return e instanceof Mt?e.toDate():e instanceof Date?e:e?.seconds?new Date(e.seconds*1e3):new Date(e)}function wD(e){const t=new Date,r=t.getDay(),n=r===0?-6:1-r,l=new Date(t);return l.setDate(t.getDate()+n),l.setHours(0,0,0,0),l}function KY(e){const t=wD(),r=new Date(t);return r.setDate(t.getDate()+6),r.setHours(23,59,59,999),r}function UC(e){const t=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"];return`${e.getDate()} ${t[e.getMonth()]}`}function AD(e,t){return Math.floor(Math.abs(t.getTime()-e.getTime())/864e5)}async function XY(e){try{const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let r="",n="";for(let u=0;u<FY;u++)r+=t.charAt(Math.floor(Math.random()*t.length)),n+=t.charAt(Math.floor(Math.random()*t.length));const l=`${QY}-${r}-${n}`,o=De(he,"users",e);return await _t(o,{codeParent:l,codeParentGenere:new Date}),l}catch(t){throw console.error("Erreur gnration code invitation:",t),new Error("Impossible de gnrer le code d'invitation")}}async function WY(e){try{const t=De(he,"users",e),r=await yr(t);if(!r.exists())throw new Error("lve introuvable");const n=r.data();return n.codeParent?n.codeParent:await XY(e)}catch(t){throw console.error("Erreur rcupration code invitation:",t),new Error("Impossible de rcuprer le code d'invitation")}}async function ZY(e,t){try{const r=t.trim().toUpperCase(),n=Te(he,"users"),l=Ke(n,Be("codeParent","==",r),Be("role","==","eleve"),Wn(1)),o=await $e(l);if(o.empty)throw new Error("Code d'invitation invalide. Vrifiez le code et ressayez.");const u=o.docs[0],f=u.data(),m=u.id,p=Te(he,"liens_parent_enfant"),h=Ke(p,Be("parentId","==",e),Be("enfantId","==",m),Be("statut","==","actif"),Wn(1));if(!(await $e(h)).empty)throw new Error("Cet enfant est dj li  votre compte.");const x={parentId:e,enfantId:m,enfantNom:f.displayName||f.email,enfantEmail:f.email,enfantClasse:f.classe||void 0,codeInvitation:r,statut:"actif",dateCreation:new Date};return{id:(await Lr(p,x)).id,...x}}catch(r){throw console.error("Erreur liaison parent-enfant:",r),r}}async function JY(e){try{const t=Te(he,"liens_parent_enfant"),r=Ke(t,Be("parentId","==",e),Be("statut","==","actif"),Pt("dateCreation","desc"));return(await $e(r)).docs.map(l=>({id:l.id,...l.data(),dateCreation:Ca(l.data().dateCreation),dateDerniereConsultation:l.data().dateDerniereConsultation?Ca(l.data().dateDerniereConsultation):void 0}))}catch(t){return console.error("Erreur rcupration enfants lis:",t),[]}}async function eK(e,t){try{const r=De(he,"liens_parent_enfant",e),n=await yr(r);if(!n.exists())throw new Error("Lien introuvable");if(n.data().parentId!==t)throw new Error("Action non autorise");await _t(r,{statut:"revoque",dateRevocation:new Date})}catch(r){throw console.error("Erreur rvocation lien:",r),r}}async function tK(e,t){try{const r=Te(he,"liens_parent_enfant"),n=Ke(r,Be("parentId","==",e),Be("enfantId","==",t),Be("statut","==","actif"),Wn(1)),l=await $e(n);if(l.empty)throw new Error("Vous n'tes pas autoris  consulter le suivi de cet enfant.");const o=De(he,"users",t),u=await yr(o);if(!u.exists())throw new Error("Profil de l'enfant introuvable.");const f=u.data(),m=await Cb(t),p=await Em(t),h=p.slice(0,SD).map(_=>({quizTitre:_.quizTitre||"Quiz",disciplineNom:_.disciplineNom||"Discipline",pourcentage:_.pourcentage,noteSur20:Math.round(_.pourcentage/100*20*10)/10,reussi:_.reussi,datePassage:Ca(_.datePassage)})),v=await rK(e,t,f.displayName||f.email,m.lacunes,m.streak,m.scoreGlobal,p),x=nK(t,f.displayName||f.email,m,p),b=l.docs[0];return await _t(De(he,"liens_parent_enfant",b.id),{dateDerniereConsultation:new Date}),{enfant:{id:t,nom:f.displayName||f.email,email:f.email,classe:f.classe||void 0,derniereConnexion:f.lastLogin?Ca(f.lastLogin):void 0},scoreGlobal:m.scoreGlobal,streak:{actuel:m.streak.streakActuel,meilleur:m.streak.meilleurStreak,semaineCourante:m.streak.semaineCourante},lacunes:m.lacunes.map(_=>({disciplineNom:_.disciplineNom,moyenne:_.moyenne,niveauUrgence:_.niveauUrgence,tendance:_.tendance})),objectifs:m.objectifs.map(_=>({titre:_.titre,progression:_.progression,cible:_.cible,statut:_.statut})),derniersQuiz:h,resume:x,alertes:v}}catch(r){throw console.error("Erreur dashboard parent:",r),r}}async function rK(e,t,r,n,l,o,u){const f=[],m=new Date;if(n.filter(h=>h.niveauUrgence==="critique").forEach(h=>{f.push({id:`alerte_parent_lacune_${h.id}`,parentId:e,enfantId:t,enfantNom:r,type:"lacune_critique",niveau:"critique",titre:` Alerte critique en ${h.disciplineNom}`,message:`${r} a une moyenne de ${h.moyenne}/20 en ${h.disciplineNom}. Un suivi rapproch est recommand.`,lue:!1,dateCreation:m})}),l.dernierJourActif){const h=AD(Ca(l.dernierJourActif),m);h>=VY&&f.push({id:`alerte_parent_inactif_${t}`,parentId:e,enfantId:t,enfantNom:r,type:"inactivite",niveau:"important",titre:` ${r} est inactif`,message:`${r} n'a pas utilis PedaClic depuis ${h} jours. Un petit encouragement pourrait aider !`,lue:!1,dateCreation:m})}else u.length===0&&f.push({id:`alerte_parent_jamais_actif_${t}`,parentId:e,enfantId:t,enfantNom:r,type:"inactivite",niveau:"modere",titre:` ${r} n'a pas encore commenc`,message:`${r} n'a pas encore pass de quiz sur PedaClic. Encouragez-le  commencer !`,lue:!1,dateCreation:m});o<YY&&u.length>0&&f.push({id:`alerte_parent_score_${t}`,parentId:e,enfantId:t,enfantNom:r,type:"score_bas",niveau:"important",titre:` Score global bas : ${o}/100`,message:`Le score de sant global de ${r} est de ${o}/100. Des efforts supplmentaires sont ncessaires dans plusieurs matires.`,lue:!1,dateCreation:m}),n.filter(h=>h.tendance==="hausse").forEach(h=>{f.push({id:`alerte_parent_progression_${h.id}`,parentId:e,enfantId:t,enfantNom:r,type:"progression",niveau:"info",titre:` Progression en ${h.disciplineNom}`,message:`Bonne nouvelle ! ${r} montre une tendance  la hausse en ${h.disciplineNom}.`,lue:!1,dateCreation:m})}),l.streakActuel>=5&&f.push({id:`alerte_parent_streak_${t}`,parentId:e,enfantId:t,enfantNom:r,type:"objectif_atteint",niveau:"info",titre:` Streak de ${l.streakActuel} jours !`,message:`Flicitations ! ${r} maintient un streak de ${l.streakActuel} jours conscutifs de travail.`,lue:!1,dateCreation:m});const p={critique:0,important:1,modere:2,info:3};return f.sort((h,v)=>p[h.niveau]-p[v.niveau]),f}function nK(e,t,r,n){const l=wD(),o=KY(),u=new Date(l);u.setDate(u.getDate()-7);const f=new Date(o);f.setDate(f.getDate()-7);const m=n.filter(E=>{const z=Ca(E.datePassage);return z>=l&&z<=o}),p=n.filter(E=>{const z=Ca(E.datePassage);return z>=u&&z<=f}),h=m.slice(0,SD).map(E=>({quizTitre:E.quizTitre||"Quiz",disciplineNom:E.disciplineNom||"Discipline",pourcentage:E.pourcentage,noteSur20:Math.round(E.pourcentage/100*20*10)/10,reussi:E.reussi,datePassage:Ca(E.datePassage)})),v=aK(m,p),x=new Set;m.forEach(E=>{const z=Ca(E.datePassage);x.add(`${z.getFullYear()}-${z.getMonth()}-${z.getDate()}`)});const b=m.reduce((E,z)=>E+(z.tempsEcoule||5),0);let _=0;if(p.length>0){const E=p.reduce((z,D)=>z+D.pourcentage,0)/p.length;_=Math.round(E)}let N="stable";const S=r.scoreGlobal-_;S>5?N="hausse":S<-5&&(N="baisse");const A=r.lacunes.filter(E=>E.niveauUrgence==="critique"||E.niveauUrgence==="important").map(E=>E.disciplineNom),O=r.objectifs.filter(E=>E.statut==="atteint").length,C=`${UC(l)} - ${UC(o)} ${o.getFullYear()}`;return{enfantId:e,enfantNom:t,semaine:C,dateDebut:l,dateFin:o,scoreGlobal:r.scoreGlobal,scoreGlobalPrecedent:_,evolutionScore:N,nombreQuizSemaine:m.length,tempsEstimeMinutes:Math.round(b),joursActifsSemaine:x.size,streakActuel:r.streak.streakActuel,derniersQuiz:h,evolutionDisciplines:v,lacunesCritiques:r.lacunes.filter(E=>E.niveauUrgence==="critique").length,lacunesImportantes:r.lacunes.filter(E=>E.niveauUrgence==="important").length,disciplinesEnDifficulte:A,objectifsAtteints:O,objectifsTotal:r.objectifs.length}}function aK(e,t){const r=new Map;e.forEach(o=>{r.has(o.disciplineId)||r.set(o.disciplineId,{scores:[],nom:o.disciplineNom||"Discipline"}),r.get(o.disciplineId).scores.push(o.pourcentage)});const n=new Map;t.forEach(o=>{n.has(o.disciplineId)||n.set(o.disciplineId,[]),n.get(o.disciplineId).push(o.pourcentage)});const l=[];return r.forEach((o,u)=>{const f=o.scores.reduce((_,N)=>_+N,0)/o.scores.length,m=n.get(u)||[],p=m.length>0?m.reduce((_,N)=>_+N,0)/m.length:f,h=Math.round(f/100*20*10)/10,v=Math.round(p/100*20*10)/10,x=Math.round((h-v)*10)/10;let b="stable";x>1?b="hausse":x<-1&&(b="baisse"),l.push({disciplineNom:o.nom,disciplineId:u,moyenneSemainePrecedente:v,moyenneSemaineCourante:h,evolution:b,ecart:x})}),l}function iK(e){return zf(e)}function sK(e){return{lacune_critique:"Lacune critique",inactivite:"Inactivit",streak_perdu:"Streak perdu",objectif_atteint:"Objectif atteint",progression:"Progression",score_bas:"Score bas",nouveau_quiz:"Nouveau quiz"}[e]||"Alerte"}function HC(e){switch(e){case"hausse":return"";case"baisse":return"";case"stable":return"";default:return""}}function lK(e){return e>=80?"Votre enfant fait un excellent travail ! Continuez  l'encourager. ":e>=60?"De bons rsultats ! Quelques efforts supplmentaires et ce sera parfait. ":e>=40?"Des progrs sont possibles. Encouragez votre enfant  suivre les recommandations. ":e>=20?"Votre enfant a besoin de soutien. Un suivi rgulier est recommand. ":"Il est temps de commencer ! Encouragez votre enfant  passer ses premiers quiz. "}function qg(e){const r=AD(e,new Date);return r===0?"Aujourd'hui":r===1?"Hier":r<7?`Il y a ${r} jours`:r<30?`Il y a ${Math.floor(r/7)} semaine(s)`:`Il y a ${Math.floor(r/30)} mois`}const oK="PROF",cK=4,jd="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",CD=8,uK=7,dK=16;function bs(e){return e instanceof Mt?e.toDate():e instanceof Date?e:e?.seconds?new Mt(e.seconds,e.nanoseconds||0).toDate():new Date(e)}function fK(e,t){return Math.floor(Math.abs(t.getTime()-e.getTime())/864e5)}async function ED(){let e=0;const t=10;for(;e<t;){let r="",n="";for(let f=0;f<cK;f++)r+=jd.charAt(Math.floor(Math.random()*jd.length)),n+=jd.charAt(Math.floor(Math.random()*jd.length));const l=`${oK}-${r}-${n}`,o=Ke(Te(he,"groupes_prof"),Be("codeInvitation","==",l),Wn(1));if((await $e(o)).empty)return l;e++}throw new Error("Impossible de gnrer un code unique aprs plusieurs tentatives")}async function mK(e,t,r){try{const n=await ED(),l={profId:e,profNom:t,nom:r.nom.trim(),description:r.description?.trim()||"",matiereId:r.matiereId,matiereNom:r.matiereNom,classeNiveau:r.classeNiveau,codeInvitation:n,nombreInscrits:0,statut:"actif",anneeScolaire:r.anneeScolaire,dateCreation:new Date,dateMiseAJour:new Date},o=await Lr(Te(he,"groupes_prof"),l);return console.log(` Groupe "${r.nom}" cr avec code: ${n}`),{id:o.id,...l}}catch(n){throw console.error(" Erreur cration groupe:",n),new Error("Impossible de crer le groupe. Ressayez.")}}async function OD(e){try{const t=Ke(Te(he,"groupes_prof"),Be("profId","==",e),Pt("dateCreation","desc"));return(await $e(t)).docs.map(n=>({id:n.id,...n.data(),dateCreation:bs(n.data().dateCreation),dateMiseAJour:n.data().dateMiseAJour?bs(n.data().dateMiseAJour):void 0}))}catch(t){throw console.error(" Erreur rcupration groupes:",t),new Error("Impossible de charger vos groupes.")}}async function pK(e){try{const t=await yr(De(he,"groupes_prof",e));if(!t.exists())return null;const r=t.data();return{id:t.id,...r,dateCreation:bs(r.dateCreation),dateMiseAJour:r.dateMiseAJour?bs(r.dateMiseAJour):void 0}}catch(t){return console.error(" Erreur rcupration groupe:",t),null}}async function zD(e,t){try{const r=De(he,"groupes_prof",e);await _t(r,{...t,dateMiseAJour:new Date}),console.log(` Groupe ${e} mis  jour`)}catch(r){throw console.error(" Erreur modification groupe:",r),new Error("Impossible de modifier le groupe.")}}async function hK(e){try{const t=sc(he),r=Ke(Te(he,"inscriptions_groupe"),Be("groupeId","==",e));(await $e(r)).docs.forEach(l=>t.delete(l.ref)),t.delete(De(he,"groupes_prof",e)),await t.commit(),console.log(` Groupe ${e} et ses inscriptions supprims`)}catch(t){throw console.error(" Erreur suppression groupe:",t),new Error("Impossible de supprimer le groupe.")}}async function vK(e){await zD(e,{statut:"archive"})}async function gK(e){try{const t=await ED();return await _t(De(he,"groupes_prof",e),{codeInvitation:t,dateMiseAJour:new Date}),console.log(` Nouveau code pour groupe ${e}: ${t}`),t}catch(t){throw console.error(" Erreur rgnration code:",t),new Error("Impossible de rgnrer le code.")}}async function yK(e,t,r,n){try{const l=n.trim().toUpperCase(),o=Ke(Te(he,"groupes_prof"),Be("codeInvitation","==",l),Wn(1)),u=await $e(o);if(u.empty)throw new Error("Code d'invitation invalide. Vrifiez le code et ressayez.");const f=u.docs[0],m=f.data();if(m.statut!=="actif")throw new Error("Ce groupe n'accepte plus de nouvelles inscriptions.");const p=Ke(Te(he,"inscriptions_groupe"),Be("groupeId","==",f.id),Be("eleveId","==",e),Be("statut","==","actif"),Wn(1));if(!(await $e(p)).empty)throw new Error("Tu es dj inscrit(e) dans ce groupe.");const v={groupeId:f.id,eleveId:e,eleveNom:t,eleveEmail:r,statut:"actif",dateInscription:new Date},x=await Lr(Te(he,"inscriptions_groupe"),v);return await _t(De(he,"groupes_prof",f.id),{nombreInscrits:KC(1),dateMiseAJour:new Date}),console.log(` lve ${t} inscrit au groupe "${m.nom}"`),{id:x.id,...v}}catch(l){throw console.error(" Erreur inscription groupe:",l),l}}async function Om(e,t="actif"){try{const r=Ke(Te(he,"inscriptions_groupe"),Be("groupeId","==",e),Be("statut","==",t),Pt("dateInscription","asc"));return(await $e(r)).docs.map(l=>({id:l.id,...l.data(),dateInscription:bs(l.data().dateInscription),dateRetrait:l.data().dateRetrait?bs(l.data().dateRetrait):void 0}))}catch(r){throw console.error(" Erreur rcupration lves groupe:",r),new Error("Impossible de charger les lves du groupe.")}}async function xK(e){try{const t=Ke(Te(he,"inscriptions_groupe"),Be("eleveId","==",e),Be("statut","==","actif")),r=await $e(t);if(r.empty)return[];const n=[];for(const l of r.docs){const o=l.data().groupeId,u=await pK(o);u&&u.statut==="actif"&&n.push(u)}return n}catch(t){return console.error(" Erreur rcupration groupes lve:",t),[]}}async function bK(e,t){try{await _t(De(he,"inscriptions_groupe",e),{statut:"retire",dateRetrait:new Date}),await _t(De(he,"groupes_prof",t),{nombreInscrits:KC(-1),dateMiseAJour:new Date}),console.log(" lve retir du groupe")}catch(r){throw console.error(" Erreur retrait lve:",r),new Error("Impossible de retirer l'lve du groupe.")}}async function Eb(e){try{const r=(await Om(e)).map(x=>x.eleveId);if(r.length===0)return{groupeId:e,nombreEleves:0,moyenneClasse:0,tauxReussite:0,tauxParticipation:0,totalQuizPasses:0,elevesEnDifficulte:0,meilleureNote:0,pireNote:0,derniereMiseAJour:new Date};const n=[],l=[];for(let x=0;x<r.length;x+=10)l.push(r.slice(x,x+10));for(const x of l){const b=Ke(Te(he,"quiz_results"),Be("userId","in",x));(await $e(b)).docs.forEach(N=>n.push({id:N.id,...N.data()}))}const o=new Map;for(const x of n){const b=x.userId;o.has(b)||o.set(b,{total:0,somme:0,reussis:0});const _=o.get(b);_.total++,_.somme+=x.score||0,(x.score||0)>=10&&_.reussis++}let u=0,f=0,m=0,p=0,h=20,v=0;for(const[,x]of o){const b=x.total>0?x.somme/x.total:0;u+=b,f++,v+=x.total,b<CD&&m++,b>p&&(p=b),b<h&&(h=b)}return f===0&&(h=0),{groupeId:e,nombreEleves:r.length,moyenneClasse:f>0?Math.round(u/f*10)/10:0,tauxReussite:v>0?Math.round(Array.from(o.values()).reduce((x,b)=>x+b.reussis,0)/v*100):0,tauxParticipation:Math.round(f/r.length*100),totalQuizPasses:v,elevesEnDifficulte:m,meilleureNote:Math.round(p*10)/10,pireNote:Math.round(h*10)/10,derniereMiseAJour:new Date}}catch(t){throw console.error(" Erreur calcul stats groupe:",t),new Error("Impossible de calculer les statistiques du groupe.")}}async function jK(e){try{const t=await Om(e);if(t.length===0)return[];const r=[];for(const n of t)try{const l=await Cb(n.eleveId),o=Ke(Te(he,"quiz_results"),Be("userId","==",n.eleveId),Pt("datePassage","desc")),f=(await $e(o)).docs.map(b=>b.data());let m=0,p=0,h;if(f.length>0){const b=f.reduce((_,N)=>_+(N.score||0),0);m=Math.round(b/f.length*10)/10,p=Math.round(f.filter(_=>(_.score||0)>=10).length/f.length*100),h=bs(f[0].datePassage)}let v="stable";if(f.length>=4){const b=f.slice(0,Math.ceil(f.length/2)),_=f.slice(Math.ceil(f.length/2)),N=b.reduce((A,O)=>A+(O.score||0),0)/b.length,S=_.reduce((A,O)=>A+(O.score||0),0)/_.length;N-S>1?v="hausse":S-N>1&&(v="baisse")}const x=l.lacunes.map(b=>({disciplineNom:b.disciplineNom,chapitre:b.chapitre,moyenne:b.moyenne,niveauUrgence:b.niveauUrgence}));r.push({eleveId:n.eleveId,eleveNom:n.eleveNom,eleveEmail:n.eleveEmail,moyenne:m,totalQuiz:f.length,tauxReussite:p,scoreGlobal:l.scoreGlobal,streak:{actuel:l.streak.streakActuel,meilleur:l.streak.meilleurStreak},lacunes:x,dernierQuiz:h,tendance:v})}catch(l){console.warn(` Suivi incomplet pour lve ${n.eleveNom}:`,l),r.push({eleveId:n.eleveId,eleveNom:n.eleveNom,eleveEmail:n.eleveEmail,moyenne:0,totalQuiz:0,tauxReussite:0,scoreGlobal:0,streak:{actuel:0,meilleur:0},lacunes:[],tendance:"stable"})}return r.sort((n,l)=>l.moyenne-n.moyenne),r}catch(t){throw console.error(" Erreur stats lves groupe:",t),new Error("Impossible de charger les statistiques des lves.")}}async function NK(e,t,r){try{const l=(await Om(e)).map(b=>b.eleveId);if(l.length===0)return null;let o=null,u="quiz_results";if(r!=="quizzes_v2"){if(r!=="quizzes"){const b=await yr(De(he,"quizzes_v2",t));if(b.exists())o=b.data(),u="quiz_results_v2";else{const _=await yr(De(he,"quizzes",t));_.exists()&&(o=_.data(),u="quiz_results")}}}if(!o)return null;const f=[],m=[];for(let b=0;b<l.length;b+=10)m.push(l.slice(b,b+10));for(const b of m){const _=Ke(Te(he,u),Be("quizId","==",t),Be("userId","in",b));(await $e(_)).docs.forEach(S=>f.push(S.data()))}if(f.length===0)return null;const p=u==="quiz_results_v2",h=f.map(b=>p?b.note20||(b.scoreMax>0?b.score/b.scoreMax*20:0):b.score||0),v=f.map(b=>b.tempsEcoule||0),x=[];if(p&&o.questions)for(let b=0;b<o.questions.length;b++){const _=o.questions[b];let N=0,S=0;for(const C of f){const E=C.detailsParQuestion?.find(z=>z.questionId===_.id);E&&(S++,E.isCorrect||N++)}const A=S>0?Math.round(N/S*100):0,O=_.enonce?.replace(/<[^>]*>/g,"").trim()||`Question ${b+1}`;x.push({questionIndex:b,questionTexte:O,tauxEchec:A,reponseCorrecte:"Voir correction dtaille",reponsesFrequentes:[]})}else if(o.questions)for(let b=0;b<o.questions.length;b++){const _=o.questions[b];let N=0;const S=new Map;for(const C of f){const E=C.reponses?.[b];E!==void 0&&(S.set(E,(S.get(E)||0)+1),E!==_.reponseCorrecte&&N++)}const A=Math.round(N/f.length*100),O=Array.from(S.entries()).filter(([C])=>C!==_.reponseCorrecte).map(([C,E])=>({reponse:_.options?.[C]||`Option ${C+1}`,nombre:E})).sort((C,E)=>E.nombre-C.nombre);x.push({questionIndex:b,questionTexte:_.question,tauxEchec:A,reponseCorrecte:_.options?.[_.reponseCorrecte]||"N/A",reponsesFrequentes:O})}return x.sort((b,_)=>_.tauxEchec-b.tauxEchec),{quizId:t,quizTitre:o.titre||"Quiz sans titre",disciplineNom:o.disciplineNom||o.matiereNom||"",totalPassages:f.length,moyenneScore:Math.round(h.reduce((b,_)=>b+_,0)/h.length*10)/10,tauxReussite:Math.round(h.filter(b=>b>=10).length/h.length*100),tempsEcouleMoyen:Math.round(v.reduce((b,_)=>b+_,0)/v.length),questionsRatees:x}}catch(n){return console.error(" Erreur analyse quiz groupe:",n),null}}async function _K(e){try{const t=[];try{const r=Ke(Te(he,"quizzes"),Be("disciplineId","==",e),Pt("createdAt","desc"));(await $e(r)).docs.forEach(l=>{t.push({id:l.id,titre:l.data().titre||"Quiz sans titre",source:"quizzes"})})}catch(r){console.warn(" Recherche quizzes choue (index manquant ?):",r)}try{const r=Ke(Te(he,"quizzes_v2"),Be("disciplineId","==",e),Pt("createdAt","desc"));(await $e(r)).docs.forEach(l=>{t.push({id:l.id,titre:l.data().titre||"Quiz avanc sans titre",source:"quizzes_v2"})})}catch(r){console.warn(" Recherche quizzes_v2 choue (index manquant ?):",r)}return console.log(` ${t.length} quiz trouv(s) pour discipline ${e}`),t}catch(t){return console.error(" Erreur rcupration quiz par matire:",t),[]}}function SK(e,t){const r=[],n=new Date;for(const o of e){if(o.totalQuiz>0&&o.moyenne<CD&&r.push({id:`diff-${o.eleveId}`,type:"difficulte",eleveNom:o.eleveNom,eleveId:o.eleveId,groupeNom:t,message:`${o.eleveNom} a une moyenne de ${o.moyenne}/20. Lacunes : ${o.lacunes.map(u=>u.disciplineNom).join(", ")||"non dtectes"}.`,niveauUrgence:o.moyenne<5?"critique":"important",dateCreation:n}),o.dernierQuiz){const u=fK(o.dernierQuiz,n);u>=uK&&r.push({id:`inact-${o.eleveId}`,type:"inactivite",eleveNom:o.eleveNom,eleveId:o.eleveId,groupeNom:t,message:`${o.eleveNom} n'a pas fait de quiz depuis ${u} jours.`,niveauUrgence:u>=14?"important":"info",dateCreation:n})}else o.totalQuiz===0&&r.push({id:`inact-${o.eleveId}`,type:"inactivite",eleveNom:o.eleveNom,eleveId:o.eleveId,groupeNom:t,message:`${o.eleveNom} n'a encore pass aucun quiz.`,niveauUrgence:"info",dateCreation:n});o.tendance==="baisse"&&o.totalQuiz>=4&&r.push({id:`baisse-${o.eleveId}`,type:"baisse",eleveNom:o.eleveNom,eleveId:o.eleveId,groupeNom:t,message:`${o.eleveNom} est en baisse de rsultats (tendance ngative).`,niveauUrgence:"important",dateCreation:n}),o.moyenne>=dK&&o.totalQuiz>=3&&r.push({id:`felicite-${o.eleveId}`,type:"felicitation",eleveNom:o.eleveNom,eleveId:o.eleveId,groupeNom:t,message:`${o.eleveNom} excelle avec ${o.moyenne}/20 ! `,niveauUrgence:"info",dateCreation:n})}const l={critique:0,important:1,info:2};return r.sort((o,u)=>l[o.niveauUrgence]-l[u.niveauUrgence]),r}function wK(e,t){const r=["Nom","Email","Moyenne (/20)","Quiz passs","Taux russite (%)","Streak (jours)","Lacunes principales","Tendance"],n=e.map(o=>{const u=o.lacunes.map(f=>`${f.disciplineNom} (${f.moyenne}/20)`).join(" | ")||"Aucune";return[`"${o.eleveNom}"`,`"${o.eleveEmail}"`,o.moyenne.toString(),o.totalQuiz.toString(),o.tauxReussite.toString(),o.streak.actuel.toString(),`"${u}"`,o.tendance].join(",")});return"\uFEFF"+[r.join(","),...n].join(`
`)}function AK(e,t){const r=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(r),l=document.createElement("a");l.href=n,l.download=`${t}.csv`,l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(n)}const CK=()=>{const{currentUser:e}=Ht(),[t,r]=j.useState([]),[n,l]=j.useState(!1),[o,u]=j.useState(""),[f,m]=j.useState(!0),[p,h]=j.useState(!1),[v,x]=j.useState(null),[b,_]=j.useState(null),N=j.useCallback(async()=>{if(e?.uid)try{m(!0);const A=await xK(e.uid);r(A)}catch(A){console.error("Erreur chargement groupes:",A)}finally{m(!1)}},[e?.uid]);j.useEffect(()=>{N()},[N]);const S=async A=>{if(A.preventDefault(),!(!e?.uid||!o.trim()))try{h(!0),x(null),_(null),await yK(e.uid,e.displayName||e.email||"lve",e.email||"",o),_("Tu as rejoint le groupe avec succs ! "),u(""),l(!1),await N(),setTimeout(()=>_(null),5e3)}catch(O){x(O.message||"Impossible de rejoindre le groupe.")}finally{h(!1)}};return i.jsxs("div",{className:"rejoindre-groupe-section",children:[i.jsxs("div",{className:"rejoindre-groupe-header",children:[i.jsx("h3",{children:" Mes groupes-classes"}),i.jsx("button",{className:"prof-btn prof-btn-primary prof-btn-sm",onClick:()=>l(!n),children:n?" Annuler":" Rejoindre un groupe"})]}),v&&i.jsxs("div",{className:"prof-alert prof-alert-error",children:[" ",v,i.jsx("button",{onClick:()=>x(null),className:"prof-alert-close",children:""})]}),b&&i.jsx("div",{className:"prof-alert",style:{background:"#d1fae5",border:"1px solid #a7f3d0",color:"#065f46"},children:b}),n&&i.jsxs("div",{className:"groupe-form-container",style:{marginBottom:"1rem"},children:[i.jsx("p",{style:{marginBottom:"0.75rem",color:"#6b7280",fontSize:"0.875rem"},children:"Saisis le code donn par ton professeur (format: PROF-XXXX-XXXX)"}),i.jsxs("form",{onSubmit:S,style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[i.jsx("input",{type:"text",placeholder:"PROF-XXXX-XXXX",value:o,onChange:A=>u(A.target.value.toUpperCase()),maxLength:14,disabled:p,className:"prof-input",style:{flex:1,maxWidth:"280px",fontFamily:"monospace",letterSpacing:"2px"}}),i.jsx("button",{type:"submit",className:"prof-btn prof-btn-primary",disabled:p||o.length<14,children:p?" Vrification...":" Rejoindre"})]})]}),f?i.jsx("p",{style:{color:"#9ca3af",textAlign:"center",padding:"1rem"},children:"Chargement..."}):t.length===0?i.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#9ca3af"},children:[i.jsx("p",{children:"Tu n'es inscrit(e) dans aucun groupe-classe."}),i.jsx("p",{style:{fontSize:"0.875rem"},children:"Demande  ton professeur un code d'invitation pour rejoindre son groupe."})]}):i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:t.map(A=>i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[i.jsxs("div",{children:[i.jsx("strong",{style:{color:"#1f2937"},children:A.nom}),i.jsxs("span",{style:{display:"block",fontSize:"0.75rem",color:"#9ca3af"},children:[A.matiereNom,"  Prof: ",A.profNom]})]}),i.jsx("span",{style:{fontSize:"0.875rem",color:"#10b981",fontWeight:600},children:" Inscrit(e)"})]},A.id))})]})},EK=e=>e>=80?"#10b981":e>=60?"#3b82f6":e>=40?"#f59e0b":e>0?"#ef4444":"#d1d5db",GC=({pourcentage:e,label:t,size:r="md",showPercent:n=!0,color:l,showCheck:o=!0,className:u=""})=>{const[f,m]=j.useState(0);j.useEffect(()=>{const b=setTimeout(()=>{m(Math.min(100,Math.max(0,e)))},100);return()=>clearTimeout(b)},[e]);const h={sm:"4px",md:"8px",lg:"12px"}[r],v=l||EK(e),x=e>=100;return i.jsxs("div",{className:`progress-bar-wrapper ${u}`,children:[(t||n)&&i.jsxs("div",{className:"progress-bar-header",children:[t&&i.jsx("span",{className:"progress-bar-label",children:t}),n&&i.jsxs("span",{className:"progress-bar-percent",style:{color:v},children:[x&&o?" ":"",e,"%"]})]}),i.jsx("div",{className:"progress-bar-track",style:{height:h},children:i.jsx("div",{className:"progress-bar-fill",style:{width:`${f}%`,backgroundColor:v,height:"100%"}})})]})},OK=()=>{const e=Zr(),{currentUser:t}=Ht(),[r,n]=j.useState(null),[l,o]=j.useState([]),[u,f]=j.useState([]),[m,p]=j.useState([]),[h,v]=j.useState([]),[x,b]=j.useState(null),[_,N]=j.useState([]),[S,A]=j.useState("all"),[O,C]=j.useState(!0),[E,z]=j.useState("overview"),[D,L]=j.useState(null),[T,q]=j.useState(!1),[Y,X]=j.useState(!1),$=async()=>{if(t){q(!0);try{const G=await WY(t.uid);L(G)}catch(G){console.error("Erreur gnration code parent :",G)}finally{q(!1)}}},oe=()=>{D&&(navigator.clipboard.writeText(D),X(!0),setTimeout(()=>X(!1),2e3))};if(j.useEffect(()=>{(async()=>{if(t){C(!0);try{await d3(t.uid);const[me,I,ve,xe,pe,ye]=await Promise.all([t3(t.uid),r3(t.uid),n3(t.uid,20),kf(t.uid,10),s2().catch(()=>[]),o3(t.uid)]);n(me),o(I),f(ve),p(xe),v(pe),b(ye);const fe=f3(me,I,ye);N(fe)}catch(me){console.error("Erreur chargement dashboard :",me)}finally{C(!1)}}})()},[t]),O)return i.jsxs("div",{className:"sd-loading",children:[i.jsx("div",{className:"admin-spinner"}),i.jsx("p",{children:"Chargement de votre tableau de bord..."})]});const ue=_.filter(G=>G.obtenu),V=_.length,k=t?.displayName||t?.email?.split("@")[0]||"lve",J=S==="all"?_:_.filter(G=>G.categorie===S);return i.jsxs("div",{className:"student-dashboard",children:[i.jsxs("div",{className:"sd-welcome",children:[i.jsxs("div",{className:"sd-welcome-text",children:[i.jsxs("h1",{children:["Bienvenue, ",k," "]}),i.jsx("p",{children:r&&r.totalQuizPasses>0?`Vous avez pass ${r.totalQuizPasses} quiz avec une moyenne de ${r.moyenneGenerale}%. Continuez !`:"Commencez par consulter une ressource ou passer un quiz !"})]}),i.jsxs("div",{className:"sd-welcome-badges-row",children:[t?.isPremium&&i.jsxs("span",{className:"sd-premium-badge",children:[i.jsx(Yr,{size:14})," Premium"]}),x&&x.streakActuel>0&&i.jsxs("span",{className:"sd-streak-badge",children:[" ",x.streakActuel," jour",x.streakActuel>1?"s":""]})]})]}),i.jsxs("div",{className:"sd-stats-grid",children:[i.jsxs("div",{className:"sd-stat-card",children:[i.jsx("div",{className:"sd-stat-icon",style:{background:"#eff6ff",color:"#3b82f6"},children:i.jsx(Mn,{size:22})}),i.jsxs("div",{className:"sd-stat-content",children:[i.jsx("span",{className:"sd-stat-value",children:r?.totalQuizPasses||0}),i.jsx("span",{className:"sd-stat-label",children:"Quiz passs"})]})]}),i.jsxs("div",{className:"sd-stat-card",children:[i.jsx("div",{className:"sd-stat-icon",style:{background:"#f0fdf4",color:"#10b981"},children:i.jsx(Qh,{size:22})}),i.jsxs("div",{className:"sd-stat-content",children:[i.jsxs("span",{className:"sd-stat-value",style:{color:Nl(r?.moyenneGenerale||0)},children:[r?.moyenneGenerale||0,"%"]}),i.jsx("span",{className:"sd-stat-label",children:"Moyenne gnrale"})]})]}),i.jsxs("div",{className:"sd-stat-card",children:[i.jsx("div",{className:"sd-stat-icon",style:{background:"#fef3c7",color:"#d97706"},children:i.jsx(Al,{size:22})}),i.jsxs("div",{className:"sd-stat-content",children:[i.jsx("span",{className:"sd-stat-value",children:x?.totalRessourcesVues||0}),i.jsx("span",{className:"sd-stat-label",children:"Ressources vues"})]})]}),i.jsxs("div",{className:"sd-stat-card",children:[i.jsx("div",{className:"sd-stat-icon",style:{background:"#fef2f2",color:"#ef4444"},children:i.jsx(XC,{size:22})}),i.jsxs("div",{className:"sd-stat-content",children:[i.jsxs("span",{className:"sd-stat-value",children:[x?.streakActuel||0," "]}),i.jsx("span",{className:"sd-stat-label",children:"Jours conscutifs"})]})]}),i.jsxs("div",{className:"sd-stat-card",children:[i.jsx("div",{className:"sd-stat-icon",style:{background:"#fefce8",color:"#f59e0b"},children:i.jsx(WC,{size:22})}),i.jsxs("div",{className:"sd-stat-content",children:[i.jsxs("span",{className:"sd-stat-value",children:[r?.meilleurScore||0,"%"]}),i.jsx("span",{className:"sd-stat-label",children:"Meilleur score"})]})]}),i.jsxs("div",{className:"sd-stat-card",children:[i.jsx("div",{className:"sd-stat-icon",style:{background:"#f0f9ff",color:"#0ea5e9"},children:i.jsx(Ci,{size:22})}),i.jsxs("div",{className:"sd-stat-content",children:[i.jsxs("span",{className:"sd-stat-value",children:[x?.disciplinesCompletees||0,"/",x?.disciplinesCommencees||0]}),i.jsx("span",{className:"sd-stat-label",children:"Disciplines compltes"})]})]})]}),i.jsxs("div",{className:"sd-chart-card",style:{marginBottom:"1.5rem"},children:[i.jsx("h3",{className:"sd-section-title",children:" Code Parent"}),i.jsx("p",{style:{color:"#6b7280",fontSize:"0.9rem",marginBottom:"1rem"},children:"Partagez ce code avec vos parents pour qu'ils puissent suivre votre progression."}),D?i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[i.jsx("span",{style:{fontFamily:"monospace",fontSize:"1.4rem",fontWeight:700,letterSpacing:"0.1em",background:"#eff6ff",color:"#2563eb",padding:"0.75rem 1.5rem",borderRadius:"12px",border:"2px dashed #93c5fd",userSelect:"all"},children:D}),i.jsx("button",{className:"sd-btn",onClick:oe,style:{display:"inline-flex",alignItems:"center",gap:"0.4rem",background:Y?"#10b981":"#f3f4f6",color:Y?"#fff":"#374151",border:"none",padding:"0.6rem 1rem",borderRadius:"8px",cursor:"pointer",fontWeight:500,transition:"all 0.2s"},children:Y?" Copi !":" Copier"})]}):i.jsx("button",{className:"sd-btn sd-btn-primary",onClick:$,disabled:T,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:T?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"admin-spinner",style:{width:"16px",height:"16px"}})," Gnration..."]}):i.jsx(i.Fragment,{children:" Gnrer mon code"})})]}),i.jsx("div",{className:"sd-chart-card",style:{marginBottom:"1.5rem"},children:i.jsx(CK,{})}),i.jsxs("div",{className:"sd-tabs",children:[i.jsxs("button",{className:`sd-tab ${E==="overview"?"active":""}`,onClick:()=>z("overview"),children:[i.jsx(os,{size:16})," Vue d'ensemble"]}),i.jsxs("button",{className:`sd-tab ${E==="progression"?"active":""}`,onClick:()=>z("progression"),children:[i.jsx(ec,{size:16})," Progression"]}),i.jsxs("button",{className:`sd-tab ${E==="history"?"active":""}`,onClick:()=>z("history"),children:[i.jsx(Fh,{size:16})," Historique"]}),i.jsxs("button",{className:`sd-tab ${E==="badges"?"active":""}`,onClick:()=>z("badges"),children:[i.jsx(Ci,{size:16})," Badges (",ue.length,"/",V,")"]})]}),E==="overview"&&i.jsxs("div",{className:"sd-overview",children:[u.length>1&&i.jsxs("div",{className:"sd-chart-card",children:[i.jsxs("h3",{className:"sd-section-title",children:[i.jsx(ec,{size:18})," volution de vos scores"]}),i.jsx("div",{className:"sd-chart-container",children:i.jsx(wS,{width:"100%",height:280,children:i.jsxs(OY,{data:u,children:[i.jsx(Dy,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),i.jsx(Ry,{dataKey:"date",tick:{fontSize:12,fill:"#6b7280"},tickLine:!1}),i.jsx(By,{domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},tickLine:!1,unit:"%"}),i.jsx(DA,{formatter:G=>[`${G}%`,"Score"],labelFormatter:G=>`Date : ${G}`,contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px rgba(0,0,0,0.07)"}}),i.jsx(aD,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:2.5,dot:{r:4,fill:"#3b82f6",stroke:"#fff",strokeWidth:2},activeDot:{r:6}})]})})})]}),l.length>0&&i.jsxs("div",{className:"sd-chart-card",children:[i.jsxs("h3",{className:"sd-section-title",children:[i.jsx(os,{size:18})," Moyennes par discipline"]}),i.jsx("div",{className:"sd-chart-container",children:i.jsx(wS,{width:"100%",height:280,children:i.jsxs(MY,{data:l,layout:"vertical",children:[i.jsx(Dy,{strokeDasharray:"3 3",stroke:"#e5e7eb",horizontal:!1}),i.jsx(Ry,{type:"number",domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},unit:"%"}),i.jsx(By,{type:"category",dataKey:"disciplineNom",width:120,tick:{fontSize:12,fill:"#374151"}}),i.jsx(DA,{formatter:G=>[`${G}%`,"Moyenne"],contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb",boxShadow:"0 4px 6px rgba(0,0,0,0.07)"}}),i.jsx(cD,{dataKey:"moyenne",radius:[0,6,6,0],barSize:24,children:l.map((G,me)=>i.jsx(hb,{fill:Nl(G.moyenne)},me))})]})})})]}),h.length>0&&i.jsxs("div",{className:"sd-chart-card",children:[i.jsxs("h3",{className:"sd-section-title",children:[i.jsx(ac,{size:18})," Quiz disponibles"]}),i.jsx("div",{className:"sd-quiz-grid",children:h.slice(0,6).map(G=>{const me=G.isPremium&&!t?.isPremium;return i.jsxs("div",{className:`sd-quiz-card ${me?"locked":""}`,onClick:()=>!me&&e(`/quiz/${G.id}`),children:[G.isPremium&&i.jsxs("span",{className:"sd-quiz-badge-premium",children:[me?i.jsx(Ig,{size:10}):i.jsx(Yr,{size:10})," Premium"]}),i.jsx("h4",{className:"sd-quiz-title",children:G.titre}),i.jsxs("div",{className:"sd-quiz-meta",children:[i.jsxs("span",{children:[i.jsx(Mn,{size:12})," ",G.questions.length," questions"]}),i.jsxs("span",{children:[i.jsx(zl,{size:12})," ",G.duree," min"]})]}),!me&&i.jsxs("button",{className:"sd-quiz-play-btn",children:[i.jsx(ac,{size:14})," Commencer"]}),me&&i.jsxs("button",{className:"sd-quiz-unlock-btn",onClick:I=>{I.stopPropagation(),e("/premium")},children:[i.jsx(Ig,{size:14})," Dbloquer"]})]},G.id)})})]}),r&&r.totalQuizPasses===0&&(!x||x.totalRessourcesVues===0)&&i.jsxs("div",{className:"sd-empty-state",children:[i.jsx(Qh,{size:48}),i.jsx("h3",{children:"Commencez votre parcours !"}),i.jsx("p",{children:"Consultez une ressource ou passez un quiz pour voir votre progression."}),h.length>0&&i.jsxs("button",{className:"sd-btn sd-btn-primary",onClick:()=>e(`/quiz/${h[0].id}`),children:[i.jsx(ac,{size:18})," Passer un quiz"]})]})]}),E==="progression"&&i.jsxs("div",{className:"sd-progression",children:[i.jsxs("div",{className:"sd-chart-card sd-prog-summary",children:[i.jsxs("h3",{className:"sd-section-title",children:[i.jsx(ec,{size:18})," Avancement global"]}),i.jsx(GC,{pourcentage:x?.pourcentageMoyen||0,label:"Progression moyenne",size:"lg",showCheck:!0}),i.jsxs("div",{className:"sd-prog-stats-row",children:[i.jsxs("div",{className:"sd-prog-stat-item",children:[i.jsx("span",{className:"sd-prog-stat-number",children:x?.totalRessourcesVues||0}),i.jsx("span",{className:"sd-prog-stat-text",children:"Ressources consultes"})]}),i.jsxs("div",{className:"sd-prog-stat-item",children:[i.jsx("span",{className:"sd-prog-stat-number",children:x?.totalQuizReussis||0}),i.jsx("span",{className:"sd-prog-stat-text",children:"Quiz russis"})]}),i.jsxs("div",{className:"sd-prog-stat-item",children:[i.jsx("span",{className:"sd-prog-stat-number",children:x?.disciplinesCommencees||0}),i.jsx("span",{className:"sd-prog-stat-text",children:"Disciplines"})]}),i.jsxs("div",{className:"sd-prog-stat-item",children:[i.jsxs("span",{className:"sd-prog-stat-number",children:[" ",x?.streakActuel||0]}),i.jsxs("span",{className:"sd-prog-stat-text",children:["Streak (max: ",x?.meilleurStreak||0,")"]})]})]})]}),x&&x.parDiscipline.length>0?i.jsxs("div",{className:"sd-chart-card",children:[i.jsxs("h3",{className:"sd-section-title",children:[i.jsx(os,{size:18})," Par discipline"]}),i.jsx("div",{className:"sd-prog-disciplines",children:x.parDiscipline.map(G=>i.jsxs("div",{className:"sd-prog-disc-card",children:[i.jsxs("div",{className:"sd-prog-disc-header",children:[i.jsx("span",{className:"sd-prog-disc-name",children:G.disciplineNom}),G.pourcentage>=100&&i.jsx("span",{className:"sd-prog-complete-tag",children:" Complt"})]}),i.jsx(GC,{pourcentage:G.pourcentage,size:"md",showPercent:!0}),i.jsxs("div",{className:"sd-prog-disc-details",children:[i.jsxs("span",{children:[i.jsx(Al,{size:12})," ",G.ressourcesVues.length,"/",G.totalRessources," ressources"]}),i.jsxs("span",{children:[i.jsx(Et,{size:12})," ",G.quizReussis.length,"/",G.totalQuiz," quiz russis"]})]})]},G.disciplineId))})]}):i.jsxs("div",{className:"sd-empty-state",children:[i.jsx(Al,{size:48}),i.jsx("h3",{children:"Aucune progression enregistre"}),i.jsx("p",{children:"Consultez des ressources ou passez des quiz pour voir votre avancement ici."})]}),l.length>0&&i.jsxs("div",{className:"sd-chart-card",children:[i.jsxs("h3",{className:"sd-section-title",children:[i.jsx(Qh,{size:18})," Performance quiz par discipline"]}),i.jsx("div",{className:"sd-disc-list",children:l.map(G=>i.jsxs("div",{className:"sd-disc-card",children:[i.jsxs("div",{className:"sd-disc-header",children:[i.jsx("span",{className:"sd-disc-name",children:G.disciplineNom}),i.jsxs("span",{className:"sd-disc-tendance",children:[G.tendance==="up"&&i.jsx(ec,{size:16,className:"tendance-up"}),G.tendance==="down"&&i.jsx(Dk,{size:16,className:"tendance-down"}),G.tendance==="stable"&&i.jsx(Tk,{size:16,className:"tendance-stable"})]})]}),i.jsxs("div",{className:"sd-disc-stats",children:[i.jsxs("div",{className:"sd-disc-stat",children:[i.jsxs("span",{className:"sd-disc-stat-value",style:{color:Nl(G.moyenne)},children:[G.moyenne,"%"]}),i.jsx("span",{className:"sd-disc-stat-label",children:"Moyenne"})]}),i.jsxs("div",{className:"sd-disc-stat",children:[i.jsx("span",{className:"sd-disc-stat-value",children:G.nombreQuiz}),i.jsx("span",{className:"sd-disc-stat-label",children:"Quiz"})]}),i.jsxs("div",{className:"sd-disc-stat",children:[i.jsxs("span",{className:"sd-disc-stat-value",children:[G.meilleurScore,"%"]}),i.jsx("span",{className:"sd-disc-stat-label",children:"Meilleur"})]}),i.jsxs("div",{className:"sd-disc-stat",children:[i.jsxs("span",{className:"sd-disc-stat-value",children:[G.quizReussis,"/",G.nombreQuiz]}),i.jsx("span",{className:"sd-disc-stat-label",children:"Russis"})]})]}),i.jsx("div",{className:"sd-disc-bar",children:i.jsx("div",{className:"sd-disc-bar-fill",style:{width:`${G.moyenne}%`,background:Nl(G.moyenne)}})})]},G.disciplineId))})]})]}),E==="history"&&i.jsx("div",{className:"sd-history",children:m.length===0?i.jsxs("div",{className:"sd-empty-state",children:[i.jsx(Fh,{size:48}),i.jsx("h3",{children:"Aucun quiz pass"}),i.jsx("p",{children:"Votre historique apparatra ici aprs avoir pass des quiz."})]}):i.jsx("div",{className:"sd-history-list",children:m.map(G=>{const me=G.datePassage?.toDate?G.datePassage.toDate():new Date(G.datePassage);return i.jsxs("div",{className:`sd-history-item ${G.reussi?"success":"fail"}`,children:[i.jsx("div",{className:`sd-history-icon ${G.reussi?"success":"fail"}`,children:G.reussi?i.jsx(Et,{size:20}):i.jsx(Bg,{size:20})}),i.jsxs("div",{className:"sd-history-content",children:[i.jsxs("div",{className:"sd-history-top",children:[i.jsx("span",{className:"sd-history-title",children:G.quizTitre}),i.jsx("span",{className:"sd-history-discipline",children:G.disciplineNom})]}),i.jsxs("div",{className:"sd-history-meta",children:[i.jsxs("span",{children:[i.jsx(Fh,{size:12}),me.toLocaleDateString("fr-SN",{day:"2-digit",month:"long",year:"numeric"})]}),i.jsxs("span",{children:[i.jsx(zl,{size:12})," ",d2(G.tempsEcoule)]}),i.jsxs("span",{children:[i.jsx(Et,{size:12})," ",G.bonnesReponses,"/",G.nombreQuestions]})]})]}),i.jsxs("div",{className:"sd-history-score",style:{color:Nl(G.pourcentage)},children:[i.jsxs("span",{className:"sd-history-score-value",children:[G.pourcentage,"%"]}),i.jsx("span",{className:"sd-history-score-label",children:f2(G.pourcentage)})]})]},G.id)})})}),E==="badges"&&i.jsxs("div",{className:"sd-badges",children:[i.jsxs("div",{className:"sd-badges-summary",children:[i.jsxs("div",{className:"sd-badges-circle",children:[i.jsx("span",{className:"sd-badges-count",children:ue.length}),i.jsxs("span",{className:"sd-badges-total",children:["/ ",V]})]}),i.jsx("p",{children:"badges obtenus"}),i.jsx("div",{className:"sd-badges-progress",children:i.jsx("div",{className:"sd-badges-progress-fill",style:{width:`${ue.length/V*100}%`}})})]}),i.jsx("div",{className:"sd-badges-filters",children:[{key:"all",label:"Tous"},{key:"ressources",label:" Ressources"},{key:"quiz",label:" Quiz"},{key:"performance",label:" Performance"},{key:"discipline",label:" Disciplines"},{key:"streak",label:" Streak"}].map(G=>i.jsx("button",{className:`sd-badge-filter-btn ${S===G.key?"active":""}`,onClick:()=>A(G.key),children:G.label},G.key))}),i.jsx("div",{className:"sd-badges-grid",children:J.map(G=>i.jsxs("div",{className:`sd-badge-card ${G.obtenu?"obtained":"locked"}`,children:[i.jsx("span",{className:"sd-badge-icon",children:G.icone}),i.jsx("h4",{className:"sd-badge-name",children:G.nom}),i.jsx("p",{className:"sd-badge-description",children:G.description}),i.jsx("span",{className:"sd-badge-condition",children:G.condition}),G.obtenu&&i.jsx("span",{className:"sd-badge-obtained-tag",children:" Obtenu"}),i.jsx("span",{className:"sd-badge-category",children:G.categorie})]},G.id))}),J.length===0&&i.jsxs("div",{className:"sd-empty-state",style:{marginTop:"1rem"},children:[i.jsx(Gy,{size:36}),i.jsx("h3",{children:"Aucun badge dans cette catgorie"}),i.jsx("p",{children:"Essayez un autre filtre."})]})]})]})},zK=()=>{const{currentUser:e}=Ht(),t=Zr(),[r,n]=j.useState(null),[l,o]=j.useState(!0),[u,f]=j.useState(null),m=["L","M","M","J","V","S","D"],p=j.useCallback(async()=>{if(e?.uid)try{o(!0),f(null);const C=await Cb(e.uid);n(C)}catch(C){console.error("Erreur chargement suivi:",C),f("Impossible de charger ton suivi. Vrifie ta connexion et ressaie.")}finally{o(!1)}},[e?.uid]);j.useEffect(()=>{p()},[p]);const h=(()=>{const C=new Date().getDay();return C===0?6:C-1})();if(l)return i.jsx("div",{className:"suivi-page",children:i.jsx("div",{className:"suivi-container",children:i.jsxs("div",{className:"suivi-loading",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{className:"suivi-loading-text",children:"Analyse de ta progression en cours..."})]})})});if(u)return i.jsx("div",{className:"suivi-page",children:i.jsx("div",{className:"suivi-container",children:i.jsxs("div",{className:"suivi-error",children:[i.jsx("p",{className:"suivi-error-title",children:" Erreur de chargement"}),i.jsx("p",{className:"suivi-error-text",children:u}),i.jsx("button",{className:"suivi-btn-retry",onClick:p,children:" Ressayer"})]})})});if(!r)return null;const{lacunes:v,recommandations:x,streak:b,objectifs:_,scoreGlobal:N}=r,S=2*Math.PI*40,A=S-N/100*S,O=N>=60?"#10b981":N>=30?"#f59e0b":"#ef4444";return i.jsx("div",{className:"suivi-page",children:i.jsxs("div",{className:"suivi-container",children:[i.jsx("div",{className:"suivi-header",children:i.jsxs("div",{className:"suivi-header-content",children:[i.jsxs("div",{children:[i.jsx("h1",{children:" Mes points  amliorer"}),i.jsx("p",{className:"suivi-motivation",children:HY(N)})]}),i.jsxs("div",{className:"score-global-circle",children:[i.jsxs("svg",{className:"score-circle-svg",viewBox:"0 0 100 100",children:[i.jsx("circle",{className:"score-circle-bg",cx:"50",cy:"50",r:"40"}),i.jsx("circle",{className:"score-circle-progress",cx:"50",cy:"50",r:"40",stroke:O,strokeDasharray:S,strokeDashoffset:A}),i.jsx("text",{className:"score-circle-text",x:"50",y:"50",children:N})]}),i.jsx("span",{className:"score-global-label",children:"Score global"})]})]})}),i.jsxs("div",{className:"streak-card",children:[i.jsxs("div",{className:"streak-header",children:[i.jsx("span",{className:"streak-flamme",children:b.streakActuel>0?"":""}),i.jsxs("div",{children:[i.jsx("div",{className:"streak-nombre",children:b.streakActuel}),i.jsx("div",{className:"streak-label",children:b.streakActuel<=1?"jour conscutif":"jours conscutifs"})]})]}),i.jsx("div",{className:"streak-semaine",children:m.map((C,E)=>i.jsxs("div",{className:"streak-jour",children:[i.jsx("span",{className:"streak-jour-label",children:C}),i.jsx("div",{className:`streak-jour-indicateur ${b.semaineCourante[E]?"actif":"inactif"} ${E===h?"aujourd-hui":""}`,children:b.semaineCourante[E]?"":""})]},E))}),i.jsxs("div",{className:"streak-stats",children:[i.jsxs("div",{className:"streak-stat",children:[i.jsx("span",{className:"streak-stat-icon",children:""}),i.jsx("span",{className:"streak-stat-value",children:b.meilleurStreak}),i.jsx("span",{className:"streak-stat-label",children:"record"})]}),i.jsxs("div",{className:"streak-stat",children:[i.jsx("span",{className:"streak-stat-icon",children:""}),i.jsx("span",{className:"streak-stat-value",children:b.totalJoursActifs}),i.jsx("span",{className:"streak-stat-label",children:"jours actifs au total"})]}),b.dernierJourActif&&i.jsxs("div",{className:"streak-stat",children:[i.jsx("span",{className:"streak-stat-icon",children:""}),i.jsxs("span",{className:"streak-stat-label",children:["Dernier quiz : ",new Date(b.dernierJourActif).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})]})]})]})]}),i.jsxs("h2",{className:"suivi-section-title",children:[" Objectifs de la semaine",i.jsx("span",{className:"suivi-section-badge",children:_.length})]}),_.length>0?i.jsx("div",{className:"objectifs-grid",children:_.map(C=>{const E=GY(C);return i.jsxs("div",{className:`objectif-card ${C.statut==="atteint"?"atteint":""}`,children:[i.jsxs("div",{className:"objectif-header",children:[i.jsx("span",{className:"objectif-titre",children:C.titre}),C.recompense&&i.jsx("span",{className:"objectif-recompense",children:C.recompense})]}),i.jsx("p",{className:"objectif-description",children:C.description}),i.jsxs("div",{className:"objectif-progress",children:[i.jsxs("div",{className:"objectif-progress-labels",children:[i.jsxs("span",{className:"objectif-progress-value",children:[C.progression," / ",C.cible]}),i.jsxs("span",{className:"objectif-progress-cible",children:[E,"%"]})]}),i.jsx("div",{className:"objectif-progress-track",children:i.jsx("div",{className:`objectif-progress-fill ${C.statut==="atteint"?"atteint":""}`,style:{width:`${E}%`}})})]}),i.jsx("p",{className:`objectif-statut ${C.statut}`,children:C.statut==="atteint"?" Objectif atteint !":C.statut==="en_cours"?" En cours...":" Non commenc"})]},C.id)})}):i.jsxs("div",{className:"suivi-empty",children:[i.jsx("div",{className:"suivi-empty-icon",children:""}),i.jsx("p",{className:"suivi-empty-title",children:"Pas encore d'objectifs"}),i.jsx("p",{className:"suivi-empty-text",children:"Passe ton premier quiz pour dbloquer tes objectifs hebdomadaires !"})]}),i.jsxs("h2",{className:"suivi-section-title",children:[" Points faibles dtects",v.length>0&&i.jsx("span",{className:"suivi-section-badge",children:v.length})]}),v.length>0?i.jsx("div",{className:"lacunes-grid",children:v.map(C=>i.jsxs("div",{className:`lacune-card ${C.niveauUrgence}`,children:[i.jsxs("div",{className:"lacune-card-header",children:[i.jsx("span",{className:"lacune-discipline",children:C.disciplineNom}),i.jsx("span",{className:`lacune-badge ${C.niveauUrgence}`,children:ND(C.niveauUrgence)})]}),i.jsxs("div",{className:"lacune-score-bar",children:[i.jsxs("div",{className:"lacune-score-labels",children:[i.jsxs("span",{className:"lacune-score-value",style:{color:zf(C.niveauUrgence)},children:[C.moyenne,"/20"]}),i.jsx("span",{className:"lacune-score-objectif",children:"Objectif : 14/20"})]}),i.jsx("div",{className:"lacune-progress-track",children:i.jsx("div",{className:`lacune-progress-fill ${C.niveauUrgence}`,style:{width:`${C.moyenne/20*100}%`}})})]}),i.jsxs("div",{className:"lacune-details",children:[i.jsxs("span",{className:"lacune-detail-tag",children:[_D(C.tendance)," ",C.tendance]}),i.jsxs("span",{className:"lacune-detail-tag",children:[" ",C.nombreQuiz," quiz"]}),i.jsxs("span",{className:"lacune-detail-tag",children:["Dernier : ",C.scoreDetails.dernierScore,"/20"]})]})]},C.id))}):i.jsxs("div",{className:"suivi-empty",children:[i.jsx("div",{className:"suivi-empty-icon",children:""}),i.jsx("p",{className:"suivi-empty-title",children:"Aucune lacune dtecte !"}),i.jsx("p",{className:"suivi-empty-text",children:N>0?"Toutes tes moyennes sont au-dessus de 14/20. Bravo, continue !":"Passe des quiz pour que l'analyse puisse commencer."}),i.jsx("button",{className:"suivi-cta-btn",onClick:()=>t("/disciplines"),style:{marginTop:"1rem"},children:" Voir les disciplines"})]}),x.length>0&&i.jsxs(i.Fragment,{children:[i.jsxs("h2",{className:"suivi-section-title",children:[" Recommandations personnalises",i.jsx("span",{className:"suivi-section-badge",children:x.length})]}),i.jsx("div",{className:"recommandations-list",children:x.map(C=>i.jsxs("div",{className:"recommandation-card",children:[i.jsx("div",{className:"recommandation-priorite",children:C.priorite}),i.jsxs("div",{className:"recommandation-content",children:[i.jsx("p",{className:"recommandation-titre",children:C.titre}),i.jsx("p",{className:"recommandation-description",children:C.description}),i.jsx("span",{className:"recommandation-discipline-tag",children:C.disciplineNom})]})]},C.id))})]}),i.jsx("div",{style:{textAlign:"center",marginTop:"1rem",marginBottom:"2rem"},children:i.jsx("button",{className:"suivi-cta-btn",onClick:()=>t("/disciplines"),children:" Passer un quiz maintenant"})})]})})},MK=()=>{const e=new Date,t=e.getFullYear(),n=e.getMonth()>=9?t:t-1,l=[];for(let o=-1;o<=3;o++){const u=n+o;l.push(`${u}-${u+1}`)}return l},QC=MK(),Wo=()=>{const e=new Date,t=e.getFullYear(),n=e.getMonth()>=9?t:t-1;return`${n}-${n+1}`},FC=[{value:"6eme",label:"6me"},{value:"5eme",label:"5me"},{value:"4eme",label:"4me"},{value:"3eme",label:"3me"},{value:"2nde",label:"2nde"},{value:"1ere",label:"1re"},{value:"Terminale",label:"Terminale"}],DK=({onSelectGroupe:e})=>{const{currentUser:t}=Ht(),[r,n]=j.useState([]),[l,o]=j.useState(new Map),[u,f]=j.useState([]),[m,p]=j.useState(!0),[h,v]=j.useState(null),[x,b]=j.useState(!1),[_,N]=j.useState(!1),[S,A]=j.useState(null),[O,C]=j.useState(null),[E,z]=j.useState(null),[D,L]=j.useState(!1),[T,q]=j.useState(null),[Y,X]=j.useState({nom:"",description:"",matiereId:"",matiereNom:"",classeNiveau:"6eme",anneeScolaire:Wo()}),[$,oe]=j.useState({nom:"",description:"",matiereId:"",matiereNom:"",classeNiveau:"6eme",anneeScolaire:Wo()}),[ue,V]=j.useState("actif");j.useEffect(()=>{(async()=>{try{const R=await zi.getAll();f(R.map(ne=>({id:ne.id,nom:ne.nom,classe:ne.classe||""})))}catch(R){console.warn(" Impossible de charger les disciplines:",R)}})()},[]);const k=j.useCallback(async()=>{if(t?.uid)try{p(!0),v(null);const Q=await OD(t.uid);n(Q);const R=new Map;for(const ne of Q)if(ne.statut==="actif")try{const H=await Eb(ne.id);R.set(ne.id,H)}catch{console.warn(`Stats indisponibles pour ${ne.nom}`)}o(R)}catch(Q){console.error("Erreur chargement groupes:",Q),v("Impossible de charger vos groupes. Vrifiez votre connexion.")}finally{p(!1)}},[t?.uid]);j.useEffect(()=>{k()},[k]);const J=(Q,R=!1)=>{const ne=u.find(ge=>ge.id===Q),H=ne?`${ne.nom}${ne.classe?` (${ne.classe})`:""}`:"";R?oe(ge=>({...ge,matiereId:Q,matiereNom:H})):X(ge=>({...ge,matiereId:Q,matiereNom:H}))},G=async Q=>{if(Q.preventDefault(),!(!t?.uid||!Y.nom.trim()||!Y.matiereId))try{N(!0),await mK(t.uid,t.displayName||t.email||"Professeur",Y),X({nom:"",description:"",matiereId:"",matiereNom:"",classeNiveau:"6eme",anneeScolaire:Wo()}),b(!1),q("Groupe cr avec succs !"),setTimeout(()=>q(null),3e3),await k()}catch(R){v(R.message||"Erreur lors de la cration du groupe.")}finally{N(!1)}},me=Q=>{z(Q),oe({nom:Q.nom,description:Q.description||"",matiereId:Q.matiereId,matiereNom:Q.matiereNom,classeNiveau:Q.classeNiveau,anneeScolaire:Q.anneeScolaire}),b(!1)},I=()=>{z(null),oe({nom:"",description:"",matiereId:"",matiereNom:"",classeNiveau:"6eme",anneeScolaire:Wo()})},ve=async Q=>{if(Q.preventDefault(),!(!E||!$.nom.trim()||!$.matiereId))try{L(!0),await zD(E.id,{nom:$.nom.trim(),description:$.description?.trim()||"",matiereId:$.matiereId,matiereNom:$.matiereNom,classeNiveau:$.classeNiveau,anneeScolaire:$.anneeScolaire}),z(null),q("Groupe modifi avec succs !"),setTimeout(()=>q(null),3e3),await k()}catch(R){v(R.message||"Erreur lors de la modification du groupe.")}finally{L(!1)}},xe=async Q=>{try{await navigator.clipboard.writeText(Q),A(Q),setTimeout(()=>A(null),2e3)}catch{const R=document.createElement("textarea");R.value=Q,document.body.appendChild(R),R.select(),document.execCommand("copy"),document.body.removeChild(R),A(Q),setTimeout(()=>A(null),2e3)}},pe=async Q=>{try{await hK(Q),C(null),await k()}catch(R){v(R.message)}},ye=async Q=>{try{await vK(Q),await k()}catch(R){v(R.message)}},fe=async Q=>{try{await gK(Q),await k()}catch(R){v(R.message)}},U=(Q,R)=>{X(ne=>({...ne,[Q]:R}))},le=(Q,R)=>{oe(ne=>({...ne,[Q]:R}))},we=r.filter(Q=>ue==="tous"?!0:Q.statut===ue),re=(Q,R,ne)=>i.jsxs("div",{className:"prof-form-group",children:[i.jsx("label",{htmlFor:Q,children:"Discipline / Matire *"}),i.jsxs("select",{id:Q,value:R,onChange:H=>ne(H.target.value),className:"prof-select",required:!0,children:[i.jsx("option",{value:"",children:" Slectionner une discipline "}),u.map(H=>i.jsxs("option",{value:H.id,children:[H.nom,H.classe?` (${H.classe})`:""]},H.id))]}),u.length===0&&i.jsx("small",{style:{color:"#f59e0b",marginTop:"0.25rem",display:"block"},children:" Aucune discipline trouve. Crez des disciplines dans l'espace admin."})]});return m?i.jsxs("div",{className:"prof-loading",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Chargement de vos groupes-classes..."})]}):i.jsxs("div",{className:"groupe-manager",children:[i.jsxs("div",{className:"groupe-manager-header",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"groupe-manager-titre",children:"Mes groupes-classes"}),i.jsxs("p",{className:"groupe-manager-subtitle",children:[r.length," groupe",r.length!==1?"s":"","  Anne ",Wo()]})]}),i.jsx("button",{className:"prof-btn prof-btn-primary",onClick:()=>{b(!x),E&&I()},children:x?" Annuler":" Nouveau groupe"})]}),h&&i.jsxs("div",{className:"prof-alert prof-alert-error",children:[i.jsx("span",{children:""})," ",h,i.jsx("button",{onClick:()=>v(null),className:"prof-alert-close",children:""})]}),T&&i.jsxs("div",{className:"prof-alert prof-alert-success",children:[i.jsx("span",{children:""})," ",T,i.jsx("button",{onClick:()=>q(null),className:"prof-alert-close",children:""})]}),x&&i.jsxs("div",{className:"groupe-form-container",children:[i.jsx("h3",{children:"Crer un nouveau groupe-classe"}),i.jsxs("form",{onSubmit:G,className:"groupe-form",children:[i.jsxs("div",{className:"prof-form-group",children:[i.jsx("label",{htmlFor:"groupe-nom",children:"Nom du groupe *"}),i.jsx("input",{id:"groupe-nom",type:"text",placeholder:"Ex: 3me A - Maths 2025",value:Y.nom,onChange:Q=>U("nom",Q.target.value),required:!0,className:"prof-input",maxLength:60})]}),i.jsxs("div",{className:"prof-form-group",children:[i.jsx("label",{htmlFor:"groupe-desc",children:"Description (optionnelle)"}),i.jsx("input",{id:"groupe-desc",type:"text",placeholder:"Ex: Cours du mardi et jeudi matin",value:Y.description||"",onChange:Q=>U("description",Q.target.value),className:"prof-input",maxLength:120})]}),i.jsxs("div",{className:"prof-form-row",children:[i.jsxs("div",{className:"prof-form-group",children:[i.jsx("label",{htmlFor:"groupe-niveau",children:"Niveau de classe *"}),i.jsx("select",{id:"groupe-niveau",value:Y.classeNiveau,onChange:Q=>U("classeNiveau",Q.target.value),className:"prof-select",children:FC.map(Q=>i.jsx("option",{value:Q.value,children:Q.label},Q.value))})]}),i.jsxs("div",{className:"prof-form-group",children:[i.jsx("label",{htmlFor:"groupe-annee",children:"Anne scolaire *"}),i.jsx("select",{id:"groupe-annee",value:Y.anneeScolaire,onChange:Q=>U("anneeScolaire",Q.target.value),className:"prof-select",children:QC.map(Q=>i.jsx("option",{value:Q,children:Q},Q))})]})]}),re("groupe-discipline",Y.matiereId,Q=>J(Q,!1)),i.jsx("div",{className:"prof-form-actions",children:i.jsx("button",{type:"submit",className:"prof-btn prof-btn-primary",disabled:_||!Y.nom.trim()||!Y.matiereId,children:_?" Cration...":" Crer le groupe"})})]})]}),E&&i.jsxs("div",{className:"groupe-form-container",style:{borderLeft:"4px solid #f59e0b"},children:[i.jsxs("h3",{children:[" Modifier le groupe : ",E.nom]}),i.jsxs("form",{onSubmit:ve,className:"groupe-form",children:[i.jsxs("div",{className:"prof-form-group",children:[i.jsx("label",{htmlFor:"edit-groupe-nom",children:"Nom du groupe *"}),i.jsx("input",{id:"edit-groupe-nom",type:"text",value:$.nom,onChange:Q=>le("nom",Q.target.value),required:!0,className:"prof-input",maxLength:60})]}),i.jsxs("div",{className:"prof-form-group",children:[i.jsx("label",{htmlFor:"edit-groupe-desc",children:"Description (optionnelle)"}),i.jsx("input",{id:"edit-groupe-desc",type:"text",value:$.description||"",onChange:Q=>le("description",Q.target.value),className:"prof-input",maxLength:120})]}),i.jsxs("div",{className:"prof-form-row",children:[i.jsxs("div",{className:"prof-form-group",children:[i.jsx("label",{htmlFor:"edit-groupe-niveau",children:"Niveau de classe *"}),i.jsx("select",{id:"edit-groupe-niveau",value:$.classeNiveau,onChange:Q=>le("classeNiveau",Q.target.value),className:"prof-select",children:FC.map(Q=>i.jsx("option",{value:Q.value,children:Q.label},Q.value))})]}),i.jsxs("div",{className:"prof-form-group",children:[i.jsx("label",{htmlFor:"edit-groupe-annee",children:"Anne scolaire *"}),i.jsx("select",{id:"edit-groupe-annee",value:$.anneeScolaire,onChange:Q=>le("anneeScolaire",Q.target.value),className:"prof-select",children:QC.map(Q=>i.jsx("option",{value:Q,children:Q},Q))})]})]}),re("edit-groupe-discipline",$.matiereId,Q=>J(Q,!0)),i.jsxs("div",{className:"prof-form-actions",style:{display:"flex",gap:"0.75rem"},children:[i.jsx("button",{type:"submit",className:"prof-btn prof-btn-primary",disabled:D||!$.nom.trim()||!$.matiereId,children:D?" Enregistrement...":" Enregistrer"}),i.jsx("button",{type:"button",className:"prof-btn prof-btn-secondary",onClick:I,disabled:D,children:" Annuler"})]})]})]}),i.jsxs("div",{className:"groupe-filtres",children:[i.jsxs("button",{className:`prof-filtre-btn ${ue==="actif"?"active":""}`,onClick:()=>V("actif"),children:["Actifs (",r.filter(Q=>Q.statut==="actif").length,")"]}),i.jsxs("button",{className:`prof-filtre-btn ${ue==="archive"?"active":""}`,onClick:()=>V("archive"),children:["Archivs (",r.filter(Q=>Q.statut==="archive").length,")"]}),i.jsxs("button",{className:`prof-filtre-btn ${ue==="tous"?"active":""}`,onClick:()=>V("tous"),children:["Tous (",r.length,")"]})]}),we.length===0?i.jsxs("div",{className:"prof-empty-state",children:[i.jsx("div",{className:"prof-empty-icon",children:""}),i.jsx("h3",{children:ue==="archive"?"Aucun groupe archiv":"Aucun groupe-classe cr"}),i.jsx("p",{children:ue==="archive"?"Vos groupes archivs apparatront ici.":"Crez votre premier groupe-classe pour commencer  suivre vos lves."}),ue!=="archive"&&i.jsx("button",{className:"prof-btn prof-btn-primary",onClick:()=>b(!0),children:" Crer mon premier groupe"})]}):i.jsx("div",{className:"groupe-grid",children:we.map(Q=>{const R=l.get(Q.id),ne=E?.id===Q.id;return i.jsxs("div",{className:`groupe-card ${Q.statut==="archive"?"groupe-card-archive":""} ${ne?"groupe-card-editing":""}`,children:[i.jsxs("div",{className:"groupe-card-header",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"groupe-card-titre",children:Q.nom}),i.jsx("span",{className:"groupe-card-matiere",children:Q.matiereNom})]}),i.jsx("span",{className:`groupe-badge groupe-badge-${Q.statut}`,children:Q.statut==="actif"?" Actif":" Archiv"})]}),Q.description&&i.jsx("p",{style:{color:"#6b7280",fontSize:"0.85rem",margin:"0.25rem 0 0.5rem"},children:Q.description}),i.jsxs("div",{className:"groupe-card-infos",children:[i.jsxs("span",{children:[" ",Q.classeNiveau]}),i.jsxs("span",{children:[" ",Q.anneeScolaire]}),i.jsxs("span",{children:[" ",Q.nombreInscrits," lve",Q.nombreInscrits!==1?"s":""]})]}),i.jsxs("div",{className:"groupe-card-code",children:[i.jsx("span",{className:"groupe-code-label",children:"Code d'invitation :"}),i.jsxs("div",{className:"groupe-code-box",children:[i.jsx("code",{className:"groupe-code-value",children:Q.codeInvitation}),i.jsx("button",{className:"prof-btn-icon",onClick:H=>{H.stopPropagation(),xe(Q.codeInvitation)},title:"Copier le code",children:S===Q.codeInvitation?"":""}),Q.statut==="actif"&&i.jsx("button",{className:"prof-btn-icon",onClick:H=>{H.stopPropagation(),fe(Q.id)},title:"Rgnrer le code",children:""})]})]}),R&&R.nombreEleves>0&&i.jsxs("div",{className:"groupe-card-stats",children:[i.jsxs("div",{className:"groupe-stat-item",children:[i.jsx("span",{className:"groupe-stat-value",children:R.moyenneClasse}),i.jsx("span",{className:"groupe-stat-label",children:"Moyenne"})]}),i.jsxs("div",{className:"groupe-stat-item",children:[i.jsxs("span",{className:"groupe-stat-value",children:[R.tauxReussite,"%"]}),i.jsx("span",{className:"groupe-stat-label",children:"Russite"})]}),i.jsxs("div",{className:"groupe-stat-item",children:[i.jsx("span",{className:"groupe-stat-value",children:R.elevesEnDifficulte}),i.jsx("span",{className:"groupe-stat-label",children:"En difficult"})]})]}),i.jsxs("div",{className:"groupe-card-actions",children:[Q.statut==="actif"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"prof-btn prof-btn-primary prof-btn-sm",onClick:()=>e(Q),children:" Voir dtails"}),i.jsx("button",{className:"prof-btn prof-btn-warning prof-btn-sm",onClick:()=>me(Q),style:{background:"#fef3c7",color:"#92400e",border:"1px solid #fbbf24"},children:" Modifier"}),i.jsx("button",{className:"prof-btn prof-btn-secondary prof-btn-sm",onClick:()=>ye(Q.id),children:" Archiver"})]}),O===Q.id?i.jsxs("div",{className:"groupe-confirm-suppression",children:[i.jsx("span",{children:"Confirmer ?"}),i.jsx("button",{className:"prof-btn prof-btn-danger prof-btn-sm",onClick:()=>pe(Q.id),children:"Oui, supprimer"}),i.jsx("button",{className:"prof-btn prof-btn-secondary prof-btn-sm",onClick:()=>C(null),children:"Non"})]}):i.jsx("button",{className:"prof-btn prof-btn-danger prof-btn-sm",onClick:()=>C(Q.id),children:" Supprimer"})]})]},Q.id)})})]})},TK=({groupe:e,onRetour:t})=>{const[r,n]=j.useState(null),[l,o]=j.useState([]),[u,f]=j.useState([]),[m,p]=j.useState([]),[h,v]=j.useState(null),[x,b]=j.useState(!0),[_,N]=j.useState(null),[S,A]=j.useState("apercu"),[O,C]=j.useState("moyenne_desc"),[E,z]=j.useState(null),[D,L]=j.useState(null),[T,q]=j.useState(!1),[Y,X]=j.useState(null),$=j.useCallback(async()=>{try{b(!0),N(null);const[I,ve,xe]=await Promise.all([Eb(e.id),jK(e.id),_K(e.matiereId)]);n(I),o(ve),p(xe);const pe=SK(ve,e.nom);f(pe)}catch(I){console.error("Erreur chargement dtail groupe:",I),N("Impossible de charger les donnes du groupe.")}finally{b(!1)}},[e.id,e.matiereId,e.nom]);j.useEffect(()=>{$()},[$]);const oe=async I=>{try{q(!0),L(I);const ve=await NK(e.id,I);v(ve)}catch(ve){console.error("Erreur analyse quiz:",ve)}finally{q(!1)}},ue=()=>{const I=wK(l,e.nom),ve=`PedaClic_${e.nom.replace(/\s+/g,"_")}_${new Date().toISOString().slice(0,10)}`;AK(I,ve)},V=async I=>{try{X(I);const xe=(await Om(e.id)).find(pe=>pe.eleveId===I);xe&&(await bK(xe.id,e.id),await $())}catch(ve){N(ve.message)}finally{X(null)}},k=[...l].sort((I,ve)=>{switch(O){case"moyenne_desc":return ve.moyenne-I.moyenne;case"moyenne_asc":return I.moyenne-ve.moyenne;case"nom":return I.eleveNom.localeCompare(ve.eleveNom);case"streak":return ve.streak.actuel-I.streak.actuel;case"quiz_count":return ve.totalQuiz-I.totalQuiz;default:return 0}}),J=I=>I>=16?"prof-note-excellent":I>=12?"prof-note-bien":I>=10?"prof-note-passable":I>=8?"prof-note-insuffisant":"prof-note-critique",G=I=>{switch(I){case"hausse":return"";case"baisse":return"";default:return""}},me=I=>{switch(I){case"difficulte":return"";case"inactivite":return"";case"baisse":return"";case"felicitation":return"";default:return""}};return x?i.jsxs("div",{className:"prof-loading",children:[i.jsx("div",{className:"spinner"}),i.jsxs("p",{children:['Chargement des donnes de "',e.nom,'"...']})]}):i.jsxs("div",{className:"groupe-detail",children:[i.jsxs("div",{className:"groupe-detail-header",children:[i.jsx("button",{className:"prof-btn prof-btn-secondary",onClick:t,children:" Retour aux groupes"}),i.jsxs("div",{className:"groupe-detail-titre-section",children:[i.jsx("h2",{className:"groupe-detail-titre",children:e.nom}),i.jsxs("p",{className:"groupe-detail-subtitle",children:[e.matiereNom,"  ",e.classeNiveau,"  ",e.anneeScolaire]})]}),i.jsx("button",{className:"prof-btn prof-btn-secondary",onClick:ue,children:" Export CSV"})]}),_&&i.jsxs("div",{className:"prof-alert prof-alert-error",children:[" ",_,i.jsx("button",{onClick:()=>N(null),className:"prof-alert-close",children:""})]}),i.jsx("div",{className:"groupe-detail-onglets",children:[{id:"apercu",label:" Aperu",count:null},{id:"eleves",label:" lves",count:l.length},{id:"quiz",label:" Quiz",count:m.length},{id:"alertes",label:" Alertes",count:u.length}].map(I=>i.jsxs("button",{className:`groupe-onglet ${S===I.id?"active":""}`,onClick:()=>A(I.id),children:[I.label,I.count!==null&&I.count>0&&i.jsx("span",{className:"groupe-onglet-badge",children:I.count})]},I.id))}),S==="apercu"&&r&&i.jsxs("div",{className:"groupe-apercu",children:[i.jsxs("div",{className:"groupe-stats-grid",children:[i.jsxs("div",{className:"groupe-stat-card",children:[i.jsx("div",{className:"groupe-stat-card-icon",children:""}),i.jsxs("div",{className:"groupe-stat-card-content",children:[i.jsxs("span",{className:`groupe-stat-card-value ${J(r.moyenneClasse)}`,children:[r.moyenneClasse,"/20"]}),i.jsx("span",{className:"groupe-stat-card-label",children:"Moyenne classe"})]})]}),i.jsxs("div",{className:"groupe-stat-card",children:[i.jsx("div",{className:"groupe-stat-card-icon",children:""}),i.jsxs("div",{className:"groupe-stat-card-content",children:[i.jsxs("span",{className:"groupe-stat-card-value",children:[r.tauxReussite,"%"]}),i.jsx("span",{className:"groupe-stat-card-label",children:"Taux de russite"})]})]}),i.jsxs("div",{className:"groupe-stat-card",children:[i.jsx("div",{className:"groupe-stat-card-icon",children:""}),i.jsxs("div",{className:"groupe-stat-card-content",children:[i.jsx("span",{className:"groupe-stat-card-value",children:r.nombreEleves}),i.jsx("span",{className:"groupe-stat-card-label",children:"lves inscrits"})]})]}),i.jsxs("div",{className:"groupe-stat-card",children:[i.jsx("div",{className:"groupe-stat-card-icon",children:""}),i.jsxs("div",{className:"groupe-stat-card-content",children:[i.jsx("span",{className:"groupe-stat-card-value",children:r.totalQuizPasses}),i.jsx("span",{className:"groupe-stat-card-label",children:"Quiz passs"})]})]}),i.jsxs("div",{className:"groupe-stat-card",children:[i.jsx("div",{className:"groupe-stat-card-icon",children:""}),i.jsxs("div",{className:"groupe-stat-card-content",children:[i.jsxs("span",{className:"groupe-stat-card-value",children:[r.tauxParticipation,"%"]}),i.jsx("span",{className:"groupe-stat-card-label",children:"Participation"})]})]}),i.jsxs("div",{className:"groupe-stat-card",children:[i.jsx("div",{className:"groupe-stat-card-icon",children:""}),i.jsxs("div",{className:"groupe-stat-card-content",children:[i.jsx("span",{className:`groupe-stat-card-value ${r.elevesEnDifficulte>0?"prof-note-critique":"prof-note-excellent"}`,children:r.elevesEnDifficulte}),i.jsx("span",{className:"groupe-stat-card-label",children:"En difficult"})]})]})]}),i.jsx("div",{className:"groupe-apercu-notes",children:i.jsxs("div",{className:"groupe-note-range",children:[i.jsx("span",{className:"groupe-note-range-label",children:"Plage des notes :"}),i.jsxs("span",{className:"prof-note-critique",children:[r.pireNote,"/20"]}),i.jsx("div",{className:"groupe-note-barre",children:i.jsx("div",{className:"groupe-note-barre-fill",style:{left:`${r.pireNote/20*100}%`,width:`${(r.meilleureNote-r.pireNote)/20*100}%`}})}),i.jsxs("span",{className:"prof-note-excellent",children:[r.meilleureNote,"/20"]})]})}),l.length>=3&&i.jsxs("div",{className:"groupe-apercu-classement",children:[i.jsxs("div",{className:"groupe-classement-section",children:[i.jsx("h4",{children:" Top 3"}),l.slice(0,3).map((I,ve)=>i.jsxs("div",{className:"groupe-classement-item",children:[i.jsx("span",{className:"groupe-classement-rang",children:ve===0?"":ve===1?"":""}),i.jsx("span",{className:"groupe-classement-nom",children:I.eleveNom}),i.jsxs("span",{className:`groupe-classement-note ${J(I.moyenne)}`,children:[I.moyenne,"/20"]})]},I.eleveId))]}),i.jsxs("div",{className:"groupe-classement-section",children:[i.jsx("h4",{children:"  surveiller"}),l.filter(I=>I.moyenne<8&&I.totalQuiz>0).slice(0,3).map(I=>i.jsxs("div",{className:"groupe-classement-item",children:[i.jsx("span",{className:"groupe-classement-rang",children:""}),i.jsx("span",{className:"groupe-classement-nom",children:I.eleveNom}),i.jsxs("span",{className:`groupe-classement-note ${J(I.moyenne)}`,children:[I.moyenne,"/20"]})]},I.eleveId)),l.filter(I=>I.moyenne<8&&I.totalQuiz>0).length===0&&i.jsx("p",{className:"groupe-classement-vide",children:"Aucun lve en difficult "})]})]})]}),S==="eleves"&&i.jsxs("div",{className:"groupe-eleves",children:[i.jsxs("div",{className:"groupe-eleves-toolbar",children:[i.jsx("label",{htmlFor:"tri-eleves",children:"Trier par :"}),i.jsxs("select",{id:"tri-eleves",value:O,onChange:I=>C(I.target.value),className:"prof-select prof-select-sm",children:[i.jsx("option",{value:"moyenne_desc",children:"Moyenne ()"}),i.jsx("option",{value:"moyenne_asc",children:"Moyenne ()"}),i.jsx("option",{value:"nom",children:"Nom (A-Z)"}),i.jsx("option",{value:"streak",children:"Streak ()"}),i.jsx("option",{value:"quiz_count",children:"Quiz passs ()"})]}),i.jsxs("span",{className:"groupe-eleves-count",children:[l.length," lve",l.length!==1?"s":""]})]}),l.length===0?i.jsxs("div",{className:"prof-empty-state",children:[i.jsx("div",{className:"prof-empty-icon",children:""}),i.jsx("h3",{children:"Aucun lve inscrit"}),i.jsxs("p",{children:["Partagez le code ",i.jsx("strong",{children:e.codeInvitation}),"  vos lves."]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"groupe-eleves-table-wrapper",children:i.jsxs("table",{className:"groupe-eleves-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"#"}),i.jsx("th",{children:"lve"}),i.jsx("th",{children:"Moyenne"}),i.jsx("th",{children:"Quiz"}),i.jsx("th",{children:"Russite"}),i.jsx("th",{children:"Streak"}),i.jsx("th",{children:"Tendance"}),i.jsx("th",{children:"Actions"})]})}),i.jsx("tbody",{children:k.map((I,ve)=>i.jsxs("tr",{className:`${E===I.eleveId?"groupe-eleve-row-active":""}`,children:[i.jsx("td",{className:"groupe-eleve-rang",children:ve+1}),i.jsx("td",{className:"groupe-eleve-nom-cell",children:i.jsxs("div",{children:[i.jsx("strong",{children:I.eleveNom}),i.jsx("span",{className:"groupe-eleve-email",children:I.eleveEmail})]})}),i.jsx("td",{children:i.jsxs("span",{className:`groupe-note-badge ${J(I.moyenne)}`,children:[I.moyenne,"/20"]})}),i.jsx("td",{children:I.totalQuiz}),i.jsxs("td",{children:[I.tauxReussite,"%"]}),i.jsx("td",{children:i.jsxs("span",{className:"groupe-streak",children:[" ",I.streak.actuel,"j"]})}),i.jsxs("td",{children:[G(I.tendance)," ",I.tendance]}),i.jsxs("td",{className:"groupe-eleve-actions",children:[i.jsx("button",{className:"prof-btn-icon",onClick:()=>z(E===I.eleveId?null:I.eleveId),title:"Voir dtails",children:E===I.eleveId?"":""}),i.jsx("button",{className:"prof-btn-icon prof-btn-icon-danger",onClick:()=>V(I.eleveId),disabled:Y===I.eleveId,title:"Retirer du groupe",children:Y===I.eleveId?"":""})]})]},I.eleveId))})]})}),E&&(()=>{const I=l.find(ve=>ve.eleveId===E);return I?i.jsxs("div",{className:"groupe-eleve-detail",children:[i.jsxs("div",{className:"groupe-eleve-detail-header",children:[i.jsxs("h3",{children:[" Dtail  ",I.eleveNom]}),i.jsx("button",{className:"prof-btn-icon",onClick:()=>z(null),children:""})]}),i.jsxs("div",{className:"groupe-eleve-detail-grid",children:[i.jsxs("div",{className:"groupe-eleve-detail-card",children:[i.jsx("h4",{children:"Score global"}),i.jsx("div",{className:"groupe-eleve-score-circle",children:i.jsxs("span",{className:J(I.scoreGlobal/5),children:[I.scoreGlobal,"/100"]})})]}),i.jsxs("div",{className:"groupe-eleve-detail-card",children:[i.jsx("h4",{children:" Streak"}),i.jsxs("p",{children:["Actuel : ",i.jsxs("strong",{children:[I.streak.actuel," jour",I.streak.actuel!==1?"s":""]})]}),i.jsxs("p",{children:["Meilleur : ",I.streak.meilleur," jours"]})]}),i.jsxs("div",{className:"groupe-eleve-detail-card groupe-eleve-detail-card-wide",children:[i.jsx("h4",{children:" Lacunes dtectes"}),I.lacunes.length===0?i.jsx("p",{className:"text-muted",children:"Aucune lacune dtecte "}):i.jsx("ul",{className:"groupe-lacunes-liste",children:I.lacunes.map((ve,xe)=>i.jsxs("li",{className:`groupe-lacune-item groupe-lacune-${ve.niveauUrgence}`,children:[i.jsxs("span",{className:"groupe-lacune-nom",children:[ve.disciplineNom,ve.chapitre&&`  ${ve.chapitre}`]}),i.jsxs("span",{className:"groupe-lacune-moyenne",children:[ve.moyenne,"/20"]}),i.jsx("span",{className:`groupe-lacune-badge groupe-lacune-badge-${ve.niveauUrgence}`,children:ve.niveauUrgence})]},xe))})]})]})]}):null})()]})]}),S==="quiz"&&i.jsxs("div",{className:"groupe-quiz",children:[i.jsxs("div",{className:"groupe-quiz-selector",children:[i.jsx("label",{htmlFor:"select-quiz",children:"Slectionner un quiz  analyser :"}),i.jsxs("select",{id:"select-quiz",value:D||"",onChange:I=>{I.target.value&&oe(I.target.value)},className:"prof-select",children:[i.jsx("option",{value:"",children:" Choisir un quiz "}),m.map(I=>i.jsx("option",{value:I.id,children:I.titre},I.id))]})]}),!D&&i.jsxs("div",{className:"prof-empty-state",children:[i.jsx("div",{className:"prof-empty-icon",children:""}),i.jsx("h3",{children:"Analyse par quiz"}),i.jsx("p",{children:"Slectionnez un quiz pour voir les statistiques dtailles et les questions les plus rates."})]}),T&&i.jsxs("div",{className:"prof-loading",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Analyse en cours..."})]}),h&&!T&&i.jsxs("div",{className:"groupe-quiz-resultats",children:[i.jsxs("div",{className:"groupe-quiz-stats-header",children:[i.jsx("h3",{children:h.quizTitre}),i.jsxs("div",{className:"groupe-quiz-stats-grid",children:[i.jsxs("div",{className:"groupe-stat-mini",children:[i.jsx("span",{className:"groupe-stat-mini-value",children:h.totalPassages}),i.jsx("span",{className:"groupe-stat-mini-label",children:"Passages"})]}),i.jsxs("div",{className:"groupe-stat-mini",children:[i.jsxs("span",{className:`groupe-stat-mini-value ${J(h.moyenneScore)}`,children:[h.moyenneScore,"/20"]}),i.jsx("span",{className:"groupe-stat-mini-label",children:"Moyenne"})]}),i.jsxs("div",{className:"groupe-stat-mini",children:[i.jsxs("span",{className:"groupe-stat-mini-value",children:[h.tauxReussite,"%"]}),i.jsx("span",{className:"groupe-stat-mini-label",children:"Russite"})]}),i.jsxs("div",{className:"groupe-stat-mini",children:[i.jsxs("span",{className:"groupe-stat-mini-value",children:[Math.floor(h.tempsEcouleMoyen/60),"min"]}),i.jsx("span",{className:"groupe-stat-mini-label",children:"Temps moyen"})]})]})]}),i.jsxs("div",{className:"groupe-quiz-questions",children:[i.jsx("h4",{children:" Questions les plus rates"}),h.questionsRatees.filter(I=>I.tauxEchec>30).map((I,ve)=>i.jsxs("div",{className:"groupe-quiz-question-card",children:[i.jsxs("div",{className:"groupe-quiz-question-header",children:[i.jsxs("span",{className:"groupe-quiz-question-num",children:["Q",I.questionIndex+1]}),i.jsxs("span",{className:"groupe-quiz-question-echec",children:[I.tauxEchec,"% d'chec"]})]}),i.jsx("p",{className:"groupe-quiz-question-texte",children:I.questionTexte}),i.jsx("div",{className:"groupe-quiz-question-reponse",children:i.jsxs("span",{className:"groupe-quiz-bonne-reponse",children:[" Bonne rponse : ",I.reponseCorrecte]})}),I.reponsesFrequentes.length>0&&i.jsxs("div",{className:"groupe-quiz-mauvaises-reponses",children:[i.jsx("span",{children:"Erreurs frquentes :"}),I.reponsesFrequentes.slice(0,2).map((xe,pe)=>i.jsxs("span",{className:"groupe-quiz-mauvaise-reponse",children:[" ",xe.reponse," (",xe.nombre," lve",xe.nombre>1?"s":"",")"]},pe))]})]},ve)),h.questionsRatees.filter(I=>I.tauxEchec>30).length===0&&i.jsx("p",{className:"text-muted",children:"Toutes les questions ont un taux de russite suprieur  70% "})]})]})]}),S==="alertes"&&i.jsx("div",{className:"groupe-alertes",children:u.length===0?i.jsxs("div",{className:"prof-empty-state",children:[i.jsx("div",{className:"prof-empty-icon",children:""}),i.jsx("h3",{children:"Aucune alerte"}),i.jsx("p",{children:"Tous vos lves se portent bien ! Les alertes apparatront ici quand un lve aura besoin d'attention."})]}):i.jsx("div",{className:"groupe-alertes-liste",children:u.map(I=>i.jsxs("div",{className:`groupe-alerte-card groupe-alerte-${I.niveauUrgence}`,children:[i.jsxs("div",{className:"groupe-alerte-header",children:[i.jsx("span",{className:"groupe-alerte-emoji",children:me(I.type)}),i.jsx("span",{className:"groupe-alerte-eleve",children:I.eleveNom}),i.jsx("span",{className:`groupe-alerte-badge groupe-alerte-badge-${I.niveauUrgence}`,children:I.niveauUrgence})]}),i.jsx("p",{className:"groupe-alerte-message",children:I.message}),i.jsx("button",{className:"prof-btn prof-btn-secondary prof-btn-sm",onClick:()=>{A("eleves"),z(I.eleveId)},children:" Voir dtail"})]},I.id))})})]})},PK=()=>{const{currentUser:e}=Ht(),[t,r]=j.useState("overview"),[n,l]=j.useState(null),[o,u]=j.useState(0),[f,m]=j.useState(0),[p,h]=j.useState(0),[v,x]=j.useState(0),[b,_]=j.useState([]),[N,S]=j.useState(!0),A=j.useCallback(async()=>{if(e?.uid)try{S(!0);const z=(await OD(e.uid)).filter(X=>X.statut==="actif");u(z.length);let D=0,L=0,T=0,q=0;const Y=[];for(const X of z)try{const $=await Eb(X.id);D+=$.nombreEleves,$.nombreEleves>0&&(L+=$.moyenneClasse,T++),q+=$.elevesEnDifficulte,Y.push({...X,stats:$})}catch{Y.push({...X})}m(D),h(T>0?Math.round(L/T*10)/10:0),x(q),_(Y)}catch(E){console.error("Erreur chargement rsum prof:",E)}finally{S(!1)}},[e?.uid]);j.useEffect(()=>{A()},[A]);const O=E=>{l(E),r("detail")},C=()=>{l(null),r("groupes"),A()};return N?i.jsxs("div",{className:"prof-loading",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Chargement de votre espace professeur..."})]}):i.jsxs("div",{className:"prof-dashboard",children:[i.jsx("header",{className:"prof-dashboard-header",children:i.jsxs("div",{children:[i.jsx("h1",{className:"prof-dashboard-titre",children:"Tableau de bord Professeur"}),i.jsxs("p",{className:"prof-dashboard-subtitle",children:["Bienvenue, ",e?.displayName||"Professeur"," "]})]})}),t!=="detail"&&i.jsxs("nav",{className:"prof-nav",children:[i.jsx("button",{className:`prof-nav-btn ${t==="overview"?"active":""}`,onClick:()=>r("overview"),children:" Vue d'ensemble"}),i.jsx("button",{className:`prof-nav-btn ${t==="groupes"?"active":""}`,onClick:()=>r("groupes"),children:" Mes groupes-classes"})]}),t==="overview"&&i.jsxs("div",{className:"prof-overview",children:[i.jsxs("div",{className:"prof-overview-cards",children:[i.jsxs("div",{className:"prof-overview-card prof-overview-card-clickable",onClick:()=>r("groupes"),children:[i.jsx("div",{className:"prof-overview-card-icon",children:""}),i.jsxs("div",{className:"prof-overview-card-content",children:[i.jsx("span",{className:"prof-overview-card-value",children:o}),i.jsxs("span",{className:"prof-overview-card-label",children:["Groupe",o!==1?"s":""," actif",o!==1?"s":""]})]})]}),i.jsxs("div",{className:"prof-overview-card",children:[i.jsx("div",{className:"prof-overview-card-icon",children:""}),i.jsxs("div",{className:"prof-overview-card-content",children:[i.jsx("span",{className:"prof-overview-card-value",children:f}),i.jsxs("span",{className:"prof-overview-card-label",children:["lve",f!==1?"s":""," inscrit",f!==1?"s":""]})]})]}),i.jsxs("div",{className:"prof-overview-card",children:[i.jsx("div",{className:"prof-overview-card-icon",children:""}),i.jsxs("div",{className:"prof-overview-card-content",children:[i.jsxs("span",{className:"prof-overview-card-value",children:[p,"/20"]}),i.jsx("span",{className:"prof-overview-card-label",children:"Moyenne gnrale"})]})]}),i.jsxs("div",{className:"prof-overview-card",children:[i.jsx("div",{className:"prof-overview-card-icon",children:""}),i.jsxs("div",{className:"prof-overview-card-content",children:[i.jsx("span",{className:`prof-overview-card-value ${v>0?"prof-note-critique":""}`,children:v}),i.jsxs("span",{className:"prof-overview-card-label",children:["lve",v!==1?"s":""," en difficult"]})]})]})]}),b.length===0?i.jsxs("div",{className:"prof-empty-state",children:[i.jsx("div",{className:"prof-empty-icon",children:""}),i.jsx("h3",{children:"Bienvenue sur votre espace Professeur !"}),i.jsx("p",{children:"Crez votre premier groupe-classe pour commencer  suivre vos lves."}),i.jsx("button",{className:"prof-btn prof-btn-primary",onClick:()=>r("groupes"),children:" Crer un groupe-classe"})]}):i.jsxs("div",{className:"prof-overview-groupes",children:[i.jsx("h2",{children:"Mes groupes"}),i.jsx("div",{className:"prof-overview-groupes-grid",children:b.map(E=>i.jsxs("div",{className:"prof-overview-groupe-card",onClick:()=>O(E),children:[i.jsxs("div",{className:"prof-overview-groupe-header",children:[i.jsx("h3",{children:E.nom}),i.jsx("span",{className:"prof-overview-groupe-matiere",children:E.matiereNom})]}),E.stats&&i.jsxs("div",{className:"prof-overview-groupe-stats",children:[i.jsxs("div",{children:[i.jsx("span",{className:"prof-overview-groupe-stat-value",children:E.stats.nombreEleves}),i.jsx("span",{className:"prof-overview-groupe-stat-label",children:"lves"})]}),i.jsxs("div",{children:[i.jsxs("span",{className:"prof-overview-groupe-stat-value",children:[E.stats.moyenneClasse,"/20"]}),i.jsx("span",{className:"prof-overview-groupe-stat-label",children:"Moyenne"})]}),i.jsxs("div",{children:[i.jsxs("span",{className:"prof-overview-groupe-stat-value",children:[E.stats.tauxReussite,"%"]}),i.jsx("span",{className:"prof-overview-groupe-stat-label",children:"Russite"})]})]}),i.jsx("span",{className:"prof-overview-groupe-arrow",children:""})]},E.id))})]})]}),t==="groupes"&&i.jsx(DK,{onSelectGroupe:O}),t==="detail"&&n&&i.jsx(TK,{groupe:n,onRetour:C})]})},kK=()=>{const{currentUser:e}=Ht(),t=e?.uid||"",r=e?.displayName||"Parent",[n,l]=j.useState([]),[o,u]=j.useState(null),[f,m]=j.useState(null),[p,h]=j.useState(!0),[v,x]=j.useState(!1),[b,_]=j.useState(null),[N,S]=j.useState(!1),[A,O]=j.useState(""),[C,E]=j.useState(!1),[z,D]=j.useState(null),[L,T]=j.useState(null),[q,Y]=j.useState("apercu");j.useEffect(()=>{X()},[t]),j.useEffect(()=>{o&&$(o)},[o]);const X=async()=>{try{h(!0),_(null);const V=await JY(t);l(V),V.length===1&&u(V[0].enfantId)}catch(V){_("Erreur lors du chargement des enfants."),console.error(V)}finally{h(!1)}},$=async V=>{try{x(!0),_(null);const k=await tK(t,V);m(k)}catch(k){_(k.message||"Erreur lors du chargement du suivi."),m(null)}finally{x(!1)}},oe=async V=>{if(V.preventDefault(),D(null),T(null),!A.trim()){D("Veuillez saisir le code d'invitation.");return}try{E(!0);const k=await ZY(t,A);T(`${k.enfantNom} a t ajout avec succs !`),O(""),S(!1),await X(),u(k.enfantId)}catch(k){D(k.message||"Erreur lors de la liaison.")}finally{E(!1)}},ue=async V=>{if(window.confirm(`tes-vous sr de vouloir retirer ${V.enfantNom} de votre suivi ? Cette action est irrversible.`))try{await eK(V.id,t),o===V.enfantId&&(u(null),m(null)),await X()}catch(J){_(J.message||"Erreur lors de la suppression.")}};return p?i.jsxs("div",{className:"parent-loading",children:[i.jsx("div",{className:"parent-spinner"}),i.jsx("p",{children:"Chargement de votre espace parent..."})]}):i.jsxs("div",{className:"parent-dashboard",children:[i.jsxs("header",{className:"parent-header",children:[i.jsxs("div",{className:"parent-header-info",children:[i.jsx("h1",{className:"parent-titre",children:" Espace Parent"}),i.jsxs("p",{className:"parent-bienvenue",children:["Bienvenue, ",i.jsx("strong",{children:r}),"  Suivez la progression de vos enfants"]})]}),i.jsx("button",{className:"parent-btn parent-btn-primary",onClick:()=>{S(!N),D(null),T(null)},children:" Ajouter un enfant"})]}),b&&i.jsxs("div",{className:"parent-alerte parent-alerte-erreur",children:[i.jsxs("span",{children:[" ",b]}),i.jsx("button",{onClick:()=>_(null),children:""})]}),L&&i.jsxs("div",{className:"parent-alerte parent-alerte-succes",children:[i.jsxs("span",{children:[" ",L]}),i.jsx("button",{onClick:()=>T(null),children:""})]}),N&&i.jsxs("div",{className:"parent-form-liaison",children:[i.jsx("h3",{children:" Lier un enfant  votre compte"}),i.jsx("p",{className:"parent-form-aide",children:"Demandez le code d'invitation  votre enfant. Il peut le trouver dans son profil sur PedaClic (format: PEDA-XXXX-XXXX)."}),i.jsxs("form",{onSubmit:oe,className:"parent-form",children:[i.jsxs("div",{className:"parent-form-group",children:[i.jsx("label",{htmlFor:"code-invitation",children:"Code d'invitation"}),i.jsx("input",{id:"code-invitation",type:"text",placeholder:"PEDA-XXXX-XXXX",value:A,onChange:V=>O(V.target.value.toUpperCase()),maxLength:14,disabled:C,className:"parent-input"})]}),z&&i.jsxs("p",{className:"parent-form-erreur",children:[" ",z]}),i.jsxs("div",{className:"parent-form-actions",children:[i.jsx("button",{type:"submit",className:"parent-btn parent-btn-primary",disabled:C,children:C?"Vrification...":" Valider"}),i.jsx("button",{type:"button",className:"parent-btn parent-btn-secondary",onClick:()=>S(!1),children:"Annuler"})]})]})]}),n.length===0?i.jsxs("div",{className:"parent-empty-state",children:[i.jsx("div",{className:"parent-empty-icon",children:""}),i.jsx("h2",{children:"Aucun enfant li"}),i.jsx("p",{children:"Cliquez sur  Ajouter un enfant  et saisissez le code d'invitation de votre enfant pour commencer  suivre sa progression."}),i.jsx("button",{className:"parent-btn parent-btn-primary",onClick:()=>S(!0),children:" Ajouter mon premier enfant"})]}):i.jsxs("div",{className:"parent-content",children:[i.jsxs("aside",{className:"parent-sidebar",children:[i.jsx("h3",{className:"parent-sidebar-titre",children:"Mes enfants"}),i.jsx("ul",{className:"parent-enfants-liste",children:n.map(V=>i.jsxs("li",{className:`parent-enfant-card ${o===V.enfantId?"parent-enfant-actif":""}`,onClick:()=>u(V.enfantId),children:[i.jsx("div",{className:"parent-enfant-avatar",children:V.enfantNom.charAt(0).toUpperCase()}),i.jsxs("div",{className:"parent-enfant-info",children:[i.jsx("span",{className:"parent-enfant-nom",children:V.enfantNom}),V.enfantClasse&&i.jsx("span",{className:"parent-enfant-classe",children:V.enfantClasse})]}),i.jsx("button",{className:"parent-enfant-supprimer",onClick:k=>{k.stopPropagation(),ue(V)},title:"Retirer cet enfant",children:""})]},V.id))})]}),i.jsx("main",{className:"parent-main",children:o?v?i.jsxs("div",{className:"parent-loading",children:[i.jsx("div",{className:"parent-spinner"}),i.jsx("p",{children:"Chargement du suivi..."})]}):f?i.jsxs("div",{className:"parent-dashboard-detail",children:[i.jsxs("div",{className:"parent-enfant-header",children:[i.jsxs("div",{className:"parent-enfant-header-info",children:[i.jsx("h2",{children:f.enfant.nom}),f.enfant.classe&&i.jsx("span",{className:"parent-badge",children:f.enfant.classe}),f.enfant.derniereConnexion&&i.jsxs("span",{className:"parent-derniere-connexion",children:["Dernire connexion : ",qg(f.enfant.derniereConnexion)]})]}),i.jsx("p",{className:"parent-message-motivation",children:lK(f.scoreGlobal)})]}),i.jsxs("div",{className:"parent-indicateurs",children:[i.jsxs("div",{className:"parent-card parent-card-score",children:[i.jsx("div",{className:"parent-card-icon",children:""}),i.jsxs("div",{className:"parent-card-content",children:[i.jsx("span",{className:"parent-card-label",children:"Score Global"}),i.jsxs("span",{className:`parent-card-value parent-score-${f.scoreGlobal>=60?"bon":f.scoreGlobal>=40?"moyen":"bas"}`,children:[f.scoreGlobal,"/100"]})]})]}),i.jsxs("div",{className:"parent-card parent-card-streak",children:[i.jsx("div",{className:"parent-card-icon",children:""}),i.jsxs("div",{className:"parent-card-content",children:[i.jsx("span",{className:"parent-card-label",children:"Streak"}),i.jsxs("span",{className:"parent-card-value",children:[f.streak.actuel," jour",f.streak.actuel>1?"s":""]})]})]}),i.jsxs("div",{className:"parent-card parent-card-lacunes",children:[i.jsx("div",{className:"parent-card-icon",children:""}),i.jsxs("div",{className:"parent-card-content",children:[i.jsx("span",{className:"parent-card-label",children:"Lacunes"}),i.jsxs("span",{className:"parent-card-value",children:[f.lacunes.length," matire",f.lacunes.length>1?"s":""]})]})]}),i.jsxs("div",{className:"parent-card parent-card-objectifs",children:[i.jsx("div",{className:"parent-card-icon",children:""}),i.jsxs("div",{className:"parent-card-content",children:[i.jsx("span",{className:"parent-card-label",children:"Objectifs"}),i.jsxs("span",{className:"parent-card-value",children:[f.objectifs.filter(V=>V.statut==="atteint").length,"/",f.objectifs.length]})]})]})]}),i.jsxs("div",{className:"parent-section parent-section-semaine",children:[i.jsx("h3",{children:" Activit de la semaine"}),i.jsx("div",{className:"parent-semaine-jours",children:["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map((V,k)=>i.jsxs("div",{className:`parent-jour ${f.streak.semaineCourante[k]?"parent-jour-actif":"parent-jour-inactif"}`,children:[i.jsx("span",{className:"parent-jour-label",children:V}),i.jsx("span",{className:"parent-jour-icon",children:f.streak.semaineCourante[k]?"":""})]},V))})]}),i.jsxs("div",{className:"parent-onglets",children:[i.jsx("button",{className:`parent-onglet ${q==="apercu"?"parent-onglet-actif":""}`,onClick:()=>Y("apercu"),children:" Aperu"}),i.jsxs("button",{className:`parent-onglet ${q==="lacunes"?"parent-onglet-actif":""}`,onClick:()=>Y("lacunes"),children:[" Lacunes (",f.lacunes.length,")"]}),i.jsxs("button",{className:`parent-onglet ${q==="alertes"?"parent-onglet-actif":""}`,onClick:()=>Y("alertes"),children:[" Alertes (",f.alertes.length,")"]}),i.jsx("button",{className:`parent-onglet ${q==="resume"?"parent-onglet-actif":""}`,onClick:()=>Y("resume"),children:" Rsum"})]}),i.jsxs("div",{className:"parent-onglet-contenu",children:[q==="apercu"&&i.jsxs("div",{className:"parent-tab-apercu",children:[i.jsxs("div",{className:"parent-section",children:[i.jsx("h3",{children:" Derniers quiz passs"}),f.derniersQuiz.length===0?i.jsx("p",{className:"parent-vide",children:"Aucun quiz pass rcemment."}):i.jsx("div",{className:"parent-quiz-liste",children:f.derniersQuiz.map((V,k)=>i.jsxs("div",{className:`parent-quiz-item ${V.reussi?"parent-quiz-reussi":"parent-quiz-echoue"}`,children:[i.jsxs("div",{className:"parent-quiz-info",children:[i.jsx("span",{className:"parent-quiz-discipline",children:V.disciplineNom}),i.jsx("span",{className:"parent-quiz-titre",children:V.quizTitre})]}),i.jsxs("div",{className:"parent-quiz-score",children:[i.jsxs("span",{className:`parent-quiz-note ${V.reussi?"note-ok":"note-ko"}`,children:[V.noteSur20,"/20"]}),i.jsx("span",{className:"parent-quiz-statut",children:V.reussi?" Russi":" chou"})]}),i.jsx("span",{className:"parent-quiz-date",children:qg(V.datePassage)})]},k))})]}),i.jsxs("div",{className:"parent-section",children:[i.jsx("h3",{children:" Objectifs de la semaine"}),f.objectifs.length===0?i.jsx("p",{className:"parent-vide",children:"Aucun objectif cette semaine."}):i.jsx("div",{className:"parent-objectifs-liste",children:f.objectifs.map((V,k)=>i.jsxs("div",{className:"parent-objectif-item",children:[i.jsxs("div",{className:"parent-objectif-header",children:[i.jsx("span",{className:"parent-objectif-titre",children:V.titre}),i.jsx("span",{className:`parent-objectif-statut parent-statut-${V.statut}`,children:V.statut==="atteint"?" Atteint":V.statut==="en_cours"?" En cours":V.statut==="echoue"?" chou":" Non commenc"})]}),i.jsx("div",{className:"parent-progress-bar",children:i.jsx("div",{className:`parent-progress-fill parent-progress-${V.statut}`,style:{width:`${Math.min(V.progression/V.cible*100,100)}%`}})}),i.jsxs("span",{className:"parent-objectif-detail",children:[V.progression,"/",V.cible]})]},k))})]})]}),q==="lacunes"&&i.jsx("div",{className:"parent-tab-lacunes",children:f.lacunes.length===0?i.jsxs("div",{className:"parent-vide-section",children:[i.jsx("span",{className:"parent-vide-icon",children:""}),i.jsx("p",{children:"Aucune lacune dtecte ! Votre enfant est sur la bonne voie."})]}):i.jsx("div",{className:"parent-lacunes-liste",children:f.lacunes.map((V,k)=>i.jsxs("div",{className:"parent-lacune-item",style:{borderLeftColor:zf(V.niveauUrgence)},children:[i.jsxs("div",{className:"parent-lacune-header",children:[i.jsx("span",{className:"parent-lacune-discipline",children:V.disciplineNom}),i.jsx("span",{className:"parent-lacune-badge",style:{backgroundColor:zf(V.niveauUrgence),color:"#fff"},children:ND(V.niveauUrgence)})]}),i.jsxs("div",{className:"parent-lacune-details",children:[i.jsxs("span",{className:"parent-lacune-moyenne",children:["Moyenne : ",i.jsxs("strong",{children:[V.moyenne,"/20"]})]}),i.jsxs("span",{className:"parent-lacune-tendance",children:["Tendance : ",_D(V.tendance)," ",V.tendance==="hausse"?"En hausse":V.tendance==="baisse"?"En baisse":"Stable"]})]}),i.jsx("p",{className:"parent-lacune-conseil",children:V.niveauUrgence==="critique"?" Intervention recommande : discutez avec votre enfant et envisagez un soutien scolaire.":V.niveauUrgence==="important"?" Encouragez votre enfant  rviser cette matire rgulirement.":" Quelques rvisions suffiront pour consolider les acquis."})]},k))})}),q==="alertes"&&i.jsx("div",{className:"parent-tab-alertes",children:f.alertes.length===0?i.jsxs("div",{className:"parent-vide-section",children:[i.jsx("span",{className:"parent-vide-icon",children:""}),i.jsx("p",{children:"Aucune alerte pour le moment. Tout va bien !"})]}):i.jsx("div",{className:"parent-alertes-liste",children:f.alertes.map((V,k)=>i.jsxs("div",{className:`parent-alerte-item parent-alerte-${V.niveau}`,children:[i.jsxs("div",{className:"parent-alerte-header",children:[i.jsx("span",{className:"parent-alerte-titre",children:V.titre}),i.jsx("span",{className:"parent-alerte-badge",style:{backgroundColor:iK(V.niveau),color:"#fff"},children:sK(V.type)})]}),i.jsx("p",{className:"parent-alerte-message",children:V.message}),i.jsx("span",{className:"parent-alerte-date",children:qg(V.dateCreation)})]},k))})}),q==="resume"&&f.resume&&i.jsxs("div",{className:"parent-tab-resume",children:[i.jsxs("div",{className:"parent-resume-header",children:[i.jsxs("h3",{children:[" Rsum : ",f.resume.semaine]}),i.jsxs("span",{className:"parent-resume-evolution",children:["Score : ",f.resume.scoreGlobal,"/100"," ",HC(f.resume.evolutionScore)]})]}),i.jsxs("div",{className:"parent-resume-stats",children:[i.jsxs("div",{className:"parent-resume-stat",children:[i.jsx("span",{className:"parent-resume-stat-value",children:f.resume.nombreQuizSemaine}),i.jsx("span",{className:"parent-resume-stat-label",children:"Quiz passs"})]}),i.jsxs("div",{className:"parent-resume-stat",children:[i.jsxs("span",{className:"parent-resume-stat-value",children:[f.resume.joursActifsSemaine,"/7"]}),i.jsx("span",{className:"parent-resume-stat-label",children:"Jours actifs"})]}),i.jsxs("div",{className:"parent-resume-stat",children:[i.jsxs("span",{className:"parent-resume-stat-value",children:[f.resume.tempsEstimeMinutes," min"]}),i.jsx("span",{className:"parent-resume-stat-label",children:"Temps d'tude"})]}),i.jsxs("div",{className:"parent-resume-stat",children:[i.jsxs("span",{className:"parent-resume-stat-value",children:[f.resume.objectifsAtteints,"/",f.resume.objectifsTotal]}),i.jsx("span",{className:"parent-resume-stat-label",children:"Objectifs atteints"})]})]}),f.resume.evolutionDisciplines.length>0&&i.jsxs("div",{className:"parent-section",children:[i.jsx("h4",{children:" volution par matire"}),i.jsx("div",{className:"parent-evolution-liste",children:f.resume.evolutionDisciplines.map((V,k)=>i.jsxs("div",{className:"parent-evolution-item",children:[i.jsx("span",{className:"parent-evolution-discipline",children:V.disciplineNom}),i.jsxs("div",{className:"parent-evolution-scores",children:[i.jsxs("span",{className:"parent-evolution-prec",children:[V.moyenneSemainePrecedente,"/20"]}),i.jsx("span",{className:"parent-evolution-fleche",children:HC(V.evolution)}),i.jsxs("span",{className:"parent-evolution-courante",children:[V.moyenneSemaineCourante,"/20"]}),i.jsxs("span",{className:`parent-evolution-ecart ${V.ecart>0?"ecart-positif":V.ecart<0?"ecart-negatif":""}`,children:["(",V.ecart>0?"+":"",V.ecart,")"]})]})]},k))})]}),f.resume.disciplinesEnDifficulte.length>0&&i.jsxs("div",{className:"parent-section parent-section-warning",children:[i.jsx("h4",{children:" Matires ncessitant une attention"}),i.jsx("ul",{className:"parent-disciplines-difficulte",children:f.resume.disciplinesEnDifficulte.map((V,k)=>i.jsx("li",{children:V},k))})]})]}),q==="resume"&&!f.resume&&i.jsxs("div",{className:"parent-vide-section",children:[i.jsx("span",{className:"parent-vide-icon",children:""}),i.jsx("p",{children:"Le rsum sera disponible une fois que votre enfant aura pass des quiz."})]})]})]}):i.jsxs("div",{className:"parent-erreur-dashboard",children:[i.jsx("p",{children:" Impossible de charger le suivi. Veuillez ressayer."}),i.jsx("button",{className:"parent-btn parent-btn-primary",onClick:()=>o&&$(o),children:" Ressayer"})]}):i.jsx("div",{className:"parent-select-enfant",children:i.jsx("p",{children:" Slectionnez un enfant dans la liste pour voir son suivi."})})})]})]})},qK="https://api.pedaclic.sn",jl={cours_complet:"Cours complet",fiche_revision:"Fiche de rvision",exercices_corriges:"Exercices corrigs",quiz_auto:"Quiz auto-gnr",sujet_examen:"Sujet type examen",evaluation_personnalisee:"valuation personnalise"},RK={cours_complet:"Un cours structur avec introduction, dveloppement et conclusion adapt au programme sngalais.",fiche_revision:"Synthse des points cls pour rviser efficacement avant un examen.",exercices_corriges:"Srie d'exercices progressifs avec corrections dtailles tape par tape.",quiz_auto:"10 questions QCM avec 4 options, corrections et explications. Sauvegard directement comme quiz jouable.",sujet_examen:"Sujet conforme au format officiel BFEM ou BAC avec barme.",evaluation_personnalisee:"valuation sur mesure avec barme /20 et corrig-type."},Nd={cours_complet:"",fiche_revision:"",exercices_corriges:"",quiz_auto:"",sujet_examen:"",evaluation_personnalisee:""};async function LK(e){try{const t=await fetch(`${qK}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`Erreur serveur (${t.status})`)}const r=await t.json();if(!r.success)throw new Error(r.error||"La gnration a chou.");return r}catch(t){throw console.error("[aiGeneratorService] Erreur gnration:",t),t instanceof TypeError&&t.message.includes("fetch")?new Error("Impossible de contacter le serveur. Vrifiez votre connexion internet."):t}}async function IK(e,t,r,n){try{const l=await Lr(Te(he,"generated_content"),{userId:e,type:t.type,discipline:t.discipline,disciplineId:n,classe:t.classe,chapitre:t.chapitre,content:r,options:t.options||null,createdAt:Mt.now()});return console.log("[aiGeneratorService] Contenu sauvegard:",l.id),l.id}catch(l){throw console.error("[aiGeneratorService] Erreur sauvegarde contenu:",l),new Error("Erreur lors de la sauvegarde du contenu gnr.")}}async function BK(e,t,r,n){try{const l=r.map((f,m)=>({id:`q_${Date.now()}_${m}`,question:f.question,options:f.options,reponseCorrecte:f.reponseCorrecte,explication:f.explication||"",difficulte:f.difficulte||"moyen",points:f.points||2})),o={disciplineId:n,titre:`Quiz IA  ${t.chapitre}`,description:`Quiz auto-gnr pour ${t.discipline} (${t.classe})  Chapitre : ${t.chapitre}`,questions:l,duree:15,isPremium:!0,noteMinimale:10,auteurId:e,source:"ia_generator",createdAt:Mt.now()},u=await Lr(Te(he,"quizzes"),o);return console.log("[aiGeneratorService] Quiz sauvegard:",u.id),u.id}catch(l){throw console.error("[aiGeneratorService] Erreur sauvegarde quiz:",l),new Error("Erreur lors de la sauvegarde du quiz gnr.")}}async function $K(e,t=20){try{const r=Ke(Te(he,"generated_content"),Be("userId","==",e),Pt("createdAt","desc")),n=await $e(r),l=[];return n.forEach(o=>{l.length<t&&l.push({id:o.id,...o.data()})}),l}catch(r){throw console.error("[aiGeneratorService] Erreur chargement historique:",r),new Error("Erreur lors du chargement de l'historique.")}}async function UK(e){try{await js(De(he,"generated_content",e)),console.log("[aiGeneratorService] Contenu supprim:",e)}catch(t){throw console.error("[aiGeneratorService] Erreur suppression:",t),new Error("Erreur lors de la suppression du contenu.")}}const HK=["6me","5me","4me","3me","2nde","1re","Terminale"],GK=[30,45,60,90,120],QK=()=>{const{currentUser:e}=Ht(),[t,r]=j.useState(1),[n,l]=j.useState([]),[o,u]=j.useState(null),[f,m]=j.useState(""),[p,h]=j.useState(""),[v,x]=j.useState(""),[b,_]=j.useState(null),[N,S]=j.useState({}),[A,O]=j.useState(!1),[C,E]=j.useState(null),[z,D]=j.useState(null),[L,T]=j.useState(!1),[q,Y]=j.useState(!1),[X,$]=j.useState(null),[oe,ue]=j.useState(!1),[V,k]=j.useState([]),[J,G]=j.useState(!1),[me,I]=j.useState(!0),ve=j.useMemo(()=>{const H=new Map;return n.forEach(ge=>{H.has(ge.nom)||H.set(ge.nom,ge)}),Array.from(H.values())},[n]);j.useEffect(()=>{(async()=>{try{I(!0);const ge=Ke(Te(he,"disciplines"),Pt("nom")),Pe=await $e(ge),qe=[];Pe.forEach(Ge=>{const Gt=Ge.data();Gt.nom&&Gt.nom.trim()&&qe.push({id:Ge.id,nom:Gt.nom||"",classe:Gt.classe||"",niveau:Gt.niveau||""})}),l(qe)}catch(ge){console.error("[AIGenerator] Erreur chargement disciplines:",ge),D("Impossible de charger les disciplines.")}finally{I(!1)}})()},[]);const xe=H=>{u(H),D(null)},pe=()=>{const H=[];if(o||H.push("discipline"),f||H.push("classe"),(!p||p<1)&&H.push("dure de la leon"),H.length>0){D(`Champs requis manquants : ${H.join(", ")}`);return}r(2),D(null)},ye=()=>{if(!v.trim()){D("Veuillez saisir le titre du chapitre.");return}r(3),D(null)},fe=H=>{_(H),r(4),D(null)},U=()=>{t>1&&(r(H=>H-1),D(null),t===5&&(E(null),Y(!1),$(null)))},le=()=>{r(1),u(null),m(""),h(""),x(""),_(null),S({}),E(null),D(null),Y(!1),$(null)},we=async()=>{if(!o||!b||!v.trim()||!f){D("Paramtres incomplets. Veuillez reprendre depuis le dbut.");return}O(!0),D(null);try{const H={...N,duree:typeof p=="number"?p:void 0},ge={type:b,discipline:o.nom,classe:f,chapitre:v.trim(),options:Object.keys(H).length>0?H:void 0},Pe=await LK(ge);E(Pe),r(5)}catch(H){const ge=H instanceof Error?H.message:"Erreur inconnue";D(ge)}finally{O(!1)}},re=async()=>{if(!(!e||!C||!o||!b)){T(!0),D(null);try{let H;const Pe=n.find(Ge=>Ge.nom===o.nom&&Ge.classe===f)?.id||o.id,qe={type:b,discipline:o.nom,classe:f,chapitre:v.trim(),options:{...N,duree:typeof p=="number"?p:void 0}};C.type==="quiz"&&C.data.questions?H=await BK(e.uid,qe,C.data.questions,Pe):H=await IK(e.uid,qe,C.data.content||"",Pe),$(H),Y(!0)}catch(H){const ge=H instanceof Error?H.message:"Erreur de sauvegarde";D(ge)}finally{T(!1)}}},Q=async()=>{if(e){G(!0);try{const H=await $K(e.uid);k(H),ue(!0)}catch(H){console.error("[AIGenerator] Erreur historique:",H)}finally{G(!1)}}},R=async H=>{if(window.confirm("Supprimer ce contenu gnr ?"))try{await UK(H),k(ge=>ge.filter(Pe=>Pe.id!==H))}catch(ge){console.error("[AIGenerator] Erreur suppression:",ge)}},ne=j.useCallback(H=>{if(!H)return"";let ge=H.replace(/^### (.+)$/gm,"<h3>$1</h3>").replace(/^## (.+)$/gm,"<h2>$1</h2>").replace(/^# (.+)$/gm,"<h1>$1</h1>").replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/^- (.+)$/gm,"<li>$1</li>").replace(/^\d+\. (.+)$/gm,"<li>$1</li>").replace(/^---$/gm,"<hr />").replace(/```(\w*)\n([\s\S]*?)```/g,"<pre><code>$2</code></pre>").replace(/`(.+?)`/g,"<code>$1</code>").replace(/\n\n/g,"</p><p>").replace(/\n/g,"<br />");return ge=ge.replace(/(<li>.*?<\/li>(\s*<br \/>)?)+/g,Pe=>"<ul>"+Pe.replace(/<br \/>/g,"")+"</ul>"),`<p>${ge}</p>`},[]);return e?e.isPremium?i.jsxs("div",{className:"ai-generator",children:[i.jsxs("div",{className:"ai-generator__header",children:[i.jsx("h1",{className:"ai-generator__title",children:" Gnrateur de Contenu IA"}),i.jsx("p",{className:"ai-generator__subtitle",children:"Crez des cours, exercices, quiz et sujets d'examen adapts au programme sngalais"}),i.jsxs("div",{className:"ai-generator__header-actions",children:[i.jsx("button",{className:"btn btn--outline btn--sm",onClick:Q,disabled:J,children:J?" Chargement...":" Historique"}),t>1&&i.jsx("button",{className:"btn btn--outline btn--sm",onClick:le,children:" Recommencer"})]})]}),i.jsx("div",{className:"ai-generator__steps",children:[1,2,3,4,5].map(H=>i.jsxs("div",{className:`ai-generator__step-indicator ${H===t?"ai-generator__step-indicator--active":""} ${H<t?"ai-generator__step-indicator--done":""}`,children:[i.jsx("span",{className:"ai-generator__step-number",children:H<t?"":H}),i.jsxs("span",{className:"ai-generator__step-label",children:[H===1&&"Paramtres",H===2&&"Chapitre",H===3&&"Type",H===4&&"Options",H===5&&"Rsultat"]})]},H))}),z&&i.jsxs("div",{className:"ai-generator__error",children:[i.jsx("span",{className:"ai-generator__error-icon",children:""}),z,i.jsx("button",{className:"ai-generator__error-close",onClick:()=>D(null),children:""})]}),i.jsxs("div",{className:"ai-generator__content",children:[t===1&&i.jsxs("div",{className:"ai-generator__step-content",children:[i.jsx("h2",{className:"ai-generator__step-title",children:" Paramtres de la leon"}),i.jsxs("div",{className:"ai-generator__field",children:[i.jsxs("label",{className:"ai-generator__label",children:["Discipline ",i.jsx("span",{className:"ai-generator__required",children:"*"})]}),me?i.jsxs("div",{className:"ai-generator__loading",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Chargement des disciplines..."})]}):ve.length===0?i.jsx("div",{className:"ai-generator__empty",children:i.jsx("p",{children:"Aucune discipline disponible."})}):i.jsx("div",{className:"ai-generator__discipline-grid",children:ve.map(H=>i.jsx("button",{className:`ai-generator__discipline-card ${o?.nom===H.nom?"ai-generator__discipline-card--selected":""}`,onClick:()=>xe(H),children:i.jsx("span",{className:"ai-generator__discipline-name",children:H.nom})},H.id))})]}),i.jsxs("div",{className:"ai-generator__field",children:[i.jsxs("label",{className:"ai-generator__label",children:["Classe ",i.jsx("span",{className:"ai-generator__required",children:"*"})]}),i.jsx("div",{className:"ai-generator__classe-grid",children:HK.map(H=>i.jsx("button",{className:`ai-generator__classe-btn ${f===H?"ai-generator__classe-btn--selected":""}`,onClick:()=>{m(H),D(null)},children:H},H))})]}),i.jsxs("div",{className:"ai-generator__field",children:[i.jsxs("label",{htmlFor:"dureeCours",className:"ai-generator__label",children:["Dure de la leon (minutes) ",i.jsx("span",{className:"ai-generator__required",children:"*"})]}),i.jsxs("div",{className:"ai-generator__duree-group",children:[i.jsx("div",{className:"ai-generator__duree-presets",children:GK.map(H=>i.jsxs("button",{className:`ai-generator__duree-btn ${p===H?"ai-generator__duree-btn--selected":""}`,onClick:()=>{h(H),D(null)},children:[H," min"]},H))}),i.jsx("input",{id:"dureeCours",type:"number",className:"ai-generator__input ai-generator__input--small",min:"15",max:"300",step:"5",value:p,onChange:H=>{const ge=parseInt(H.target.value);h(isNaN(ge)?"":ge),D(null)},placeholder:"Autre dure..."})]})]}),i.jsxs("div",{className:"ai-generator__nav",children:[i.jsx("div",{})," ",i.jsx("button",{className:"btn btn--primary",onClick:pe,disabled:!o||!f||!p,children:"Continuer "})]})]}),t===2&&i.jsxs("div",{className:"ai-generator__step-content",children:[i.jsx("h2",{className:"ai-generator__step-title",children:" Prcisez le chapitre"}),i.jsxs("div",{className:"ai-generator__recap",children:[i.jsx("span",{className:"ai-generator__recap-label",children:"Discipline :"}),i.jsx("span",{className:"ai-generator__recap-value",children:o?.nom}),i.jsx("span",{className:"ai-generator__recap-label",children:"Classe :"}),i.jsx("span",{className:"ai-generator__recap-value",children:f}),i.jsx("span",{className:"ai-generator__recap-label",children:"Dure :"}),i.jsxs("span",{className:"ai-generator__recap-value",children:[p," minutes"]})]}),i.jsxs("div",{className:"ai-generator__field",children:[i.jsx("label",{htmlFor:"chapitre",className:"ai-generator__label",children:"Titre du chapitre ou du thme"}),i.jsx("input",{id:"chapitre",type:"text",className:"ai-generator__input",placeholder:"Ex: Les fonctions affines, Le rcit autobiographique, La tectonique des plaques...",value:v,onChange:H=>x(H.target.value),onKeyDown:H=>H.key==="Enter"&&ye(),autoFocus:!0})]}),i.jsxs("div",{className:"ai-generator__nav",children:[i.jsx("button",{className:"btn btn--outline",onClick:U,children:" Retour"}),i.jsx("button",{className:"btn btn--primary",onClick:ye,disabled:!v.trim(),children:"Continuer "})]})]}),t===3&&i.jsxs("div",{className:"ai-generator__step-content",children:[i.jsx("h2",{className:"ai-generator__step-title",children:" Quel type de contenu ?"}),i.jsxs("div",{className:"ai-generator__recap",children:[i.jsx("span",{className:"ai-generator__recap-label",children:"Discipline :"}),i.jsx("span",{className:"ai-generator__recap-value",children:o?.nom}),i.jsx("span",{className:"ai-generator__recap-label",children:"Classe :"}),i.jsx("span",{className:"ai-generator__recap-value",children:f}),i.jsx("span",{className:"ai-generator__recap-label",children:"Dure :"}),i.jsxs("span",{className:"ai-generator__recap-value",children:[p," minutes"]}),i.jsx("span",{className:"ai-generator__recap-label",children:"Chapitre :"}),i.jsx("span",{className:"ai-generator__recap-value",children:v})]}),i.jsx("div",{className:"ai-generator__type-grid",children:Object.keys(jl).map(H=>i.jsxs("button",{className:"ai-generator__type-card",onClick:()=>fe(H),children:[i.jsx("span",{className:"ai-generator__type-icon",children:Nd[H]}),i.jsx("span",{className:"ai-generator__type-name",children:jl[H]}),i.jsx("span",{className:"ai-generator__type-desc",children:RK[H]})]},H))}),i.jsx("div",{className:"ai-generator__nav",children:i.jsx("button",{className:"btn btn--outline",onClick:U,children:" Retour"})})]}),t===4&&i.jsxs("div",{className:"ai-generator__step-content",children:[i.jsx("h2",{className:"ai-generator__step-title",children:" Options de gnration"}),i.jsxs("div",{className:"ai-generator__recap",children:[i.jsx("span",{className:"ai-generator__recap-label",children:"Discipline :"}),i.jsx("span",{className:"ai-generator__recap-value",children:o?.nom}),i.jsx("span",{className:"ai-generator__recap-label",children:"Classe :"}),i.jsx("span",{className:"ai-generator__recap-value",children:f}),i.jsx("span",{className:"ai-generator__recap-label",children:"Dure :"}),i.jsxs("span",{className:"ai-generator__recap-value",children:[p," minutes"]}),i.jsx("span",{className:"ai-generator__recap-label",children:"Chapitre :"}),i.jsx("span",{className:"ai-generator__recap-value",children:v}),i.jsx("span",{className:"ai-generator__recap-label",children:"Type :"}),i.jsxs("span",{className:"ai-generator__recap-value",children:[b&&Nd[b]," ",b&&jl[b]]})]}),i.jsxs("div",{className:"ai-generator__options",children:[i.jsxs("div",{className:"ai-generator__field",children:[i.jsx("label",{className:"ai-generator__label",children:"Niveau de difficult"}),i.jsx("div",{className:"ai-generator__radio-group",children:["facile","moyen","difficile"].map(H=>i.jsxs("label",{className:"ai-generator__radio",children:[i.jsx("input",{type:"radio",name:"difficulte",value:H,checked:N.difficulte===H,onChange:()=>S(ge=>({...ge,difficulte:H}))}),i.jsxs("span",{className:"ai-generator__radio-label",children:[H==="facile"&&" Facile",H==="moyen"&&" Moyen",H==="difficile"&&" Difficile"]})]},H))})]}),b==="sujet_examen"&&i.jsxs("div",{className:"ai-generator__field",children:[i.jsx("label",{className:"ai-generator__label",children:"Type d'examen"}),i.jsx("div",{className:"ai-generator__radio-group",children:["BFEM","BAC"].map(H=>i.jsxs("label",{className:"ai-generator__radio",children:[i.jsx("input",{type:"radio",name:"typeExamen",value:H,checked:N.typeExamen===H,onChange:()=>S(ge=>({...ge,typeExamen:H}))}),i.jsx("span",{className:"ai-generator__radio-label",children:H})]},H))})]}),i.jsxs("div",{className:"ai-generator__field",children:[i.jsx("label",{htmlFor:"objectifs",className:"ai-generator__label",children:"Objectifs pdagogiques (optionnel)"}),i.jsx("textarea",{id:"objectifs",className:"ai-generator__textarea",rows:3,placeholder:"Ex: L'lve doit tre capable de rsoudre une quation du 1er degr...",value:N.objectifs||"",onChange:H=>S(ge=>({...ge,objectifs:H.target.value||void 0}))})]}),i.jsxs("div",{className:"ai-generator__field",children:[i.jsx("label",{htmlFor:"consignes",className:"ai-generator__label",children:"Consignes spciales (optionnel)"}),i.jsx("textarea",{id:"consignes",className:"ai-generator__textarea",rows:2,placeholder:"Ex: Inclure un exercice sur les statistiques, utiliser des exemples avec le football...",value:N.consignesSpeciales||"",onChange:H=>S(ge=>({...ge,consignesSpeciales:H.target.value||void 0}))})]})]}),i.jsxs("div",{className:"ai-generator__nav",children:[i.jsx("button",{className:"btn btn--outline",onClick:U,children:" Retour"}),i.jsx("button",{className:"btn btn--primary btn--lg",onClick:we,disabled:A,children:A?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner spinner--sm"}),"Gnration en cours..."]}):" Gnrer le contenu"})]}),A&&i.jsxs("div",{className:"ai-generator__generating",children:[i.jsxs("div",{className:"ai-generator__generating-animation",children:[i.jsx("span",{children:""}),i.jsx("span",{children:""}),i.jsx("span",{children:""})]}),i.jsxs("p",{children:["L'IA rdige votre"," ",b&&jl[b].toLowerCase(),"..."]}),i.jsx("p",{className:"ai-generator__generating-hint",children:"Cela peut prendre 15  30 secondes."})]})]}),t===5&&C&&i.jsxs("div",{className:"ai-generator__step-content",children:[i.jsx("h2",{className:"ai-generator__step-title",children:" Contenu gnr"}),i.jsxs("div",{className:"ai-generator__recap ai-generator__recap--success",children:[i.jsx("span",{className:"ai-generator__recap-label",children:"Type :"}),i.jsxs("span",{className:"ai-generator__recap-value",children:[b&&Nd[b]," ",b&&jl[b]]}),i.jsx("span",{className:"ai-generator__recap-label",children:"Discipline :"}),i.jsx("span",{className:"ai-generator__recap-value",children:o?.nom}),i.jsx("span",{className:"ai-generator__recap-label",children:"Classe :"}),i.jsx("span",{className:"ai-generator__recap-value",children:f}),i.jsx("span",{className:"ai-generator__recap-label",children:"Dure :"}),i.jsxs("span",{className:"ai-generator__recap-value",children:[p," minutes"]}),i.jsx("span",{className:"ai-generator__recap-label",children:"Chapitre :"}),i.jsx("span",{className:"ai-generator__recap-value",children:v})]}),i.jsxs("div",{className:"ai-generator__preview",children:[i.jsxs("div",{className:"ai-generator__preview-header",children:[i.jsx("h3",{children:"Prvisualisation"}),i.jsx("button",{className:"btn btn--outline btn--sm",onClick:()=>{const H=C.type==="quiz"?JSON.stringify(C.data.questions,null,2):C.data.content||"";navigator.clipboard.writeText(H),alert("Contenu copi dans le presse-papier !")},children:" Copier"})]}),i.jsx("div",{className:"ai-generator__preview-body",children:C.type==="quiz"&&C.data.questions?i.jsxs("div",{className:"ai-generator__quiz-preview",children:[i.jsxs("p",{className:"ai-generator__quiz-count",children:[C.data.questions.length," questions gnres"]}),C.data.questions.map((H,ge)=>i.jsxs("div",{className:"ai-generator__quiz-item",children:[i.jsxs("div",{className:"ai-generator__quiz-question",children:[i.jsxs("strong",{children:["Q",ge+1,"."]})," ",H.question,i.jsx("span",{className:`ai-generator__quiz-badge ai-generator__quiz-badge--${H.difficulte}`,children:H.difficulte})]}),i.jsx("div",{className:"ai-generator__quiz-options",children:H.options.map((Pe,qe)=>i.jsxs("div",{className:`ai-generator__quiz-option ${qe===H.reponseCorrecte?"ai-generator__quiz-option--correct":""}`,children:[i.jsx("span",{className:"ai-generator__quiz-option-letter",children:String.fromCharCode(65+qe)}),Pe,qe===H.reponseCorrecte&&" "]},qe))}),H.explication&&i.jsxs("div",{className:"ai-generator__quiz-explanation",children:[" ",H.explication]})]},ge))]}):i.jsx("div",{className:"ai-generator__markdown-preview",dangerouslySetInnerHTML:{__html:ne(C.data.content||"")}})})]}),i.jsxs("div",{className:"ai-generator__actions",children:[q?i.jsxs("div",{className:"ai-generator__save-success",children:[i.jsx("span",{children:" Sauvegard avec succs !"}),C.type==="quiz"&&X&&i.jsx(ke,{to:`/quiz/${X}`,className:"btn btn--outline btn--sm",children:" Voir le quiz"})]}):i.jsx("button",{className:"btn btn--primary btn--lg",onClick:re,disabled:L,children:L?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner spinner--sm"}),"Sauvegarde..."]}):i.jsx(i.Fragment,{children:" Sauvegarder dans PedaClic"})}),i.jsx("button",{className:"btn btn--outline",onClick:le,children:" Nouvelle gnration"})]})]})]}),oe&&i.jsx("div",{className:"ai-generator__modal-overlay",onClick:()=>ue(!1),children:i.jsxs("div",{className:"ai-generator__modal",onClick:H=>H.stopPropagation(),children:[i.jsxs("div",{className:"ai-generator__modal-header",children:[i.jsx("h2",{children:" Historique des gnrations"}),i.jsx("button",{className:"ai-generator__modal-close",onClick:()=>ue(!1),children:""})]}),i.jsx("div",{className:"ai-generator__modal-body",children:V.length===0?i.jsx("p",{className:"ai-generator__empty",children:"Aucun contenu gnr pour le moment."}):i.jsx("div",{className:"ai-generator__history-list",children:V.map(H=>i.jsxs("div",{className:"ai-generator__history-item",children:[i.jsxs("div",{className:"ai-generator__history-info",children:[i.jsxs("span",{className:"ai-generator__history-type",children:[Nd[H.type]," ",jl[H.type]]}),i.jsxs("span",{className:"ai-generator__history-details",children:[H.discipline," (",H.classe,")  ",H.chapitre]}),i.jsx("span",{className:"ai-generator__history-date",children:H.createdAt?.toDate?H.createdAt.toDate().toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Date inconnue"})]}),i.jsx("button",{className:"btn btn--danger btn--sm",onClick:()=>H.id&&R(H.id),title:"Supprimer",children:""})]},H.id))})})]})})]}):i.jsx("div",{className:"ai-generator",children:i.jsxs("div",{className:"ai-generator__gate",children:[i.jsx("div",{className:"ai-generator__gate-icon",children:""}),i.jsx("h2",{children:"Fonctionnalit Premium"}),i.jsx("p",{children:"Le gnrateur de contenu IA est rserv aux abonns Premium. Gnrez des cours, des exercices, des quiz et des sujets d'examen adapts au programme sngalais en un clic !"}),i.jsxs("div",{className:"ai-generator__gate-price",children:[i.jsx("span",{className:"price",children:"2 000 FCFA"}),i.jsx("span",{className:"period",children:"/mois"})]}),i.jsx(ke,{to:"/premium",className:"btn btn--primary btn--lg",children:"Devenir Premium"})]})}):i.jsx("div",{className:"ai-generator",children:i.jsxs("div",{className:"ai-generator__gate",children:[i.jsx("div",{className:"ai-generator__gate-icon",children:""}),i.jsx("h2",{children:"Connexion requise"}),i.jsx("p",{children:"Vous devez tre connect pour accder au gnrateur de contenu IA."}),i.jsx(ke,{to:"/connexion",className:"btn btn--primary",children:"Se connecter"})]})})},FK=()=>{const[e,t]=j.useState(null),[r,n]=j.useState(!1),[l,o]=j.useState(!1),[u,f]=j.useState(!1),m=()=>/iPhone|iPad|iPod/.test(navigator.userAgent)&&!window.MSStream,p=()=>window.matchMedia("(display-mode: standalone)").matches||navigator.standalone===!0,h=j.useCallback(()=>{try{return parseInt(localStorage.getItem("pedaclic_visit_count")||"0",10)}catch{return 0}},[]),v=j.useCallback(()=>{try{const N=h()+1;localStorage.setItem("pedaclic_visit_count",N.toString())}catch{}},[h]),x=()=>{try{return localStorage.getItem("pedaclic_install_dismissed")==="true"}catch{return!1}};j.useEffect(()=>{if(p()||x())return;v();const N=A=>{A.preventDefault(),t(A),h()>=2&&n(!0)};window.addEventListener("beforeinstallprompt",N),m()&&h()>=2&&(o(!0),n(!0));const S=()=>{n(!1),t(null)};return window.addEventListener("appinstalled",S),()=>{window.removeEventListener("beforeinstallprompt",N),window.removeEventListener("appinstalled",S)}},[h,v]);const b=async()=>{if(e){f(!0);try{await e.prompt();const{outcome:N}=await e.userChoice;N==="accepted"&&n(!1)}catch(N){console.error("Erreur installation PWA:",N)}finally{f(!1),t(null)}}},_=()=>{n(!1);try{localStorage.setItem("pedaclic_install_dismissed","true")}catch{}};return r?i.jsx("div",{className:"install-prompt",children:i.jsxs("div",{className:"install-prompt__container",children:[i.jsxs("div",{className:"install-prompt__content",children:[i.jsx("div",{className:"install-prompt__icon",children:i.jsx(Pk,{size:24})}),i.jsxs("div",{className:"install-prompt__text",children:[i.jsx("h3",{className:"install-prompt__title",children:"Installer PedaClic"}),i.jsx("p",{className:"install-prompt__description",children:l?"Accde  tes cours mme sans connexion !":"Installe l'app pour un accs rapide, mme hors-ligne !"})]})]}),i.jsxs("div",{className:"install-prompt__actions",children:[!l&&e&&i.jsx("button",{className:"install-prompt__btn install-prompt__btn--primary",onClick:b,disabled:u,children:u?"Installation...":"Installer"}),l&&i.jsx("div",{className:"install-prompt__ios",children:i.jsxs("p",{className:"install-prompt__ios-text",children:["Appuie sur ",i.jsx(kk,{size:16,className:"install-prompt__ios-icon"})," puis",i.jsxs("span",{className:"install-prompt__ios-highlight",children:[i.jsx(Jo,{size:14})," Sur l'cran d'accueil"]})]})}),i.jsx("button",{className:"install-prompt__btn install-prompt__btn--close",onClick:_,"aria-label":"Fermer la bannire d'installation",children:i.jsx(Si,{size:20})})]})]})}):null};function VK(){const[e,t]=j.useState(typeof navigator<"u"?navigator.onLine:!0);return j.useEffect(()=>{const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r),window.addEventListener("offline",n),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}},[]),e}const YK=()=>{const e=VK(),[t,r]=j.useState(!1),[n,l]=j.useState(!1);return j.useEffect(()=>{if(!e)l(!0),r(!1);else if(n){r(!0);const o=setTimeout(()=>{r(!1),l(!1)},3e3);return()=>clearTimeout(o)}},[e,n]),e&&!t?null:i.jsx("div",{className:`network-indicator ${e?"network-indicator--online":"network-indicator--offline"}`,children:i.jsx("div",{className:"network-indicator__content",children:e?i.jsxs(i.Fragment,{children:[i.jsx(qk,{size:14}),i.jsx("span",{children:"Connexion rtablie"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Rk,{size:14}),i.jsx("span",{children:"Pas de connexion  mode hors-ligne"})]})})})},KK=()=>i.jsxs(Vk,{children:[i.jsx(FK,{}),i.jsx(YK,{}),i.jsxs(FP,{children:[i.jsx(ft,{path:"/",element:i.jsx(An,{children:i.jsx(Wk,{})})}),i.jsx(ft,{path:"/disciplines",element:i.jsx(An,{children:i.jsx(eq,{})})}),i.jsx(ft,{path:"/disciplines/:id",element:i.jsx(An,{children:i.jsx(nq,{})})}),i.jsx(ft,{path:"/premium",element:i.jsx(An,{children:i.jsx(sq,{})})}),i.jsx(ft,{path:"/connexion",element:i.jsx(Zk,{})}),i.jsx(ft,{path:"/inscription",element:i.jsx(Jk,{})}),i.jsx(ft,{path:"/admin",element:i.jsx(wn,{children:i.jsx(Cn,{children:i.jsx(oq,{})})})}),i.jsx(ft,{path:"/admin/disciplines",element:i.jsx(wn,{children:i.jsx(Cn,{children:i.jsx(cq,{})})})}),i.jsx(ft,{path:"/admin/chapitres",element:i.jsx(wn,{children:i.jsx(Cn,{children:i.jsx(uq,{})})})}),i.jsx(ft,{path:"/admin/ressources",element:i.jsx(wn,{children:i.jsx(Cn,{children:i.jsx(dq,{})})})}),i.jsx(ft,{path:"/admin/quiz",element:i.jsx(wn,{children:i.jsx(Cn,{children:i.jsx(gq,{})})})}),i.jsx(ft,{path:"/admin/quiz/nouveau",element:i.jsx(wn,{children:i.jsx(Cn,{children:i.jsx(Q_,{})})})}),i.jsx(ft,{path:"/admin/quiz/modifier/:quizId",element:i.jsx(wn,{children:i.jsx(Cn,{children:i.jsx(Q_,{})})})}),i.jsx(ft,{path:"/admin/quiz-avance",element:i.jsx(wn,{children:i.jsx(Cn,{children:i.jsx(Fq,{})})})}),i.jsx(ft,{path:"/admin/utilisateurs",element:i.jsx(wn,{children:i.jsx(Cn,{children:i.jsx(wq,{})})})}),i.jsx(ft,{path:"/admin/resultats",element:i.jsx(wn,{children:i.jsx(Cn,{children:i.jsx(Aq,{})})})}),i.jsx(ft,{path:"/admin/settings",element:i.jsx(wn,{children:i.jsx(Cn,{children:i.jsx(Cq,{})})})}),i.jsx(ft,{path:"/admin/premium",element:i.jsx(__,{to:"/admin/utilisateurs?filter=premium",replace:!0})}),i.jsx(ft,{path:"/quiz/:quizId",element:i.jsx(An,{children:i.jsx(m3,{})})}),i.jsx(ft,{path:"/quiz-avance/:quizId",element:i.jsx(An,{children:i.jsx(Jq,{})})}),i.jsx(ft,{path:"/eleve/dashboard",element:i.jsx(An,{children:i.jsx(OK,{})})}),i.jsx(ft,{path:"/eleve/suivi",element:i.jsx(An,{children:i.jsx(zK,{})})}),i.jsx(ft,{path:"/prof/dashboard",element:i.jsx(Yk,{children:i.jsx(An,{children:i.jsx(PK,{})})})}),i.jsx(ft,{path:"/parent/dashboard",element:i.jsx(Fy,{allowedRoles:["parent","admin"],children:i.jsx(An,{children:i.jsx(kK,{})})})}),i.jsx(ft,{path:"/generateur",element:i.jsx(An,{children:i.jsx(QK,{})})}),i.jsx(ft,{path:"*",element:i.jsx(__,{to:"/",replace:!0})})]})]}),MD=document.getElementById("root");if(!MD)throw new Error("L'lment #root n'existe pas");const XK=Qk.createRoot(MD);XK.render(i.jsx(VP.StrictMode,{children:i.jsx(YP,{children:i.jsx(KK,{})})}));
//# sourceMappingURL=index-CYD-WpS1.js.map
